           try {
window.advBidxc = window.advBidxc || {};
window.advBidxc.isLoaded = true;
var configSettings = {"provider":{"730776647":{"99":{"prvid":"99","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"300x600","ext_pl_code":""}],"test_mode":true,"hb":true,"prf":false},"23":{"prvid":"23","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"300x600","ext_pl_code":"10581326"}],"test_mode":false,"hb":true,"prf":false,"ext_pub_code":"925390"},"58":{"prvid":"58","pvsh":10,"pbsh":100,"dpsh":0,"sizes":[{"size":"300x600","ext_pl_code":"10854104"},{"size":"300x250","ext_pl_code":"10854104"}],"test_mode":false,"hb":true,"prf":false,"ext_pub_code":"948377"},"28":{"prvid":"28","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"300x600","ext_pl_code":"464943"}],"test_mode":false,"hb":true,"prf":true,"ext_pub_code":"8CUL3HXFY"},"29":{"prvid":"29","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"300x600","ext_pl_code":"99922_479222_10"}],"test_mode":false,"hb":true,"prf":false,"ext_pub_code":"12778"},"106":{"prvid":"106","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"300x600","ext_pl_code":"538707280"}],"test_mode":false,"hb":true,"prf":false,"ext_pub_code":"537147079"},"10000":{"prvid":"10000","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"300x600","ext_pl_code":"358625702"}],"test_mode":true,"hb":true,"prf":false,"auto":100,"ext_pub_code":"8CUFUSB43"},"3":{"path":"\/45361917\/8CUL3HXFY-730776647-div-gpt-ad-1452217192273-12-300x600","adtagId":"170606837","increment":50,"prediction":{"seed":3,"increment":40,"decrement":25}}},"150760950":{"99":{"prvid":"99","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"728x90","ext_pl_code":""}],"test_mode":true,"hb":true,"prf":false},"23":{"prvid":"23","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"728x90","ext_pl_code":"10581342"}],"test_mode":false,"hb":true,"prf":false,"ext_pub_code":"925390"},"58":{"prvid":"58","pvsh":10,"pbsh":100,"dpsh":0,"sizes":[{"size":"728x90","ext_pl_code":"10854105"},{"size":"970x250","ext_pl_code":"10854105"}],"test_mode":false,"hb":true,"prf":false,"ext_pub_code":"948377"},"28":{"prvid":"28","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"728x90","ext_pl_code":"464948"}],"test_mode":false,"hb":true,"prf":true,"ext_pub_code":"8CUL3HXFY"},"29":{"prvid":"29","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"728x90","ext_pl_code":"99922_479222_2"}],"test_mode":false,"hb":true,"prf":false,"ext_pub_code":"12778"},"106":{"prvid":"106","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"728x90","ext_pl_code":"538733810"}],"test_mode":false,"hb":true,"prf":false,"ext_pub_code":"537147079"},"10000":{"prvid":"10000","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"728x90","ext_pl_code":"577443927"}],"test_mode":true,"hb":true,"prf":false,"auto":100,"ext_pub_code":"8CUFUSB43"},"3":{"path":"\/45361917\/8CUL3HXFY-150760950-div-gpt-ad-1452217192273-11-728x90","adtagId":"170847917","increment":50,"prediction":{"seed":3,"increment":40,"decrement":25}}},"617109511":{"99":{"prvid":"99","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"300x250","ext_pl_code":""}],"test_mode":true,"hb":true,"prf":false},"23":{"prvid":"23","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"300x250","ext_pl_code":"10580987"}],"test_mode":false,"hb":true,"prf":false,"ext_pub_code":"925390"},"58":{"prvid":"58","pvsh":10,"pbsh":100,"dpsh":0,"sizes":[{"size":"300x250","ext_pl_code":"10854103"}],"test_mode":false,"hb":true,"prf":false,"ext_pub_code":"948377"},"28":{"prvid":"28","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"300x250","ext_pl_code":"464942"}],"test_mode":false,"hb":true,"prf":true,"ext_pub_code":"8CUL3HXFY"},"29":{"prvid":"29","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"300x250","ext_pl_code":"99922_479222_15"}],"test_mode":false,"hb":true,"prf":false,"ext_pub_code":"12778"},"106":{"prvid":"106","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"300x250","ext_pl_code":"538707278"}],"test_mode":false,"hb":true,"prf":false,"ext_pub_code":"537147079"},"10000":{"prvid":"10000","pvsh":0,"pbsh":100,"dpsh":0,"sizes":[{"size":"300x250","ext_pl_code":"438204721"}],"test_mode":true,"hb":true,"prf":false,"auto":100,"ext_pub_code":"8CUFUSB43"},"3":{"path":"\/45361917\/8CUL3HXFY-617109511-div-gpt-ad-1452217192273-5-300x250","adtagId":"170606237","increment":50,"prediction":{"seed":3,"increment":40,"decrement":25}}}},"log":{"pr":1,"ad":1,"sw":0,"prf":0,"aw":1,"gptr":0,"gpts":100,"ck":0,"exp":0,"ap":1},"adSlots":{"730776647":{"dfpDivIds":"div-gpt-ad-1452217192273-12,","custTargs":[{"key":"regex:adunit_path","value":"\/1038375\/ROS_Top_MR_[0-9]*$"}],"code":"div-gpt-ad-1452217192273-12_300x600","crid":"730776647","sizes":[[300,600],[300,250]],"g":false},"150760950":{"dfpDivIds":"div-gpt-ad-1452217192273-11,","custTargs":[{"key":"regex:adunit_path","value":"\/1038375\/ROS_Top_Leaderboard_[0-9]*$"}],"code":"div-gpt-ad-1452217192273-11_728x90","crid":"150760950","sizes":[[728,90],[970,250]],"g":false},"617109511":{"dfpDivIds":"div-gpt-ad-1452217192273-5,","custTargs":[{"key":"regex:adunit_path","value":"\/1038375\/ROS_Lower_MR_[0-9]*$"}],"code":"div-gpt-ad-1452217192273-5_300x250","crid":"617109511","sizes":[[300,250]],"g":false}},"providerMap":{"99":{"prvid":"99","pvnm":"TEST_BIDDER","price_macro":"${AUCTION_PRICE}","mNet":true,"clientSide":true,"adv_dn":"Testbidder.com","bidder":"testbidder"},"23":{"prvid":"23","pvnm":"APPNEXUS_PRIVATE","price_macro":"${AUCTION_PRICE}","mNet":false,"clientSide":false,"adv_dn":"appnexus.com","bidder":"rtbsprivatebidder"},"57":{"prvid":"57","pvnm":"C1EXCHANGE","price_macro":"${AUCTION_PRICE}","mNet":true,"clientSide":false,"adv_dn":"c1exchange.com","bidder":"rtbsbidder"},"58":{"prvid":"58","pvnm":"DISTRICTM_PRIVATE","price_macro":"${AUCTION_PRICE}","mNet":false,"clientSide":false,"adv_dn":"districtm.ca","bidder":"rtbsprivatebidder"},"4":{"prvid":"4","pvnm":"YBNCA-AUTO","price_macro":"${AUCTION_PRICE}","mNet":true,"clientSide":false,"adv_dn":"media.net","bidder":"rtbsbidder"},"28":{"prvid":"28","pvnm":"PULSEPOINT","price_macro":"${AUCTION_PRICE}","mNet":true,"clientSide":false,"adv_dn":"pulsepoint.com","bidder":"rtbsbidder"},"29":{"prvid":"29","pvnm":"RUBICON_PRIVATE","price_macro":"${AUCTION_PRICE}","mNet":false,"clientSide":false,"adv_dn":"rubicon.com","bidder":"rtbsprivatebidder"},"106":{"prvid":"106","pvnm":"OPENX_PRIVATE","price_macro":"${AUCTION_PRICE}","mNet":false,"clientSide":false,"adv_dn":"openx.com","bidder":"rtbsprivatebidder"},"10000":{"prvid":"10000","pvnm":"YBNCA","price_macro":"${AUCTION_PRICE}","mNet":true,"clientSide":false,"adv_dn":"media.net","bidder":"rtbsbidder"},"9":{"prvid":"9","pvnm":"YBNCA","price_macro":"${AUCTION_PRICE}","mNet":true,"clientSide":false,"adv_dn":"media.net","bidder":"rtbsbidder"}},"timeout":{"prfd":1000,"ngfd":1000,"gfd":1000,"grd":1000,"gptrd":400},"info":{"cid":"8CUL3HXFY","apsid":"7539"},"misc":{"dcto":0,"adlogSt":0,"grc":1,"rvc":1,"ogf":1,"lac":0},"features":{"inf":1},"hbInfo":{"hdhome":"","version":"4.1"},"targetingKeys":{"23":{"name":"appnexusprivatebidder","bid":"mnet_abd","epc":"mnet_apc","size":"mnet_asz","ltime":"mnet_alt","dealType":"mnet_aat","dealId":"mnet_adi","test":"mnetAtest"},"29":{"name":"rubiconprivatebidder","bid":"mnet_rbd","epc":"mnet_rpc","size":"mnet_rsz","ltime":"mnet_rlt","dealType":"mnet_rat","dealId":"mnet_rdi","test":"mnetRtest"},"58":{"name":"districtmprivatebidder","bid":"mnet_dmbd","epc":"mnet_dmpc","size":"mnet_dmsz","ltime":"mnet_dmlt","dealType":"mnet_dmat","dealId":"mnet_dmdi","test":"mnetDtest"},"106":{"name":"openxprivatebidder","bid":"mnet_oxbd","epc":"mnet_oxpc","size":"mnet_oxsz","ltime":"mnet_oxlt","dealType":"mnet_oxat","dealId":"mnet_oxdi","test":"mnetOxTest"}},"defaultBidderSetting":{"rtbsbidder":{"bidApiUrl":"https:\/\/contextual.media.net\/rtbsapub.php"},"rtbsprivatebidder":{"bidApiUrl":"https:\/\/contextual.media.net\/rtbsapub.php"}},"logUrls":{"providerRequestPath":"https:\/\/qsearch-a.akamaihd.net\/log?logid=prlog","auctionParticipantPath":"https:\/\/qsearch-a.akamaihd.net\/log?logid=aplog","auctionDecisionPath":"https:\/\/qsearch-a.akamaihd.net\/log?logid=adlog","providerFetchRequestPath":"https:\/\/qsearch-a.akamaihd.net\/log?logid=prflog","auctionWinnerPath":"https:\/\/qsearch-a.akamaihd.net\/log?logid=awlog","gptRequestPath":"https:\/\/qsearch-a.akamaihd.net\/log?logid=gptrlog","casaleDebugUrl":"https:\/\/qsearch-a.akamaihd.net\/log?logid=kfk&evtid=cslog","amazonDebugUrl":"https:\/\/qsearch-a.akamaihd.net\/log?logid=kfk&evtid=amzlog","gptSlotPath":"https:\/\/qsearch-a.akamaihd.net\/log?logid=kfk&evtid=gptslog","errorLogUrl":"https:\/\/qsearch-a.akamaihd.net\/log?logid=kfk&evtid=errorBidLog","tpUrl":"https:\/\/qsearch-a.akamaihd.net\/log?logid=kfk&evtid=rtbstl","casaleLoggingPixel":"https:\/\/as.casalemedia.com\/headerstats","slotLoggingPixel":"https:\/\/qsearch-a.akamaihd.net\/log?logid=kfk&evtid=slotlog","expiredBidsPath":"https:\/\/qsearch-a.akamaihd.net\/log?logid=kfk&evtid=explog","initLoggingPixel":"https:\/\/qsearch-a.akamaihd.net\/log?logid=kfk&evtid=initlog"},"_mNVsid":"1355998220516216000V10","_dataCk":"","_apnCk":"0","viewid":"1493037067","_mNVisitIdData":"183.82.2.170","_ip2c":"IN"};
var _mNRequire,_mNDefine;!function(){"use strict";function n(n){return"[object Array]"===Object.prototype.toString.call(n)}function e(n){return void 0!==n&&""!==n&&null!==n}function t(n){return"function"==typeof n}function r(r,i,o){return t(i)&&(o=i,i=[]),e(r)&&n(i)&&t(o)?void(u[r]={deps:i,callback:o}):!1}function i(n,e){var r,c=[];for(var f in n)if(n.hasOwnProperty(f)){if(r=n[f],"object"==typeof r||"undefined"==typeof r){c.push(r);continue}void 0!==o[r]?c.push(o[r]):(o[r]=i(u[r].deps,u[r].callback),c.push(o[r]))}return t(e)?e.apply(this,c):c}var o={},u={};_mNRequire=i,_mNDefine=r}();_mNDefine("_mNRP",[window,document,{}],function(e,n){"use strict";function r(e){c=e}function t(e){"undefined"==typeof e.logLevel&&(e={logLevel:3,errorVal:e}),e.logLevel>=3&&p[e.logLevel-1].push(e)}function o(){var r,t=0;for(r=0;g>r;r++)t+=p[r].length;if(0!==t){var o,a,i,s,u=new Image,h="https:"===n.location.protocol?"https://qsearch-a.akamaihd.net/nerrping.php":"http://qsearch.media.net/nerrping.php",m="",v=0;for(r=g-1;r>=0;r--){for(t=p[r].length,o=0;t>o;){if(s=1===r?p[r][o]:{logLevel:p[r][o].logLevel,errorVal:{name:p[r][o].errorVal.name,type:c,message:p[r][o].errorVal.message,line:p[r][o].errorVal.lineNumber,description:p[r][o].errorVal.description,stack:p[r][o].errorVal.stack}},i=l(s),!(i.length+m.length<=1200)&&m.length){v=1;break}0!==m.length&&(m+=","),m+=i,p[r].shift(),t--}if(v)break}m=encodeURIComponent("["+m+"]"),a=h+"?d="+m+"&userAgent="+f+"&requrl="+encodeURIComponent(e.location.href)+"&img=logo.gif",u.src=a}}function l(e){return"object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify(e):void 0}function a(e,n,r){this.name=e,this.message=n,this.logLevel=r}function i(){var e,n,r=Array.prototype.slice.call(arguments),o=[],l=r.length,i=null,s=null;"object"==typeof r[l-1]&&r[l-1].constructor===a&&(e=r[l-1],l--),"function"==typeof r[0]?(n=r.shift(),l--):(i=r.shift(),n=r.shift(),l-=2),o=r.slice(0,l);try{return n.apply(i,o)}catch(c){return e&&(c.name=e.name+" ("+c.name+")",c.message=e.message+" ("+c.message+")",s=e.logLevel),t({logLevel:s||3,errorVal:c}),new a}}var s,c="",g=3,f=encodeURIComponent(navigator.userAgent),p=[];for(s=0;g>s;s++)p[s]=[];var u=function(){o(),setTimeout(u,2500)};return e.addEventListener("load",u),{execSafe:i,pushError:t,setType:r}});_mNDefine("util",["_mNRP",window,document,{}],function(e,t,n){"use strict";function r(){var e,t,n={},r=!1;this.start=function(){e=(new Date).getTime(),r=!0},this.stop=function(){t=(new Date).getTime(),r=!1},this.diff=function(){return(new Date).getTime()-e},this.tick=function(e){n[e]={},n[e].startTime=r?this.diff():-1},this.tock=function(e){n.hasOwnProperty(e)&&(n[e].endTime=-1===n[e].startTime?-1:this.diff())},this.time=function(e){return n.hasOwnProperty(e)?(n[e].endTime||this.tock(e),n[e].endTime-n[e].startTime):-1},this.getTime=function(e){return n.hasOwnProperty(e)?this.diff()-n[e].startTime:-1},this.getAllTime=function(){return n}}function o(e,t,n){var r="evt_"+(t||"gbl");Ne[r]=Ne[r]||{},Ne[r][e]=Ne[r][e]||[],Ne[r][e].push(n)}function i(e,t){var n="evt_"+(t||"gbl");Ne[n]&&Ne[n][e]&&Ne[n][e].length>0&&(Ne[n][e]=[])}function a(){for(var e in Ne)Ne.hasOwnProperty(e)&&-1!==e.indexOf("evt_")&&-1===e.indexOf("command")&&(Ne[e]={})}function u(t,n,r,o){o=o||("object"==typeof r?r:{}),r="boolean"==typeof r?r:!1;var i="evt_"+(n||"gbl");if(void 0!==Ne[i]){var a,u,c=Ne[i][t]||[],s={src:n};for(Ne.evt_gbl&&Ne.evt_gbl.gblEvt&&e.execSafe(Ne.evt_gbl.gblEvt[0],s,o),u=0,a=c.length;a>u;u++)m(c[u])&&e.execSafe(c[u],s,o);!r&&c.length>0&&(Ne[i][t]=[])}}function c(e,t,n,r){u("before:"+e,t,n),u(e,t,n,r),u("after:"+e,t,n)}function s(e,t){return h(e)?h(t)&&-1!==e.indexOf(t):!1}function l(e,t){return g(e)?de(e,function(e){return e===t?!0:void 0})||!1:!1}function f(e,t,n){var r=!1;g(e)&&p(t)&&p(n)&&(le(e,function(o,i,a){new RegExp(t).test(o)===!0&&(r=!0,e[i]=n)}),r===!1&&e.push(n))}function d(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function p(e){switch(typeof e){case"string":return void 0!==e&&""!==e&&null!==e;case"object":return null!==e;case"number":case"boolean":return!0;default:return!1}}function h(e){return p(e)}function m(e){return"function"==typeof e}function g(e){return"[object Array]"===Object.prototype.toString.call(e)}function v(e){return b(e)!==e}function y(e){return h(e)?encodeURIComponent(e):""}function b(e){if(!h(e))return"";try{return decodeURIComponent(e)}catch(t){return e}}function w(e){return h(e)?-1!==e.search("^(http(s)?%253A%252F%252F)")?b(e):-1!==e.search("^(http(s)?://)")?y(e):e:""}function E(e){if(!h(e))return{};var t,n,r,o,i={};if(t=e.indexOf("?"),-1===t)return i;for(n=e.substring(t+1).split("&"),r=n.length;r--;)o=n[r].split("="),i[o[0]]=o[1];return i}function S(e){this.url=e,this.map=E(this.url)}function O(){var e=!1;try{"object"==typeof t.top&&"object"==typeof t&&(e=t.top!=t)}catch(n){e=!0}return e}function x(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function T(e,t,n){return n=n||null,t=t||[],function(){var r=t.slice(0);arguments.length>0&&Array.prototype.push.apply(r,Array.prototype.slice.call(arguments)),e.apply(n,r)}}function C(){return p(t.location.href)?t.location.href:""}function I(e){e=b(e);var t=new RegExp("^http(?:s)?://([^/]+)","im"),n=e.match(t);return n?n[1].toString():""}function N(e){try{var t=e.contentWindow||e.contentDocument,n=t&&(t.document||t)||!1;return[n,t,null]}catch(r){return[!1,null,"Access Denied"]}}function P(e){var t;if(e=e.match(/^([1-9]\d*|0[0-7]*|0x[\da-f]+)(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?$/i),!e)return!1;for(e[0]=0,t=1;5>t;t+=1)e[0]+=!!(e[t]||"").length,e[t]=parseInt(e[t],10)||0;return e.push(256,256,256,256),e[4+e[0]]*=Math.pow(256,4-e[0]),e[1]>=e[5]||e[2]>=e[6]||e[3]>=e[7]||e[4]>=e[8]?!1:e[1]*(1===e[0]||16777216)+e[2]*(e[0]<=2||65536)+e[3]*(e[0]<=3||256)+1*e[4]}function k(){return""+x(0,254)+"."+x(0,254)+"."+x(0,254)+"."+x(0,254)}function D(e){g(e)||(e=[e]);var n=t._mNRequire(["entitymanager"])[0];n&&m(n.isAmpRequest)&&n.isAmpRequest()?j(e):L(e)}function B(e,t,n,r,o){var i;if(n=n||Y("@body:0"),!n)return K("@body:0",100,T(B,[e,t,null,r,o]),!1),null;if(i=(new G).set("marginWidth",0).set("marginHeight",0).set("scrolling","no").set("frameBorder",0).set("height",0).set("width",0).set("id",e).overrideStyle("display:none !important;").done(),r)for(var a in r)i[a]=r[a];return n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),t&&_(i,t),m(o)&&(i.onload=o),i}function R(e,t){return e.length>t?e.substr(0,t):e}function M(e){var t=e.contentWindow||e.contentDocument;t.logBeacons()}function j(e){le(e,function(e){e=R(e,8e3),(new Image).src=e})}function L(e){void 0===Ne.beaconsQueue&&(Ne.beaconsQueue=[]);var t="_advBidxc_beacons",n=Y(t),r='<!DOCTYPE html><html><head><script type="text/javascript">function logBeacons(){if(window.parent&&window.parent._mNRequire){window.parent._mNRequire(["util"],function(util){var beaconsQueue=util.getBeaconUrlList();if(beaconsQueue.length>0){var i,j;for(i=0,j=beaconsQueue.length;i<j;i++){(new Image()).src=beaconsQueue.shift();}}});}};<\/script></head><body></body></html>',o=0===Ne.beaconsQueue.length&&null===n;if(g(e)){var i,a;for(i=0,a=e.length;a>i;i++)Ne.beaconsQueue.push(R(e[i],8e3))}else h(e)&&Ne.beaconsQueue.push(R(e,8e3));if(o){var u=B(t,r);K(t,100,T(M,[u]),!0)}else if(null!==n){var c=n.contentWindow||n.contentDocument;try{Be.getInstance().onDOMLoad(c.logBeacons)}catch(s){}}}function A(){return void 0===Ne.beaconsQueue&&(Ne.beaconsQueue=[]),Ne.beaconsQueue}function _(t,r){if(t){var o,i=N(t);try{if(null!==i[2])throw i[2];o=i[0],o&&(o.open(),o.write(r),o.close())}catch(a){var u="javascript:var d=document.open();d.domain='"+n.domain+"';";t.src=u+"void(0);";try{var c=t.contentWindow.document;c.write(r),c.close()}catch(s){t.src=u+'d.write("'+r.replace(/"/g,'\\"')+'");d.close();',e.pushError(s)}}}}function Q(e,t){return h(e)?"&"+e+"="+t:""}function q(e){if(m(Object.keys))return Object.keys(e);var t=[];return le(e,function(e,n){t.push(n)}),t}function F(e,t){function n(e){return"object"!=typeof e||e.isUrlEntity!==!1}var r,o,i="",a=!!t,u=a?t:e;for(r in u)if(u.hasOwnProperty(r)&&(a&&(r=t[r]),h(e[r])&&n(e[r]))){if(g(e[r])){for(var c in e[r])i+=Q(r+"[]",e[r][c]);continue}o="object"==typeof e[r]?e[r].value:e[r],i+=Q(r,o)}return i}function U(e,t){t=60*t*1e3;var n=be();return n-e>t?!1:!0}function W(){return/msie|rv:11\.0/.test(Pe.toLowerCase())}function V(e){var t="";return le(e,function(e,n){t+=Q(n+"[]",e)}),t}function J(e,t){var n,r,o,i,a=[],u=[],c=e.length;if(0===c)return[""];for(n in e[0])e[0].hasOwnProperty(n)&&a.push(n);var s="",l=W();for(n=0,r=e.length;r>n;n++){var f="";for(o=0,i=a.length;i>o;o++)f+=Q(a[o]+"[]",e[n][a[o]]);l&&p(t)?f.length>t?u.push(f):(s+f).length>t?(u.push(s),s=f):s+=f:s+=f}return u.push(s),u}function H(e){switch(typeof e){case"string":return h(e)&&("1"===e||"true"===e);case"number":return 0!==e;case"boolean":return e;default:return!1}}function X(e,t){return void 0===e||void 0===t||void 0===e[t]?void 0:e[t]}function $(e,r){if(/complete|loaded/.test(n.readyState))return void e();if(r||De.addEvent(t,"load",e),!r&&n.addEventListener)return void De.addEvent(n,"DOMContentLoaded",e);var o=n.documentElement;if(o&&o.doScroll)try{o.doScroll("left"),e()}catch(i){setTimeout(T($,[e,!0]),50)}}function G(e){return e?void(this.frame=e.document.createElement("iframe")):void(this.frame=n.createElement("iframe"))}function Y(e){try{var t,r=e.charAt(0),o=e.substr(1).split(":"),i=o[0],a=h(o[1])&&parseInt(o[1],10);switch(r){case"@":t=n.getElementsByTagName(i);break;case"#":t=n.getElementById(i);break;case"$":t=n.getElementsByName(i);break;case".":t=Z(n,i);break;default:t=n.getElementById(e)}return a===!1?t:t[a]}catch(u){return null}}function K(e,t,n,r){try{var o=Y(e),i=Be.getInstance().hasDOMLoaded();if(o||!r&&i)return void n.call(null,o||!1);setTimeout(T(K,[e,t,n,r]),t)}catch(a){setTimeout(T(K,[e,t,n,r]),t)}}function Z(e,t,r){if(m(n.getElementsByClassName))return e.getElementsByClassName(t);r=r||"*";var o,i,a=new RegExp("(^|\\s)"+t+"(\\s|$)"),u=e||n,c="*"===r&&u.all?u.all:u.getElementsByTagName(r),s=[],l=c.length;for(i=0;l>i;i++)o=c[i],a.test(o.className)&&s.push(o);return s}function z(){return h(Pe)&&/ip(hone|od|ad)|android|blackberry|kindle|symbian|wap|windows (ce|phone)|palm( os)|iemobile|nokia|mobile/i.test(Pe)}function ee(){var e;return!s(Pe,"Gecko")||s(Pe,"Trident")||s(Pe,"MSIE")?s(Pe,"webkit")?!0:(s(Pe,"Trident")||s(Pe,"MSIE"))&&(e=te(),e>=11)?!0:!1:!0}function te(){var e;return(s(Pe,"Trident")||s(Pe,"MSIE"))&&(e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Pe),p(e)&&p(e[1]))?parseFloat(e[1]):-1}function ne(t,r,o,i){if(h(t)){if("http"!==t.substr(0,4)&&o===!0){var a="https:"===n.location.protocol;t=(a?"https:":"http:")+t}var u=n.createElement("script"),c=n.getElementsByTagName("script")[0],s=!1;u.type="text/javascript",u.async=!0,i&&i.crossOrigin&&(u.crossOrigin="anonymous"),r&&"function"==typeof r&&(u.onload=u.onreadystatechange=function(){s||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(s=!0,e.execSafe(r))}),u.src=t,c.parentNode.insertBefore(u,c)}}function re(e){if(h(e)){var t=n.createElement("script"),r=n.getElementsByTagName("script")[0];t.type="text/javascript",t.appendChild(n.createTextNode(e)),r.parentNode.insertBefore(t,r)}}function oe(){try{return/loaded|complete/.test(n.readyState)}catch(e){return!1}}function ie(e,t,r){var i;if(h(e)){if("http"!==e.substr(0,4)){var a="https:"===n.location.protocol;e=(a?"https:":"http:")+e}i="_mN_advBid_"+r,o("prvReq",r,t);var u='<!DOCTYPE html><html><head><script type="text/javascript">function makeCall(){var scriptElement = document.createElement(\'script\'), tag = document.getElementsByTagName("script")[0], status = false; scriptElement.type = \'text/javascript\'; scriptElement.async = true; scriptElement.onload = scriptElement.onreadystatechange = function () { if (!status && (!this.readyState || this.readyState === "loaded" || this.readyState === "complete")) { status = true; window.parent._mNRequire([\'util\'], function(util){util.triggerEvent("prvReq", "'+r+'", false, window);});}};scriptElement.src = "'+e+'"; tag.parentNode.insertBefore(scriptElement, tag);}<\/script></head><body onload="makeCall()"></body></html>',c=B(i,u);return N(c)[1]}}function ae(e){var t=e.toString(),n=t.indexOf(".");return-1!==n?parseFloat(t.substr(0,Math.min(n+3,t.length))).toFixed(2):parseFloat(e).toFixed(2)}function ue(){ke&&t.console&&t.console.log(Array.prototype.slice.call(arguments))}function ce(e,t){e.super_=t;for(var n in t.prototype)e.prototype[n]=t.prototype[n];e.prototype.constructor=e}function se(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function le(e,t){if(p(e)){var n=0,r=e.length;if(g(e))for(;r>n;n++)t.call(e[n],e[n],n,r);else for(n in e)e.hasOwnProperty(n)&&t.call(e[n],e[n],n,0)}}function fe(e,t){if(!p(e))return[];var n;m(t)||(t=function(e,t){return!!e});var r=0,o=e.length;if(g(e))for(n=[];o>r;r++)t.call(e[r],e[r],r)&&n.push(e[r]);else{n={};for(r in e)e.hasOwnProperty(r)&&t.call(e[r],e[r],r)&&(n[r]=e[r])}return n}function de(e,t){if(p(e)){m(t)||(t=function(e,t){return!!e});var n,r=0,o=e.length;if(g(e)){for(;o>r;r++)if(n=t.call(e[r],e[r],r),p(n))return n}else for(r in e)if(e.hasOwnProperty(r)&&(n=t.call(e[r],e[r],r),p(n)))return n}}function pe(e,t){if(!p(e))return[];var n;m(t)||(t=function(e,t){return!!e});var r=0,o=e.length;if(g(e))for(n=[];o>r;r++)n.push(t.call(e[r],e[r],r));else{n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=t.call(e[r],e[r],r))}return n}function he(e,t,n){if(m(t)){var r,o,i;if(g(e)){if(o=0,i=e.length,"undefined"!=typeof n)r=n;else{for(;i>o&&!(o in e);)o++;if(o>=i)return;r=e[o++]}for(;i>o;o++)o in e&&(r=t(r,e[o],o,e));return r}n=n||"",r=n;for(o in e)e.hasOwnProperty(o)&&(r=t(r,e[o],o,e));return r}}function me(e){return"CSS1Compat"==e.compatMode?e.documentElement:e.body}function ge(e){var t,r,o=e.document,i=void 0,a=void 0,u="_mNTemp";try{t=me(o),t||(o.write('<div id="'+u+'" style="display:none;"></div>'),t=me(e.document),r=n.getElementById(u),r.parentNode.removeChild(r)),t&&(i=t.clientWidth||void 0,a=t.clientHeight||void 0)}catch(c){}return{width:i,height:a}}function ve(e,t){e=e||20,t=t||"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var n="",r=e;r>0;--r)n+=t[Math.round(Math.random()*(t.length-1))];return n}function ye(){return!!(t.JSON&&t.JSON.parse&&"function"==typeof JSON.parse&&t.JSON.stringify&&"function"==typeof JSON.stringify)}function be(){return(new Date).getTime()}function we(e,t){if("object"!=typeof e||"string"!=typeof t)return!1;if("string"==typeof e.className){var n=new RegExp("(^|\\s)"+t+"(\\s|$)");return n.test(e.className)}}function Ee(e,t){if(e.style[t])return e.style[t];if(e.currentStyle)return e.currentStyle[t];if(n.defaultView&&n.defaultView.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1"),t=t.toLowerCase();var r=n.defaultView.getComputedStyle(e,"");return r&&r.getPropertyValue(t)}return null}function Se(e,t){if(!p(e)&&p(t))return null;var n=new RegExp("[?&]"+t+"=([^&#]*)","i"),r=n.exec(e);return r?r[1]:null}function Oe(n,r,o,i){if(!t.XMLHttpRequest)return null;var a=new XMLHttpRequest,u=!1,c=function(){},s=function(){var e=o.onload||c;e(a.response||a.responseText)},l=function(){var e=o.onerror||c;e()};if("withCredentials"in a)a.open(n,r,!0),a.withCredentials=!0;else{if(!t.XDomainRequest)return null;a=new XDomainRequest;try{a.open(n,r)}catch(f){return null}}return a.onload=a.onreadystatechange=function(){u||4==a.readyState&&(200==a.status?e.execSafe(s):l(),u=!0)},a.onerror=l,a.onabort=l,a.send(i),!0}function xe(e){var t;try{e&&e.data&&"string"==typeof e.data&&ye()&&(t=JSON.parse(e.data))}catch(n){}return t}function Te(e,t,n){for(n=n||"0",e+="";e.length<t;)e+=n;return e}function Ce(e){var t=n.cookie.indexOf(e+"="),r=t+e.length+1;if(!t&&e!==n.cookie.substring(0,e.length))return null;if(-1===t)return null;var o=n.cookie.indexOf(";",r);return-1===o&&(o=n.cookie.length),unescape(n.cookie.substring(r,o))}function Ie(e,t,r,o,i,a,u){var c=new Date;c.setTime(c.getTime()),r&&(r=1e3*r*60*60*24),u&&(r=1e3*u*60);var s=new Date(c.getTime()+r);n.cookie=e+"="+escape(t)+(r?";expires="+s.toGMTString():"")+(o?";path="+o:"")+(i?";domain="+i:"")+(a?";secure":"")}var Ne={},Pe=navigator.userAgent,ke=-1!==t.location.href.indexOf("mnet_test="),De={addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),e=null},removeEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n),e=null}};S.prototype.getParam=function(e){return this.map[e]||""},S.prototype.getDecodedParam=function(e){var t=this.map[e];return t&&b(t)||""};var Be=function(){function e(){function e(){var e;for(r=!0;t.length>0;)e=t.shift(),e.call(null);t=[]}var t=[];this.onDOMLoad=function(n){return t.push(n),1!==t.length||r?void(r&&e()):void $(e)},this.hasDOMLoaded=function(){return r},this.isDOMInteractive=function(){return r||/interactive/.test(n.readyState)}}var t=null,r=!1;return{getInstance:function(){return null===t&&(t=new e),t}}}();return G.prototype.set=function(e,t){return this.frame[e]=t,this},G.prototype.setStyle=function(e){var t;for(t in e)e.hasOwnProperty(t)&&(this.frame.style[t]=e[t]);return this},G.prototype.overrideStyle=function(e){return this.frame.style.cssText=e,this},G.prototype.done=function(){return this.frame},{getCookie:Ce,setCookie:Ie,padBits:Te,encodeParam:y,decodeParam:b,isEncoded:v,generateRandomString:ve,getQueryStringParameterValue:Se,getHostname:I,getPublisherUrl:C,isStringSet:h,inIframe:O(),isInIFrameCall:O,getRandom:x,getParamValueFromUrlAsArray:E,GetParamValueFromUrl:S,checkUrlDecodingEncoding:w,eventLib:De,isFunction:m,isArray:g,ua:t.navigator.userAgent.toLowerCase(),isDocumentWritable:ee(),buildUrlParameters:F,getQueryParamString:Q,logBeacons:D,getBeaconUrlList:A,isOptionSet:H,checkItemExistsInArray:l,getIframeDoc:N,getProxy:T,CreateFrame:G,callWhenAvailable:K,getChildElemByClass:Z,ip2long:P,checkItemExists:s,queryDOM:Y,writeContentInIframe:_,safeReturn:X,DOMLoadObserver:Be,isMobile:z,createNonBlockingFrame:B,loadScript:ne,insertScript:re,loadScriptInIframe:ie,triggerEvent:u,triggerEventWithBeforeAfter:c,addToEventQueue:o,insertOrReplaceIntoArray:f,decimalLimit:ae,consoleLog:ue,getRandomIp:k,buildUrlCollectionParams:J,buildCollectionUrlItem:V,inherits:ce,isTimestampValid:U,clock:new r,extend:se,hasWindowLoaded:oe,detachEvents:i,resetEvents:a,isSet:p,isEmptyObject:d,map:pe,reduce:he,filter:fe,any:de,each:le,fromIE:W,getWindowDimension:ge,isJSONSupported:ye,getCurrentTime:be,getObjectKeys:q,nodeHasClass:we,getElementStyle:Ee,createCORSRequest:Oe,getIEVersion:te,getPostmessageData:xe}});_mNDefine("uadetector",[],function(){"use strict";function e(){return g.detectDeviceType().getId()}function t(){return g.detectDeviceType().getName()}var d=function(e,t,d){this.id=e,this.name=t,this.regexp=d};d.prototype.getName=function(){return this.name},d.prototype.getId=function(){return this.id},d.prototype.getRegexp=function(){return this.regexp};var s="spreadtrum[ ;]|oppo( |)[a-z][\\d]|neozenrevo|trend\\smicro\\swtp|dorado\\swap-browser|huawei(\\shg520v|(/|_|)[a-z][\\d][\\d][\\d][\\d])|(alcatel[-_](ot-|ot|one_touch_|)[\\d][\\d][\\d])|deweb60|gionee|(gt-[a-z][\\d][\\d][\\d][\\d])|(huawei-u[\\d][\\d][\\d][\\d])|(htc_touch|htc_smart|htc[_-][a-z]+[\\d][\\d][\\d][\\d])|(karbonn\\swap-browser\\sk[\\d][\\d]|karbonn(/|[ _|]k[\\d][\\d]))|(kddi-[a-z][a-z][\\d][a-z0-9])|kkt50|lava.discover|lava.kkt|lava.spar|(lemon[ _]((s|t|gc)[\\d][\\d][\\d]|duo))|(samsung-([a-z]|sgh-[a-z])([\\d]|v)[\\d][\\d])|(lg[-/]([a-z]+|)[\\d][\\d][\\d](([a-z]|)/v|[ -]))|(micromax([ |]|)[a-z]+[\\d][\\d])|(mot-ex[\\d]|mot-v[\\d]|mot-razrv3|mot-l9/)|(nexian( |)nx(-|)[a-z][\\d])|pantechp|s8500|(sagetel[\\d]+([a-z]|)_)|softbank/|sonyd2105|(spice\\s(m([ -]|)([\\d]|i-)[\\d]|qt(-|))[\\d][\\d])|tianyu-ktouch|zen\\sp8|(zte[ -/][a-z](|[- ][a-z])[\\d][\\d][\\d])|videocon-A45",o="200pleasebot|alexabot|adsbot-google|appengine-google;|ask\\sjeeves/teoma|baiduspider|bingbot|caliperbot/|ccbot/[\\d]|commons-httpclient|crawler|facebookexternalhit|linkedinbot/|twitterbot/|google[.]com/[+]/web/snippet|feedfetcher-google|googlebot|ia_archiver|kishimobot|luasocket|magpierss|moodlebot|msnbot|nuhk|openbot|pingdom[.]com_bot_version|simplepie|site\\sscanner\\sbot|slurp|smtbot/[\\d]|spbot/[\\d]|spinn3r|startmebot/|statdom[.]ru/bot|uptimerobot|web\\sspider|spider/|webspider|wget/|yammybot|yodaobot|yandexmetrika/|yandexbot|yacybot|google-http-java-client/|musobot/|yabrowser/",i=new d(0,"UNKNOWN_DEVICE",new RegExp("")),a=new d(1,"SMART_TV",new RegExp("smart-tv|smarttv|googletv|appletv|hbbtv|pov_tv|netcast.tv?|espial/[\\d]+|hbbtv/|tv\\store|sonydtv|pov_tv-hdmi|nettv/|kylo/|viera;|vap430")),n=new d(2,"TABLET",new RegExp("hudl ht7s3 build|kindle( |/)|ipad|tablet|playbook|smart\\stab|gt-n8000|gt-n8013|gt-p[\\d][\\d][\\d][\\d]|me371mg|nexus\\s(7|8|9|[\\d][\\d])\\sbuild/|sm-t[\\d][\\d][\\d]|\\ssgp[\\d][\\d][\\d] build/|touchpad build|venue7\\s[\\d][\\d][\\d][\\d]\\s|gt-n5100 build|lenovoa3300[-]hv|kfjwi\\sbuild/|shw-m\\d\\d\\d[a-z]\\sbuild/|smarttab10-|sony\\stablet\\s(s|p)\\s|huawei\\smediapad\\sbuild|thinkpad\\stablet\\s|vodafone\\ssmarttab|(kfapwa|kfapwi|kfarwi|kfaswi|kfjwa|kfjwi|kfot|kfsawa|kfsawi|kfsowi|kfthwa|kfthwi|kftt)\\sbuild|ideatab\\s|mediapad\\s[\\d]+\\slite\\sbuild|mid\\d\\d\\d\\d\\sbuild/")),r=new d(3,"MOBILE",new RegExp("fennec/|mobile|phone|iphone|ipod|blackberry|playbook|bb10|android|palm|windows\\s+ce|s60;\\ssymbos|series\\s60|series40|samsung-gt-|sonyericsson|nokia|samsung\\sgt|nokia|maui\\sruntime|j2me/midp|brew|docomo/[\\d]+.[\\d]+|mi\\s3w\\smiui|maui\\swap\\sbrowser|(\\d|)\\d\\d\\d[*]\\d\\d\\d(\\d|)(|;)[)]|"+s)),p=new d(4,"DESKTOP",new RegExp("windows|win([\\d][\\d]|nt)(\\s|;|[)])|windows\\snt\\s\\d[.]\\d|cros;|cros\\s|linux|os\\s+[x9]|solaris|bsd|x11|mac_powerpc|macintosh|"+o)),b=new d(5,"GAME_CONSOLE",new RegExp("playstation\\s[\\d]|playstation\\sportable|nintendo")),c=function(e){this.deviceType=i,e&&(this.userAgent=e.toLowerCase(),this.deviceType=this.detectDeviceType(),this.deviceType.getId()===n.getId()&&this.userAgent.indexOf("tablet pc")>-1&&(this.deviceType=p),this.userAgent.indexOf("android")>-1&&this.userAgent.indexOf("mobile")>-1&&this.deviceType.getId()!==n.getId()&&(this.deviceType=r))};c.deviceListPriority=[a,n,r,p,b,i],c.prototype.detectDeviceType=function(){for(var e=c.deviceListPriority,t=0;t<e.length;t++)if(e[t].getRegexp().test(this.userAgent))return e[t];return i},c.prototype.getDeviceType=function(){return this.deviceType};var g=new c(navigator.userAgent);return{getClientDeviceId:e,getClientDeviceName:t}});_mNDefine("entitymanager",["_mNRP","util","config","bid"],function(t,e,n,r){"use strict";function i(){var t=e.getRandom(1e8,999999999),r=n.viewid||Math.round((new Date).getTime()/1e3),i=r.concat(t);return i}function o(){var t;if(!zt.VISITOR_ID)if(t=n._mNVsid,e.isStringSet(t)&&-1===t.indexOf("VID")&&t.length>10){var r=-1===t.indexOf("V")?3:6;zt.VISITOR_ID=t.substr(0,t.length-r)}else zt.VISITOR_ID="";return zt.VISITOR_ID}function u(){return n._mNVisitIdData}function c(){if(!zt.COUNTRY_CODE){var t=n._ip2c||"";zt.COUNTRY_CODE=t}return zt.COUNTRY_CODE}function s(){var t,r;return zt.VISIT_ID||(r=n._mNVisitIdData,e.isStringSet(r)||(r=e.getRandomIp()),t=(new Date).getTime(),zt.VISIT_ID=("000000"+t+("00"+e.ip2long(r)).slice(-11)+e.getRandom(1e3,9999)).slice(-32)),zt.VISIT_ID}function a(){return zt.VIEW_ID||(zt.VIEW_ID=i()),zt.VIEW_ID}function f(t,n){return zt.AUCTIONID=zt.AUCTIONID||{},zt.AUCTIONID[t]=zt.AUCTIONID[t]||{},zt.AUCTIONID[t][n]||(zt.AUCTIONID[t][n]=e.padBits(e.ip2long(e.getRandomIp()),10)+""+e.getRandom(1e6,9999999)+(new Date).getTime().toString()),zt.AUCTIONID[t][n]}function d(t,n,r){var i=t+"-"+n+"-"+r;return zt.PROVIDER_REQUESTID=zt.PROVIDER_REQUESTID||{},zt.PROVIDER_REQUESTID[i]||(zt.PROVIDER_REQUESTID[i]=e.padBits(e.ip2long(e.getRandomIp()),10)+""+e.getRandom(1e6,9999999)+(new Date).getTime().toString()),zt.PROVIDER_REQUESTID[i]}function g(){return!1}function l(){return!1}function I(t,r){return e.isSet(n.hbaInfo)&&e.isSet(n.hbaInfo[t])?n.hbaInfo[t]:r}function E(){return I("actTime",ee)}function S(){return 1===I("bidReq","")}function m(){return I("mNCallback","")}function D(){return parseFloat(I("version",1))}function R(){return n.log||{}}function T(t){return n.log&&n.log[t]||0}function _(){return n.log&&n.log.swEcpm}function p(){return n.logUrls&&n.logUrls.tpUrl}function b(t){return e.any(n.bidderExTargetParams,function(e){return t===e?!0:void 0})}function h(t){return null}function O(t,e){$t[t]=$t[t]||"",-1===$t[t].indexOf(e)&&($t[t]+=e+"|")}function P(t){return $t[t]||""}function C(t){return e.isSet(t)&&e.isSet(n.features[t])&&1===n.features[t]}function v(){return C("fcsync")}function U(){return C("errTrack")}function B(){return C("oxrtlog")}function A(){return C("disIframe")}function F(){return 3===Dt()||C("sandbox")}function H(){return e.isSet(n.hbInfo.hdhome)&&"1"===n.hbInfo.hdhome}function V(){return C("prfDisHome")}function N(){return C("prvaccid")}function w(){return C("targetDn")}function y(){return C("scc")}function x(){return C("frlen")}function L(){return C("inf")}function k(){return C("fbTest")}function q(){return C("disDefSlots")}function M(){return C("cbol")}function G(t,r){var i,o=3;return e.isStringSet(r)&&n.timeout.bidTTL[r]&&(o=n.timeout.bidTTL[r]||o),e.isSet(t)?(i=60*o*1e3,e.getCurrentTime()-t>i):!0}function Y(){return e.isSet(n.misc.dcto)&&1===n.misc.dcto}function Q(t){return e.checkItemExists(n.cbInfo.disCk,t+",")}function W(){return zt.CID||(zt.CID=n.info.cid),zt.CID}function K(){return n.info.apsid}function j(){return zt.HOSTNAME||(zt.HOSTNAME=e.getHostname(st())),zt.HOSTNAME}function z(){return Z()||0}function Z(){return n.timeout&&n.timeout.gfd}function J(){return n.timeout&&n.timeout.ngfd}function X(){return n.timeout&&n.timeout.gptrd}function $(){return n.timeout&&n.timeout.rbd}function tt(){return n.timeout&&n.timeout.grd}function et(){return n.timeout&&n.timeout.li}function nt(){return n.timeout&&n.timeout.prfd}function rt(){return n.timeout&&n.timeout.rprfd}function it(t){return t===r.AuctionType.CACHE?n.timeout&&n.timeout.cbrt:t===r.AuctionType.HEADER_BID?n.timeout&&n.timeout.hbrt:void 0}function ot(){return zt.REFERRER||(zt.REFERRER=ut(),e.isEncoded(zt.REFERRER)===!0&&(zt.REFERRER=e.decodeParam(zt.REFERRER)),st()===zt.REFERRER&&(zt.REFERRER="")),zt.REFERRER}function ut(){var t,n=e.isStringSet(document.referrer)?document.referrer:"",r=e.inIframe;if(!r)return n;try{return t=window.parent.document.referrer,e.isStringSet(t)?t:""}catch(i){}}function ct(){var t=st();return t.split("?")[0]}function st(){if(!zt.PUBLISHER){var t,n=Tt();e.isSet(n)&&e.isFunction(n.getPublisherUrl)&&(t=n.getPublisherUrl()),zt.PUBLISHER=mt(t||lt())}return zt.PUBLISHER}function at(){var t="";return Ft()&&(t=window.context&&window.context.location&&window.context.location.href),e.isStringSet(t)||(t=st()),t}function ft(){var t=at();return-1!==t.indexOf("force_hbtest=1")||-1!==t.indexOf("force_inimagetest=1")}function dt(){return-1!==at().indexOf("force_hbtest=all")}function gt(t){return e.getQueryStringParameterValue(at(),"force_hbtest")===t||dt()}function lt(){var t="";if(window.advBidxc_requrl)t=window.advBidxc_requrl;else{t=window.location.href;try{window.top.location.href&&(t=window.top.location.href)}catch(e){}}return t}function It(){return e.isSet(n.hbInfo.fd)}function Et(){return zt.PUBLISHER_FD||(zt.PUBLISHER_FD=st(),It()&&(zt.PUBLISHER_FD=Ut()+"://"+n.hbInfo.fd)),zt.PUBLISHER_FD}function St(){var t=Et().split("/");return t[0]+"//"+t[2]}function mt(t){if(!e.isStringSet(t))return"";var n,r=/fb_|utm_|bcmt|action_object_map|action_type_map|action_ref_map|action_action_map/;t=e.decodeParam(e.checkUrlDecodingEncoding(t)),n=t.indexOf("?");var i=t.indexOf("#");if(i>0&&(t=t.substring(0,i)),n>0&&r.test(t)){var o=t.substring(n+1).split("&"),u=-1,c=o.length;for(t=t.substring(0,n+1);++u<c;)""!==o[u]&&"action_object_map="!==o[u].substring(0,18)&&"action_type_map="!==o[u].substring(0,16)&&"action_ref_map="!==o[u].substring(0,15)&&"action_action_map="!==o[u].substring(0,18)&&"fb_"!==o[u].substring(0,3)&&"utm_"!==o[u].substring(0,4)&&"code="!==o[u].substring(0,5)&&"bcmt"!==o[u].substring(0,4)&&(t+="&"+o[u]);"?"===t.substr(-1,1)&&(t=t.substr(0,t.length-1))}if(-1!==t.indexOf("mnet_rand=r")){var s=(new Date).getTime();t=t.replace("mnet_rand=r","mnet_rand="+s)}return t}function Dt(){if(!zt.DEVICE_TYPE){var t=_t("uadetector");zt.DEVICE_TYPE=t.getClientDeviceId()}return zt.DEVICE_TYPE}function Rt(){var t=st().split("/");return t[0]+"//"+t[2]}function Tt(){return _t("customutil")}function _t(t){if(void 0!==te[t])return te[t];try{te[t]=window._mNRequire([t])[0]}catch(e){te[t]=null}return te[t]}function pt(t){var n=Tt();return e.isSet(n)&&e.isFunction(n.getUrlForPrefetch)&&e.isSet(t)?n.getUrlForPrefetch(t):Rt()}function bt(t){var n=Tt();return e.isSet(n)&&e.isFunction(n.getUrlForHeaderBidding)&&e.isSet(t)?n.getUrlForHeaderBidding(t):Rt()}function ht(){var t;return zt.SESSION_DEPTH||(t=e.getCookie(Jt),zt.SESSION_DEPTH=e.isStringSet(t)&&parseInt(t.split("|")[0])||-1),zt.SESSION_DEPTH}function Ot(){var t,n,r,i;n=e.getCookie(Jt),r=e.isStringSet(n)&&parseInt(n.split("|")[1]),e.isSet(r)&&e.isTimestampValid(r,Xt)?t=n.split("|")[0]:(t="0",r=e.getCurrentTime()),i=parseInt(t)+1,i=i+"|"+r,e.setCookie(Jt,i,null,"/")}function Pt(){return e.getHostname(st())}function Ct(t){return e.isStringSet(t)&&(zt.AB_TESTS=t.toString()),zt.AB_TESTS||""}function vt(){return"https"===Ut()?!0:!1}function Ut(){var t="https:"==document.location.protocol;return C("isHttps")&&(t=!0),t?"https":"http"}function Bt(){var t="https:"==document.location.protocol;return t?"https=1":""}function At(t){return e.isSet(t)&&(zt.AD_BLOCK_DETECTED=t),zt.AD_BLOCK_DETECTED||0}function Ft(){return 1===n.hbInfo.isAmp}function Ht(){return Ft()?1:0}function Vt(){return e.isStringSet(n.hbInfo.version)?n.hbInfo.version:"1"}function Nt(t){return t=t||"0",zt.SECTION=zt.SECTION||{},zt.SECTION.hasOwnProperty(t)||(zt.SECTION[t]=window.advBidxc.section||""),zt.SECTION[t]}function wt(t,n){var r=/%%([A-Za-z_]+)%%/g;return t.replace(r,function(t,r){var i,o;return i=Zt[r],i?(o=i(),n&&(o=e.encodeParam(o)),o):""})}function yt(t,n){return e.isStringSet(t)?t=e.isArray(t)?e.map(t,function(t){return yt(t,n)}):wt(t,n):void 0}function xt(t,n,r){return zt.SUB_BIDDER_ID=zt.SUB_BIDDER_ID||{},zt.SUB_BIDDER_ID[t]=zt.SUB_BIDDER_ID[t]||{},e.isSet(r)&&(zt.SUB_BIDDER_ID[t][n]=r),zt.SUB_BIDDER_ID[t][n]||""}function Lt(t,n){var r=n&&n.placements;zt={},e.isArray(r)&&r.length>0&&e.each(r,function(t){$t[t]=""})}function kt(){return!0}function qt(){return e.isSet(n.misc)&&1===n.misc.lac}function Mt(){return e.isSet(n.misc)&&1===n.misc.grc}function Gt(){var t=n.misc&&n.misc.rvc;return e.isSet(t)||(t=1),parseInt(t)}function Yt(){return n.info&&n.info.cid||""}function Qt(){return e.isSet(n.misc)&&1===n.misc.adlogSt}function Wt(){try{if(e.isSet(n.hbInfo)&&e.isArray(n.hbInfo.hbUrlBlockRegex))return e.any(n.hbInfo.hbUrlBlockRegex,function(t){return new RegExp(t).test(st())?!0:void 0})||!1}catch(r){t.pushError("Error while parsing url regex, to disable url for header bidding: "+r.message)}return!1}function Kt(){return e.isSet(n.hmInfo)&&e.isSet(n.hmInfo.enable)&&n.hmInfo.enable===!0?!0:!1}function jt(t){var i=n.info.targetHV;return e.isSet(i)&&t&&parseInt(t.get(r.Properties.DFP_BID),10)>=i}var zt={},Zt={},Jt="mnet_session_depth",Xt=15,$t={},te={},ee=2e3;return Zt={PUBLISHER:st,PUBLISHER_HOST:Pt,REFERRER:ot,DOMAIN:Rt,CID:W,HOSTNAME:j,VIEW_ID:a,VISIT_ID:s,VISITOR_ID:o,DEVICE_TYPE:Dt,SESSION_DEPTH:ht,COUNTRY_CODE:c,AB_TESTS:Ct,PROTOCOL:Ut,GPT_TAG_DELAY:X,GPT_FUNCTION_DELAY:z,HTTPS_FLAG:Bt,AD_BLOCK_DETECTED:At,IS_AMP_REQUEST:Ht,VERSION:Vt},e.addToEventQueue("all:reset","command",Lt),{resolveMacros:yt,getProtocol:Ut,getPublisherUrl:st,getPublisherUrlConventionalWay:lt,getPublisherUrlFD:Et,getReferrerUrl:ot,getGuaranteedFunctionDelay:Z,getNonGuaranteedFunctionDelay:J,getPrefetchDelayTime:nt,getRefreshPrefetchDelayTime:rt,getServerBidRequestTimeout:it,getGptRequestDelay:X,getGoogleRefreshDelay:tt,getRequestBatchDelay:$,getLogIntervalAfterOnload:et,logADonSetTargeting:Qt,getPublisherUrlPath:ct,getDomainForPrefetch:Rt,getDomainForPrefetchFD:St,getHeaderBiddingUrl:bt,getPrefetchUrl:pt,getLoggingParams:R,getTimelinePixelUrl:p,getlper:T,getVisitorId:o,getHostname:j,getSlotLogEcpm:_,getProviderRequestID:d,getAuctionTimeForMnetBidderRequest:E,getAuctionId:f,getRevenueCode:Gt,isMnetBidderRequest:S,getAppnexusSeatId:K,getMnetBidderCallback:m,getMnetAdapterVersion:D,getUserIP:u,isDefaultTarget:b,getDeviceType:Dt,getCountryCode:c,getAutoRefreshTimeout:h,isCookieSyncDisabled:Q,incrSessionDepth:Ot,getSessionDepth:ht,isCacheDisabledForCustomer:g,isTPCacheOn:M,getHBStatus:l,enabledABTests:Ct,refresh:Lt,getCid:W,isGptOverrideEnabled:kt,needsGptRequest:Mt,isHdHome:H,disablePrefetchForHome:V,doPrefetchOnLoad:Y,isTimeStampExpired:G,oxRecordByTemplate:B,needsHttpsSupport:vt,needsAdCodeLogging:qt,isErrorTrackEnabled:U,isProviderAccountIdEnabled:N,isForceCookieSyncEnabled:v,isSandboxEnabled:F,disableRequestsForDefinedSlots:q,getDomainFromPublisherURL:Rt,setGetSubBidderId:xt,getTestDataForPlacement:P,setTestDataForPlacement:O,getViewId:a,require:_t,setGetIsAdBlockDetected:At,getCustomerId:Yt,isTestMode:ft,isTestModeForProvider:gt,getCustomUtilityWrapper:Tt,isDisableUrlRegex:Wt,isAmpRequest:Ft,isHeatmapEnabled:Kt,getVisitId:s,isGlobalTest:dt,needsDomainTargeting:w,hasForcedRequestLimit:x,isInfiniteScrollEnabled:L,isFbV5TestEnabled:k,isSplitOnCountryCodeEnabled:y,isFdEnabled:It,shouldTargetMnetHV:jt,getSection:Nt,isBidxcDisabledInsideIframe:A}});_mNDefine("config",[window,document,window.configSettings,"util"],function(e,t,n,i){"use strict";function I(){r.bidderExTargetParams={CREATIVE_ID:"mnetCrid",BIDDER_ID:"mnetbidID",BIDDER_TYPE:"mnetbidderID",DFP_BID:"mnetbidPrice",PLACEMENT_ID:"mnet_placement",CUSTOMER_ID:"mnetCID",AUCTION_TYPE:"mnetAct",SECOND_PROVIDER_ID:"mnetScpvid",TEST_DATA:"mnetTd",DFP_SIZE:"mnetSize"},r.defaultExTargetParams={PAGE_ID:"mnetPageID",NO_BID:"mnetDNB",WINNER:"mnetDW",CC:"mnetCC",UGD:"mnetUGD"},r.miscExTargetParams={HIGH_VALUE_BID:"mnet_hv",DOMAIN_NAME:"mnet_dn"},r.mnetAdxTargetParams={CREATIVE_ID:"crid",CPM:"mnet_segment",VARIANT:"mnet_variant"},r.PROVIDER_IDS={MNET_ADX:"3",YBNCA_AUTO:"4",MEDIA_NET:"100",YBNCA_ADX_FAILOVER:"26",YBNCA:"9"},r.defaultBidderSetting.rtbsbidder&&(r.defaultBidderSetting.rtbsbidder.useAppData=1),r.features=r.features||{},r.info=r.info||{},r.misc=r.misc||{},void 0===r.misc.lac&&(r.misc.lac=0),r.hbInfo=r.hbInfo||{},r.cbInfo=r.cbInfo||{},r.timeout=r.timeout||{},r.cbInfo.disCk=r.cbInfo.disCk||"",r.timeout.bidTTL=i.extend({OPENX:5,APPNEXUS:4,CASALE:2},r.timeout.bidTTL||{}),"1"===r.hbInfo.hdhome&&(r.misc.grc=0,r.timeout.prfd=0),r.headerBidder={timeout:1e3,disable:1===r.hbInfo.disable,frlen:1===r.hbInfo.frlen,status:{NOOP:0,INIT:1,BIDDING:2,DONE:3,FAILED:4}}}function d(e){i.each(r.provider,function(t,n){t.hasOwnProperty(e)&&delete t[e]})}function m(){var e=["KP","KR","PH","TW","VN","IN","AU","SG","JP","MY","PK","NZ"];i.each(e,function(e){return e===r._ip2c?void d("11"):void 0})}var r=n||{};return I(),m(),r});_mNDefine("bid",function(){"use strict";function t(){var E={},e={};this.get=function(t){return E[t]},this.set=function(t,e){return E[t]=e,this},this.getCustom=function(t){return e[t]},this.getAny=function(_){return t.Properties[_]?E[t.Properties[_]]:e[t.CustomProperties[_]]},this.setCustom=function(t,E){return e[t]=E,this},this.status=function(_){return void 0!==_?(E[t.Properties.STATUS]=_,e[t.CustomProperties.STATUS_NAME]=t.StatusNames[_],this):E[t.Properties.STATUS]},this.id=function(e){return void 0!==e?(E[t.Properties.BIDDER_ID]=e,this):E[t.Properties.BIDDER_ID].toString()},this.name=function(e){return void 0!==e?(E[t.Properties.BIDDER_NAME]=e,this):E[t.Properties.BIDDER_NAME]},this.provider=function(E){return void 0!==E?(e[t.CustomProperties.PROVIDER_NAME]=E,this):e[t.CustomProperties.PROVIDER_NAME]},this.serialize=function(){var t,_={};for(t in E)E.hasOwnProperty(t)&&(_[t]=E[t]);for(t in e)e.hasOwnProperty(t)&&(_[t]=e[t]);return _},this.deserialize=function(E){var e;for(e in t.Properties)t.Properties.hasOwnProperty(e)&&this.set(t.Properties[e],E[t.Properties[e]]);for(e in t.CustomProperties)t.CustomProperties.hasOwnProperty(e)&&this.setCustom(t.CustomProperties[e],E[t.CustomProperties[e]]);return this}}return t.Properties={BIDDER_ID:"bidderId",BIDDER_NAME:"bidderName",ADCODE:"adcode",SIZE:"size",CPM:"cpm",BIDDER_PRICE:"bdp",CUSTOMER_BID_PRICE:"cbdp",DFP_BID:"dfpBd",CLOSING_PRICE:"clsPrc",PLACEMENT_ID:"placementId",STATUS:"status",CREATIVE_ID:"creative_id",THIRD_PARTY_TARGETS:"third_party_targets",THIRD_PARTY_TARGETS_GLOBAL:"third_party_targets_global",DOMINANT_BID_FLAG:"dominant_bid_flag",NUMBER_MULTI_SIZES:"number_multi_sizes"},t.CustomProperties={PROVIDER_REQUEST_ID:"prvReqId",PAGE_ID:"pageId",DFP_SIZE:"dfpSize",DFP_DIV_ID:"dfpDivId",DFP_DIV_POSITION:"dfpPos",AUCTION_ID:"acid",ORIGINAL_CPM:"ogCPM",ZERO_ADJUSTMENT:"adj0",FIRST_ADJUSTMENT:"adj1",SECOND_ADJUSTMENT:"adj2",NETWORK_FETCH_TIME:"nft",TIMESTAMP:"ts",TEST_DATA:"td",BID_DATA:"bd",CUSTOM_RENDERING_PARAM:"crp",ENCRYPTED_BID_FLAG:"ebf",NOBID_REASON:"nbr",LOGGING_PIXELS:"loggingPixels",TIMELINE_PIXEL:"timelinePixel",LOAD_TIME:"loadTime",AUCTION_TYPE:"actType",PROVIDER_RESPONSE_TYPE:"prspt",BID_REUSED_FLAG:"brf",REFERRING_VISIT_ID:"visitID",STATUS_NAME:"sname",PROVIDER_NAME:"providerName",FINAL_BID:"fb",EXTERNAL_UID:"uid",CACHING_FLAG:"cachfl",RENDER_STATUS:"render",RENDER_TRY_STATUS:"tryRender",RENDER_START_STATUS:"startRender",BID_LOG_STATUS:"bigLog",MNET_CRID:"mnet_crid",EXTERNAL_BIDDER_TYPE:"extBidType",EXTERNAL_TOKEN:"extToken",RESPONSE_TIME:"rtime",DATA_CENTER:"dtc",BIDDER_INFO_BIDDER_ID:"binfobid",TO_CONSIDER:"toconsider",CATEGORY:"cat",BUYER_ID:"bId",CAMPAIGN_ID:"cmpid",ADVERTISER_ID:"advId",ADVERTISER_NAME:"advNm",ADVERTISER_URL:"advUrl",PROVIDER_ACCOUNT_ID:"paId",PROVIDER_API_ID:"pApiId",EXTERNAL_PLACEMENT_CODE:"epc",DEAL_ID:"di",DEAL_TYPE:"dt",GOOGLE_BID:"gbid",BASE_BIDDER_ID:"bbdrid",COOKIE_FLAG:"ckfl",COOKIE_SOURCE:"cs",PROVIDER_COOKIE_ID:"pcId",WEB_SERVER_IP:"wsip",IS_WINNING_BID:"iwb",AUCTION_SERIAL_NO:"acsn"},t.AuctionType={CACHE:"cache",HEADER_BID:"headerBid"},t.Status={PENDING:0,SUCCESS:1,NOBID:2,TIMEOUT:3,CANCELLED_NOT_IN_CACHE:4,RESPONSE_AFTER_AUCTION:5,NOBID_AFTER_AUCTION:6,ERROR:7},t.StatusNames=["pending","success","nobid","timeout","bid_not_in_cache","response_after_auction","nobid_after_auction","error"],t});_mNDefine("target",function(){"use strict";function e(){var e={};this.set=function(t,E){return e[t]=E,this},this.get=function(t){return e[t]},this.serialize=function(){return e}}return e.Properties={BID_VALUE:"bid",EXTERNAL_PLACEMENT_CODE:"epc",SIZE:"size",LOAD_TIME:"ltime",DEAL_TYPE:"dealType",DEAL_ID:"dealId",NAME:"name",MNET_PLACEMENT_ID:"mnet_placement",MNET_CREATIVE_ID:"mnetCrid",MNET_CUSTOMER_ID:"mnetCID",DFP_SIZE:"mnetSize",TEST:"test"},e});_mNDefine("bidder",["_mNRP","util","mnetHbConsole","config","bid","entitymanager","bidmanager","logmanager","storagemanager"],function(e,t,r,s,o,i,n,u,C){"use strict";function P(){function e(e,t){return e.setCustom(o.CustomProperties.PAGE_ID,t.pageId).setCustom(o.CustomProperties.PROVIDER_RESPONSE_TYPE,o.AuctionType.CACHE)}function r(e,t){0!==h.length&&(t.cache||u.hbRequests.addArray(l),l=[])}function s(e,t){0!==g.length&&(t.cache||u.hbRequests.addArray(f),f=[])}function n(e){return e.status()===o.Status.SUCCESS&&t.isStringSet(e.get(o.Properties.CPM))&&"0"!==e.get(o.Properties.CPM)}function P(){return i.getPrefetchUrl(a.bidder)}function p(){0!==_.length&&(C.setInStorage(P(),_),u.cacheRequests.addArray(_),_=[])}var a,d,E,I={},m=null,g=[],_=[],h=[],f=[],l=[],A=this;this.config=function(e){return"object"==typeof e?(a=e,this):a[e]},this.priceMacro=function(){return A.config("price_macro")},this.getValidBidsStatusPerPlacement=function(e){E=e||[],m=m||{},t.each(e,function(e){m[e]=!1});var r=i.getHeaderBiddingUrl(a.bidder);return t.clock.tick("prefetchTime"),d=C.getBids(r,a.prvid,e),t.clock.tock("prefetchTime"),I.prefetchTime=t.clock.time("prefetchTime"),d&&t.each(d,function(e){m[e.get(o.Properties.PLACEMENT_ID)]=n(e)}),m},this.stats=function(e){return I[e]},this.useBidsForProvider=function(r,s){t.isArray(s)&&s.length>0&&t.each(s,function(s,o,i){var n=s.code;m[n]&&t.isSet(d)&&t.isSet(d[n])&&r(e(d[n],s),n,o===i-1,!0)})},this.useBidsFromCache=function(r,s,i,n){var u=n.length;t.each(n,function(i){u--,s.hasOwnProperty(i)&&t.each(s[i],function(s){if(t.isSet(s.prvid)&&s.prvid===a.prvid&&s.prf===!0){var n={};m[i]&&t.isSet(d)&&t.isSet(d[i])?(n=d[i],r(e(n,s),i,0===u,!0)):r((new o).status(o.Status.CANCELLED_NOT_IN_CACHE).set(o.Properties.PLACEMENT_ID,i).set(o.Properties.BIDDER_NAME,a.bidder).set(o.Properties.BIDDER_ID,a.prvid).set(o.Properties.CREATIVE_ID,s.crid).set(o.Properties.CPM,0).set(o.Properties.DFP_BID,0).set(o.Properties.CUSTOMER_BID_PRICE,0).set(o.Properties.SIZE,s.sizes[0].size).setCustom(o.CustomProperties.NOBID_REASON,c).setCustom(o.CustomProperties.COOKIE_FLAG,"0").setCustom(o.CustomProperties.COOKIE_SOURCE,"").setCustom(o.CustomProperties.PROVIDER_RESPONSE_TYPE,o.AuctionType.CACHE).setCustom(o.CustomProperties.PAGE_ID,s.pageId).setCustom(o.CustomProperties.ORIGINAL_CPM,0).setCustom(o.CustomProperties.TIMESTAMP,t.getCurrentTime()).setCustom(o.CustomProperties.AUCTION_TYPE,o.AuctionType.CACHE),i,0===u,!0)}})})},this.addForwardedResponse=function(e,r,o){0!==g.length||r||t.addToEventQueue("endOfResponse",A.config("prvid"),s),f.push(e),g.push(e),r&&s("forced",o)},this.addLateResponse=function(e,s,o){0!==h.length||s||t.addToEventQueue("endOfResponse",A.config("prvid"),r),l.push(e),h.push(e),s&&r("forced",o)},this.addToCache=function(e,r){0!==_.length||r||t.addToEventQueue("pushToCache",A.config("prvid"),p),_.push(e),r&&p()}}var c=15;return P.prototype.handlePostAuctionClose=function(e,s){if(s&&s.winner&&s.winner.id()===this.config("prvid")){var i=this.getTimeLinePixel(s.winner);s.winner.setCustom(o.CustomProperties.TIMELINE_PIXEL,i.replace(P.ORIGINAL_PRICE_MACRO,s.winner.getCustom(o.CustomProperties.ORIGINAL_CPM))),r.log(s.winner,"winningBid"),t.addToEventQueue("afterRender",s.winner.get(o.Properties.PLACEMENT_ID),t.getProxy(this.handlePostRendering,[],this))}t.consoleLog("Auction Closed for",e.src)},P.prototype.makeLoggingCalls=function(e){var r=e.getCustom(o.CustomProperties.LOGGING_PIXELS)||[];e.getCustom(o.CustomProperties.TIMELINE_PIXEL)&&r.push(e.getCustom(o.CustomProperties.TIMELINE_PIXEL)),r=i.resolveMacros(r,!0),t.logBeacons(r),e.setCustom(o.CustomProperties.BID_LOG_STATUS,!0)},P.prototype.handlePostRendering=function(e,t){r.log(t,"finalWinner");var s=t.getCustom(o.CustomProperties.RENDER_STATUS);return!t||t.id()!==this.config("prvid")||s!==!0&&void 0!==s||t.getCustom(o.CustomProperties.BID_LOG_STATUS)===!0?void 0:this.makeLoggingCalls(t)},P.prototype.getTimeLinePixel=function(e){for(var r=n.getAllBidsByAdUnit(e.get(o.Properties.PLACEMENT_ID),e.getCustom(o.CustomProperties.PAGE_ID)),s="",u=0,C=r.length;C>u;u++)s+=["&b",r[u].get(o.Properties.BIDDER_ID),"b","=",r[u].getCustom(o.CustomProperties.ORIGINAL_CPM)].join("");return(i.getTimelinePixelUrl()+t.buildUrlParameters({url:"%%PUBLISHER%%",domain:"%%PUBLISHER_HOST%%",apid:2,size:e.get(o.Properties.SIZE),at:e.getCustom(o.CustomProperties.AUCTION_TYPE),auction_id:e.getCustom(o.CustomProperties.AUCTION_ID),ip:i.getUserIP(),crid:e.get(o.Properties.CREATIVE_ID),cid:"%%CID%%",dt:P.DEVICE_TYPE_MACRO,bc:P.ORIGINAL_PRICE_MACRO,cc:i.getCountryCode(),ext_user_id:e.getCustom(o.CustomProperties.EXTERNAL_UID),bname:"<cm_win_macro>"})+s).replace("<cm_win_macro>",t.buildUrlParameters({cmw:e.get(o.Properties.BIDDER_ID)}))},P.ORIGINAL_PRICE_MACRO="%%BID_PRICE%%",P.ADJUSTED_PRICE_MACRO="%%ADJUST_PRICE%%",P.DEVICE_TYPE_MACRO="%%DEVICE_TYPE%%",P});_mNDefine("bidpricemanager",["util","config","bid","entitymanager"],function(t,e,i,r){"use strict";function s(t){return!isFinite(t)||isNaN(t)?0:t}function p(e,i){return t.isSet(i)&&(e-=e*i/100),e}function n(e,i,r){t.isSet(i[e])&&(r[e]=i[e])}function o(t,e){for(var i in t)t.hasOwnProperty(i)&&e.hasOwnProperty(i)&&n(i,t,e)}function d(t,e){e.pvsh=t.adUnitParam.pvsh||0,e.dpsh=t.adUnitParam.dpsh||0,e.rvsh=100-(t.adUnitParam.pbsh||100),e.rvshPreDFP=1===r.getRevenueCode()?e.rvsh||0:0}function c(t,e){e.ogbdp=s(t.ogbdp),e.bdp=p(p(e.ogbdp,e.pvsh),e.dpsh),e.clsprc=p(e.bdp,e.rvshPreDFP),e.cpm=e.clsprc,e.dfpbd=e.clsprc,e.cbdp=p(e.bdp,e.rvsh)}function a(e,r){e.set(i.Properties.CPM,t.decimalLimit(r.cpm)).set(i.Properties.BIDDER_PRICE,t.decimalLimit(r.bdp)).set(i.Properties.DFP_BID,t.decimalLimit(r.dfpbd)).set(i.Properties.CUSTOMER_BID_PRICE,t.decimalLimit(r.cbdp)).set(i.Properties.CLOSING_PRICE,t.decimalLimit(r.clsprc)).setCustom(i.CustomProperties.ORIGINAL_CPM,t.decimalLimit(r.ogbdp)).setCustom(i.CustomProperties.ZERO_ADJUSTMENT,r.pvsh).setCustom(i.CustomProperties.FIRST_ADJUSTMENT,r.dpsh).setCustom(i.CustomProperties.SECOND_ADJUSTMENT,r.rvsh)}function m(t,e){var i={};return e=e||{},e.adUnitParam=e.adUnitParam||{},d(e,i),c(e,i),o(e,i),a(t,i),t}return{setPriceProperties:m}});_mNDefine("thirdpartymanager",["util","config","bid","entitymanager"],function(e,r,t,n){"use strict";function i(){return m=m||n.require("logmanager")}function a(r,t){return c[r]&&c[r][t]&&e.isArray(c[r][t])&&c[r][t].length>0?c[r][t]:null}function o(r,t,n){return null===a(t,r)&&e.addToEventQueue("afterRenderExternal",r,i().auctionWinner.dispatchExternalWinner),c[t]=c[t]||{},c[t][r]=c[t][r]||[],c[t][r].push(n),{hasAnyWinningBid:s(n)}}function s(r){var n=r.get(t.Properties.THIRD_PARTY_TARGETS),i=r.get(t.Properties.THIRD_PARTY_TARGETS_GLOBAL);return e.isEmptyObject(n)&&e.isEmptyObject(i)?!1:(r.setCustom(t.CustomProperties.IS_WINNING_BID,"1"),!0)}function u(e,r,t){var n,i,o=a(r,e);if(o)for(n=0;n<o.length;n++)if(i=o[n],i.getAny("BIDDER_NAME")===t)return i;return void 0}function g(r,t){T=T||n.require("dfpmanager"),e.isSet(T)&&T.clearCustomTargeting(r,t)}function d(r){var o,s,u,d,f,p;if(!c.hasOwnProperty(r))return{};for(o in c[r])if(c[r].hasOwnProperty(o)&&(u=a(r,o),null!==u))for(s=0;s<u.length;s++)if(d=u[s],f=d.getAny("THIRD_PARTY_TARGETS_GLOBAL"),e.isSet(f)){n.isTimeStampExpired(d.getCustom(t.CustomProperties.TIMESTAMP),d.get(t.Properties.BIDDER_ID))&&(i().expiredBids.addNew(d),g(r,e.getObjectKeys(f)));for(p in f)f.hasOwnProperty(p)&&(l[p]=f[p])}return l}function f(e,o){var s,u,g,d,f,p=a(o,e),T=[];if(p)for(s=0;s<p.length;s++)if(u=p[s],g=u.get(t.Properties.THIRD_PARTY_TARGETS),n.isTimeStampExpired(u.getCustom(t.CustomProperties.TIMESTAMP),u.get(t.Properties.BIDDER_ID)))i().expiredBids.addNew(u);else{if(d={},g){for(f in g)g.hasOwnProperty(f)&&(d[f]=g[f]||"");n.shouldTargetMnetHV(u)&&(d[r.miscExTargetParams.HIGH_VALUE_BID]=1)}T.push(d)}return T}function p(r,t){var n=t&&t.pageId,i=t&&t.placements;l={},e.isSet(n)&&e.isArray(i)&&i.length>0&&void 0!==c[n]&&e.each(i,function(e){c[n][e]=[]})}var T,m,c={},l={};return e.addToEventQueue("all:reset","command",p),{getPlacementMap:a,addBidResponse:o,getTargetingParamsForCode:f,getBidForPlacementIdAndBidder:u,refresh:p,getGlobalTargetingParams:d}});_mNDefine("logmanager",["util","mnetHbConsole","config","bid","entitymanager"],function(e,t,E,I,s){"use strict";function i(t){return e.isSet(t)&&1!==e.getRandom(1,parseInt(t,10))?!0:!1}function _(e){var t=s.getLoggingParams();return!t.hasOwnProperty(e)||0===t[e]||i(t[e])?!0:!1}function n(t){return e.encodeParam((t[Q.TEST_DATA]||"")+"|"+s.getTestDataForPlacement(t[z.PLACEMENT_ID]))}function D(){function E(t){var E=s.resolveMacros(e.buildUrlParameters(Z.start),!0),I=s.resolveMacros(e.buildUrlParameters(Z.end),!0);return _.path+E+t+I}function I(){_.reset()}var i="",_=this,n=0;this.path="",this.model=function(){},this.fire=function(){if(0!==i.length){var I=E(i);t.log(I,"logUrl"),e.logBeacons(I),i="",n=0}},this.addNew=function(e,t,E){},this.addArray=function(t){return e.each(t,this.addNew)},this.append=function(I){var s=e.buildCollectionUrlItem(I.getAll()),_=s.length;if(n+_>$){var D=E(i);t.log(D,"logUrl"),e.logBeacons(D),i=s,n=_}else i+=s,n+=_},this.reset=function(){_.fire()},e.addToEventQueue("all:reset","command",I)}function r(t,E){t.set(K.ID,E[z.BIDDER_ID]||"").set(K.ACCOUNT_ID,E[Q.PROVIDER_ACCOUNT_ID]||"").set(K.API_ID,E[Q.PROVIDER_API_ID]||"").set(K.COOKIE_ID,e.encodeParam(E[Q.PROVIDER_COOKIE_ID]||""))}function T(e,t){e.set(K.DISC_SHARE,t[Q.ZERO_ADJUSTMENT]||0).set(K.PRV_SHARE,t[Q.FIRST_ADJUSTMENT]||0).set(K.REV_SHARE,t[Q.SECOND_ADJUSTMENT]||0)}function a(e,t){e.set(x.ID,t[Q.PROVIDER_REQUEST_ID]||"").set(x.CRID,t[z.CREATIVE_ID]||"").set(x.SIZE,t[z.SIZE]||"").set(x.PAGE_ID,t[z.PAGE_ID]||"0").set(x.SECTION,s.getSection(t[z.PAGE_ID]||"0")).set(x.TYPE,t[Q.AUCTION_TYPE]||"")}function R(t,E){t.set(j.BID_PRICE,E[z.BIDDER_PRICE]||E[z.CPM]||"0").set(j.CUSTOMER_BID_PRICE,E[z.CUSTOMER_BID_PRICE]||"0").set(j.COOKIE_FLAG,E[Q.COOKIE_FLAG]||"").set(j.COOKIE_SOURCE,E[Q.COOKIE_SOURCE]||"").set(j.CATEGORY,e.encodeParam(E[Q.CATEGORY]||"")).set(j.ADVERTISER_ID,e.encodeParam(E[Q.ADVERTISER_ID]||"")).set(j.ADVERTISER_NAME,e.encodeParam(E[Q.ADVERTISER_NAME]||"")).set(j.ADVERTISER_URL,e.encodeParam(E[Q.ADVERTISER_URL]||"")).set(j.DFP_BID,E[z.DFP_BID]||"0").set(j.NUMBER_MULTI_SIZES,E[z.NUMBER_MULTI_SIZES]||"1").set(j.DEAL_ID,Y(E[Q.DEAL_TYPE])?E[Q.DEAL_ID]:"").set(j.DEAL_TYPE,E[Q.DEAL_TYPE]||"").set(j.EXTERNAL_PLACEMENT_CODE,E[Q.EXTERNAL_PLACEMENT_CODE]||"").set(j.ORIGINAL_BID_PRICE,E[Q.ORIGINAL_CPM]||"0").set(j.STATUS,E[z.STATUS]||"").set(j.STATUS_NAME,E[Q.STATUS_NAME]||"").set(j.DOMINANT_BID_FLAG,E[z.DOMINANT_BID_FLAG]||"1").set(j.BID_DATA,e.encodeParam(E[Q.BID_DATA]||"")).set(j.CAMPAIGN_ID,E[Q.CAMPAIGN_ID]||"").set(j.BUYER_ID,E[Q.BUYER_ID]||"")}function o(e,t){e.set(J.ID,t[Q.AUCTION_ID]||"").set(J.BID_RESPONSE_TYPE,t[Q.PROVIDER_RESPONSE_TYPE]||"")}function A(t,E){t.set(y.SERVER_TIME,E[Q.RESPONSE_TIME]||"").set(y.DATA_CENTER,e.encodeParam(E[Q.DATA_CENTER]||"")).set(y.WEB_SERVER_IP,e.encodeParam(E[Q.WEB_SERVER_IP]||"")).set(y.CLIENT_TIME,E[Q.LOAD_TIME]||"")}function d(){var e={};this.set=function(t,E){return e[t]=E,this},this.getAll=function(){return e}}function S(){d.call(this)}function l(){function t(e){e.getCustom(Q.AUCTION_TYPE)===I.AuctionType.CACHE?ee.record(1):e.getCustom(Q.AUCTION_TYPE)===I.AuctionType.HEADER_BID&&te.record(1)}function i(){r=!0,o.fire()}function _(){e.addToEventQueue("apiCallsSent","global",i),e.addToEventQueue("after:prefetch","global",i)}D.call(this);var r=!0,T="prf",a=s.getlper(T),R=!0,o=this;this.path=E.logUrls.providerFetchRequestPath,this.model=S,this.addNew=function(e,E,I){if(t(e),!R){r===!0&&(r=!1,_());var s=new o.model;e=e.serialize(),s.set(K.ID,e[z.BIDDER_ID]||"").set(x.ID,e[Q.PROVIDER_REQUEST_ID]||"").set(x.CRID,e[z.CREATIVE_ID]||"").set(k.LOG_PERCENT,a).set(x.TYPE,e[Q.AUCTION_TYPE]||"").set(x.SIZE,e[z.SIZE]||"").set(k.TEST_DATA,n(e)).set(j.NUMBER_MULTI_SIZES,e[z.NUMBER_MULTI_SIZES]||"1").set(j.DOMINANT_BID_FLAG,e[z.DOMINANT_BID_FLAG]||"1"),o.append(s)}}}function P(){d.call(this)}function c(){function t(){S-=1}function I(){return 0===S}D.call(this);var i=this,T="pr",o=_(T),d=s.getlper(T),S=0;this.path=E.logUrls.providerRequestPath,this.model=P,this.addNew=function(E,_,D){if(!o){var T=new i.model;E=E.serialize();var S=E[z.ADCODE]||"",l=E[Q.NOBID_REASON];S=e.isStringSet(S)?S.substring(0,99):"",e.isSet(l)||(l=""),S=S.replace(/(\n|\r|\t)/gm,""),a(T,E),r(T,E),R(T,E),A(T,E),T.set(j.NOBID_REASON,l).set(j.BIDDER_INFO_BIDDER_ID,e.encodeParam(E[Q.BIDDER_INFO_BIDDER_ID]||"")).set(j.TO_CONSIDER,E[Q.TO_CONSIDER]||"1").set(k.TEST_DATA,n(E)).set(k.LOG_PERCENT,d),s.needsAdCodeLogging()&&T.set(j.RAW_ADTAG,e.encodeParam(S)),i.append(T),t(),I()&&i.fire()}},this.record=function(e){S+=e},e.addToEventQueue("log:trigger","command",i.fire)}function N(){d.call(this)}function C(){function t(t,E,I){E=E.serialize();var i=E[z.ADCODE]||"",_=E[Q.NOBID_REASON];return i=e.isStringSet(i)?i.substring(0,99):"",e.isSet(_)||(_=""),i=e.isStringSet(i)?i.substring(0,99):"",i=i.replace(/(\n|\r|\t)/gm,""),r(t,E),T(t,E),a(t,E),R(t,E),o(t,E),A(t,E),t.set(x.REFERRING_VISIT_ID,E[Q.REFERRING_VISIT_ID]||"").set(j.BID_REUSED_FLAG,E[Q.BID_REUSED_FLAG]||0).set(j.IS_WINNING_BID,E[Q.IS_WINNING_BID]||"0").set(j.NOBID_REASON,_).set(J.TOTAL_TIME,I||0).set(J.SERIAL_NO,E[Q.AUCTION_SERIAL_NO]||"1").set(X.DIV_ID,E[Q.DFP_DIV_ID]||"").set(X.POS,E[Q.DFP_DIV_POSITION]||"").set(k.TEST_DATA,n(E)).set(k.LOG_PERCENT,d),s.needsAdCodeLogging()&&t.set(j.RAW_ADTAG,e.encodeParam(i)),t}D.call(this);var I=this,i="ap",d=s.getlper(i),S=_(i);this.model=N,this.path=E.logUrls.auctionParticipantPath,this.addNew=function(E){var s=E.auctionTime,i=E.bids;e.isArray(i)&&0!==i.length&&!S&&e.each(i,function(e){if(14!==parseInt(e.id())){var E=new I.model,i=t(E,e,s);I.append(i)}})},e.addToEventQueue("log:trigger","command",I.fire)}function O(){d.call(this)}function u(){D.call(this);var t=this,I="exp",i=s.getlper(I),n=_(I);this.model=O,this.path=E.logUrls.expiredBidsPath;var r=this.model.props;this.addNew=function(E,I,s){if(!n){var _=new t.model,D=0;E=E.serialize(),e.isSet(E[Q.TIMESTAMP])&&(D=e.getCurrentTime()-E[Q.TIMESTAMP]),_.set(K.ID,E[z.BIDDER_ID]||"").set(x.ID,E[Q.PROVIDER_REQUEST_ID]||"").set(x.REFERRING_VISIT_ID,E[Q.REFERRING_VISIT_ID]||"").set(x.CRID,E[z.CREATIVE_ID]||"").set(x.TYPE,E[Q.AUCTION_TYPE]||"").set(j.BID_PRICE,E[z.BIDDER_PRICE]||E[z.CPM]||"0").set(j.CUSTOMER_BID_PRICE,E[z.CUSTOMER_BID_PRICE]||"0").set(j.ORIGINAL_BID_PRICE,E[Q.ORIGINAL_CPM]||"0").set(j.STATUS,E[z.STATUS]||"").set(j.STATUS_NAME,E[Q.STATUS_NAME]||"").set(J.ID,E[Q.AUCTION_ID]||"").set(k.LOG_PERCENT,i).set(y.CLIENT_TIME,E[Q.LOAD_TIME]).set(j.BID_REUSED_FLAG,E[Q.BID_REUSED_FLAG]||0).set(r.TIME_DIFFERENCE,D),t.append(_)}},e.addToEventQueue("log:trigger","command",t.fire)}function h(){d.call(this)}function g(e){return-1!==e.indexOf("P")}function f(){function e(e){return g(e)||!_(I)}D.call(this);var t=this,I="cslog",i=s.getlper(I);this.path=E.logUrls.casaleDebugUrl,this.model=h;var n=this.model.props;this.addNew=function(E,I,s){if(e(E)){var _=new this.model;_.set(y.CLIENT_TIME,I).set(n.INDEX_SLOTS_LIST,E).set(k.LOG_PERCENT,i).set(x.ID,s),t.append(_),t.fire()}}}function p(){d.call(this)}function L(){function t(e){if(!e||!e[E.bidderExTargetParams.DFP_BID])return!1;if(T)return!0;var t=parseFloat(e[E.bidderExTargetParams.DFP_BID][0]);return n&&isFinite(t)?t>=n:!1}D.call(this);var I=this,i="sw",n=s.getSlotLogEcpm()||null,r=s.getlper(i),T=!_(i);this.path=E.logUrls.slotLoggingPixel,this.model=p;var a=new I.model;this.addDFPSlotData=function(e){t(e)&&(a.set(j.ADVERTISER_ID,e.advertiserId).set(j.CAMPAIGN_ID,e.campaignId).set(x.CRID,e.creativeId).set(X.LINEITEM_ID,e.lineItemId).set(X.SLOT_ELEMENT_ID,e.slotElementId).set(X.SIZE,e.dfpDivSize).set(k.LOG_PERCENT,r).set(j.CPM,e[E.bidderExTargetParams.DFP_BID][0]).set(X.LABEL_ID,e.labelIds.join("|")).set(K.ID,e[E.bidderExTargetParams.BIDDER_ID]||"").set(j.ORIGINAL_BID_PRICE,e.originalBidPrice),this.append(a))},e.addToEventQueue("log:trigger","command",I.fire)}function B(){var t=s.getCustomUtilityWrapper();return e.isSet(t)&&e.isFunction(t.isGoogleDisplayCalled)&&t.isGoogleDisplayCalled()===!0}function m(){d.call(this)}function U(){D.call(this);var t=this,I="idl",i=s.getlper(I);this.path=E.logUrls.initLoggingPixel,this.model=m;var n=new t.model,r=this.model.props;this.gatherSlotData=function(){if(!_(I)){var t=B();if(t!==!1){var E=window.googletag.pubads().getSlots(),s=[],D=[];e.each(E,function(e){s.push(e.getSlotElementId()),D.push(JSON.stringify(e.getTargetingMap()))}),n.set(r.SLOT_LIST,s.join("|")).set(r.KV_LIST,D.join("|")).set(r.PUBADS_DEFINED,t?1:0).set(k.LOG_PERCENT,i),this.append(n),this.fire()}}}}function M(){d.call(this)}function v(){D.call(this);var e=this,t="gptr";this.path=E.logUrls.gptRequestPath,this.model=M;var I=this.model.props;this.addNew=function(E,i,n,D){if(!_(t)){var r=new e.model;r.set(x.CUSTOMER_ID,E).set(y.CLIENT_TIME,i).set(k.LOG_PERCENT,s.getlper(t)).set(I.WAIT_TIME,n).set(I.TOTAL_WAIT_TIME,D),e.append(r),e.fire()}}}function G(){d.call(this)}function V(){D.call(this);var t="gpts",I=this,i=s.getlper(t),n=!_(t);this.path=E.logUrls.gptSlotPath,this.model=G,this.addSlotLogData=function(t){if(n){var E=new I.model;E.set(X.SLOT_ELEMENT_ID,e.encodeParam(t.elementId||"")).set(X.SIZES,e.encodeParam(t.sizes||"")).set(X.TARGETING_PARAMS,e.encodeParam(t.customCriteria||"")).set(k.LOG_PERCENT,i).set(X.SLOT_RENDER_TIME,e.encodeParam(t.slotRenderTime||"")).set(X.SLOT_PATH,e.encodeParam(t.dfpSlotId)||""),I.append(E)}},this.addNew=function(){if(n){var t;try{t=window._mNRequire(["dfpmanager"])[0]}catch(E){return}var s=t.getAllDFPSlotsInfo();e.each(s,I.addSlotLogData)}},e.addToEventQueue("log:trigger","command",I.fire)}function F(){d.call(this)}function w(){function t(t,E){return e.each(E,function(e,E){t.set(E,e)}),t}function I(e,t){return"99"===t[z.BIDDER_ID]&&e.set(j.ORIGINAL_BID_PRICE,"0").set(j.BID_PRICE,"0").set(j.CUSTOMER_BID_PRICE,"0").set(j.DFP_BID,"0"),e}function i(E,i,_,D,d){return r(E,i),T(E,i),a(E,i),R(E,i),o(E,i),A(E,i),E.set(K.SUB_BIDDER_ID,s.setGetSubBidderId(i[Q.PAGE_ID],i[z.CREATIVE_ID])||"").set(j.BID_REUSED_FLAG,i[Q.BID_REUSED_FLAG]||0).set(J.TOTAL_TIME,D||0).set(X.DIV_ID,i[Q.DFP_DIV_ID]||"").set(X.POS,i[Q.DFP_DIV_POSITION]||"").set(k.LOG_PERCENT,c).set(k.TEST_DATA,n(i)).set(q+K.ID,_[z.BIDDER_ID]||"").set(q+j.ORIGINAL_BID_PRICE,_[Q.ORIGINAL_CPM]||"0").set(q+K.DISC_SHARE,_[Q.ZERO_ADJUSTMENT]||0).set(q+K.PRV_SHARE,_[Q.FIRST_ADJUSTMENT]||0).set(q+K.REV_SHARE,_[Q.SECOND_ADJUSTMENT]||0).set(q+x.TYPE,_[Q.AUCTION_TYPE]||"").set(q+J.BID_RESPONSE_TYPE,_[Q.PROVIDER_RESPONSE_TYPE]||"").set(q+j.BID_DATA,e.encodeParam(_[Q.BID_DATA]||"")).set(q+j.BID_PRICE,_[z.BIDDER_PRICE]||_[z.CPM]||"0").set(q+j.CUSTOMER_BID_PRICE,_[z.CUSTOMER_BID_PRICE]||"0").set(q+j.BUYER_ID,_[Q.BUYER_ID]||"").set(q+j.CATEGORY,e.encodeParam(_[Q.CATEGORY]||"")).set(q+j.CAMPAIGN_ID,_[Q.CAMPAIGN_ID]||"").set(q+j.ADVERTISER_ID,e.encodeParam(_[Q.ADVERTISER_ID]||"")).set(q+j.ADVERTISER_NAME,e.encodeParam(_[Q.ADVERTISER_NAME]||"")).set(q+j.ADVERTISER_URL,e.encodeParam(_[Q.ADVERTISER_URL]||"")),t(E,d),I(E,i)}function d(e,E,I,s){return r(e,E),T(e,E),a(e,E),R(e,E),o(e,E),A(e,E),e.set(X.DIV_ID,E[Q.DFP_DIV_ID]||"").set(j.BID_REUSED_FLAG,E[Q.BID_REUSED_FLAG]||0).set(J.TOTAL_TIME,I||0).set(X.POS,E[Q.DFP_DIV_POSITION]||"").set(k.LOG_PERCENT,c).set(k.TEST_DATA,n(E)).set(K.SUB_BIDDER_ID,"").set(q+K.ID,"").set(q+j.ORIGINAL_BID_PRICE,"0").set(q+K.DISC_SHARE,0).set(q+K.PRV_SHARE,0).set(q+K.REV_SHARE,0).set(q+x.TYPE,"").set(q+J.BID_RESPONSE_TYPE,"").set(q+j.BID_DATA,"").set(q+j.BID_PRICE,"0").set(q+j.CUSTOMER_BID_PRICE,"0").set(q+j.BUYER_ID,"").set(q+j.CATEGORY,"").set(q+j.CAMPAIGN_ID,"").set(q+j.ADVERTISER_ID,"").set(q+j.ADVERTISER_NAME,"").set(q+j.ADVERTISER_URL,""),t(e,s)}D.call(this);var S=this,l="ad",P=_(l),c=s.getlper(l),N={};this.path=E.logUrls.auctionDecisionPath,this.model=F,this.buildLog=i,this.addNew=function(e){var t,E=e.winningBid.serialize(),I=E[Q.PAGE_ID],s=e.auctionTime,_=E[z.PLACEMENT_ID];if(N[I]=N[I]||{},!P&&!N[I][_]){var n=new S.model;if(e.minimal)t=d(n,E,s,e.tp);else{var D=e.secondWinner?e.secondWinner.serialize():{};t=i(n,E,D,s,e.tp),ie.addToAuctionWinnerMap(E[z.PLACEMENT_ID],t)}N[I][_]=!0,S.append(t)}},this.reset=function(){S.fire(),N={}},s.logADonSetTargeting()&&!s.isMnetBidderRequest()?e.addToEventQueue("adlog:trigger","command",S.fire):e.addToEventQueue("log:trigger","command",S.fire)}function Y(e){return"P"===e}function b(){D.call(this);var t=this,I={},i={};this.model=F,this.path=E.logUrls.auctionWinnerPath,this.addToAuctionWinnerMap=function(t,E){i[t]=E,e.addToEventQueue("afterRender",t,ie.dispatchWinner)},this.dispatchDirectWinner=function(e){e=e.serialize();var E=new t.model;se.buildLog(E,e,{},"",{}),E.set(x.SIZE,e[z.SIZE]||"").set(j.STATUS,e[z.STATUS]||"").set(x.TYPE,e[Q.AUCTION_TYPE]||"").set(k.TEST_DATA,n(e)),t.append(E),t.fire()},this.dispatchWinner=function(e,E){E=E.serialize();var s=E[z.PLACEMENT_ID];void 0===I[s]&&(i[s].set(x.SIZE,E[z.SIZE]||""),i[s].set(j.STATUS,E[z.STATUS]||""),i[s].set(x.TYPE,E[Q.AUCTION_TYPE]||""),i[s].set(k.TEST_DATA,n(E)),t.append(i[s]),t.fire(),I[s]=!0)},this.setNewWinnerForPlacement=function(e,E){var I=new t.model,s=E?E.serialize():{},_=se.buildLog(I,s,{},"",s.tp);i[e]=_},this.dispatchExternalWinner=function(E,I){var i=I.winningBid,_=I.secondBid,D=i.serialize(),A=new t.model,d=D[z.PLACEMENT_ID];r(A,D),T(A,D),a(A,D),R(A,D),o(A,D),A.set(X.DIV_ID,D[Q.DFP_DIV_ID]||"").set(X.POS,D[Q.DFP_DIV_POSITION]||"").set(y.CLIENT_TIME,D[Q.LOAD_TIME]||"").set(k.TEST_DATA,n(D)),e.isSet(_)&&(_=_.serialize(),A.set(q+K.ID,_[z.BIDDER_ID]||"").set(q+j.ORIGINAL_BID_PRICE,_[Q.ORIGINAL_CPM]||"0").set(q+K.DISC_SHARE,_[Q.ZERO_ADJUSTMENT]||0).set(q+K.PRV_SHARE,_[Q.FIRST_ADJUSTMENT]||0).set(q+K.REV_SHARE,_[Q.SECOND_ADJUSTMENT]||0).set(q+x.TYPE,_[Q.AUCTION_TYPE]||"").set(q+j.BID_PRICE,_[z.BIDDER_PRICE]||_[z.CPM]||"0").set(q+j.CUSTOMER_BID_PRICE,_[z.CUSTOMER_BID_PRICE]||"0").set(q+j.BUYER_ID,_[Q.BUYER_ID]||"").set(q+j.CATEGORY,e.encodeParam(_[Q.CATEGORY]||"")).set(q+j.CAMPAIGN_ID,_[Q.CAMPAIGN_ID]||"").set(q+j.ADVERTISER_ID,e.encodeParam(_[Q.ADVERTISER_ID]||"")).set(q+j.ADVERTISER_NAME,e.encodeParam(_[Q.ADVERTISER_NAME]||"")).set(q+j.ADVERTISER_URL,e.encodeParam(_[Q.ADVERTISER_URL]||""))),3===D[z.BIDDER_ID]&&A.set(K.SUB_BIDDER_ID,s.setGetSubBidderId(D[Q.PAGE_ID],d)).set(K.BASE_BIDDER_ID,D[Q.BASE_BIDDER_ID]),t.append(A),t.fire()},this.reset=function(){I={}}}function W(){e.triggerEvent("log:trigger","command",!0),setTimeout(W,s.getLogIntervalAfterOnload()||2e3)}function H(){s.isAmpRequest()||e.eventLib.addEvent(window,"load",function(){(new V).addNew()}),e.eventLib.addEvent(window,"load",W),e.addToEventQueue("resetAw","command",ie.reset)}var Z={start:{dn:"%%PUBLISHER_HOST%%",cid:"%%CID%%",ugd:"%%DEVICE_TYPE%%",vid:"%%VISIT_ID%%",vsid:"%%VISITOR_ID%%",sd:"%%SESSION_DEPTH%%",gtd:"%%GPT_TAG_DELAY%%",gfd:"%%GPT_FUNCTION_DELAY%%",cc:"%%COUNTRY_CODE%%",abte:"%%AB_TESTS%%",adbd:"%%AD_BLOCK_DETECTED%%",amp:"%%IS_AMP_REQUEST%%",version:"%%VERSION%%"},end:{requrl:"%%PUBLISHER%%",kwrf:"%%REFERRER%%"}},z=I.Properties,Q=I.CustomProperties,q="sc_",K={ID:"pvid",ACCOUNT_ID:"prvAccId",API_ID:"prvApiId",COOKIE_ID:"pcId",DISC_SHARE:"adj0",PRV_SHARE:"adj1",REV_SHARE:"adj2",SUB_BIDDER_ID:"sbdrid",BASE_BIDDER_ID:"bbdrid"},x={ID:"prvReqId",REFERRING_VISIT_ID:"refVisId",CRID:"crid",TYPE:"prspt",SIZE:"size",CUSTOMER_ID:"cid",PAGE_ID:"pageId",SECTION:"sec"},y={CLIENT_TIME:"ltime",SERVER_TIME:"rtime",DATA_CENTER:"dtc",WEB_SERVER_IP:"wsip"},J={ID:"acid",TOTAL_TIME:"actltime",SERIAL_NO:"acsn",BID_RESPONSE_TYPE:"act"},j={STATUS:"s",STATUS_NAME:"snm",ORIGINAL_BID_PRICE:"ogbdp",NOBID_REASON:"nbr",BIDDER_INFO_BIDDER_ID:"binfobid",TO_CONSIDER:"toconsider",CATEGORY:"cat",BID_PRICE:"bdp",CUSTOMER_BID_PRICE:"cbdp",CLOSING_PRICE:"clsprc",BID_DATA:"vgd_bdata",DFP_BID:"dfpBd",RAW_ADTAG:"rawtag",BID_REUSED_FLAG:"brf",BUYER_ID:"bId",CAMPAIGN_ID:"cmpid",ADVERTISER_ID:"advId",DEAL_ID:"di",DEAL_TYPE:"dt",ADVERTISER_NAME:"advNm",ADVERTISER_URL:"advUrl",IS_WINNING_BID:"iwb",COOKIE_FLAG:"ckfl",CPM:"dfpBd",NUMBER_MULTI_SIZES:"nms",DOMINANT_BID_FLAG:"dbf",COOKIE_SOURCE:"cs",EXTERNAL_PLACEMENT_CODE:"epc"},X={DIV_ID:"dfpDiv",POS:"dfpPos",LINEITEM_ID:"lid",SLOT_ELEMENT_ID:"sid",SIZE:"sz",SIZES:"szs",TARGETING_PARAMS:"tp",SLOT_PATH:"dsid",LABEL_ID:"lbid",SLOT_RENDER_TIME:"srt"},k={TEST_DATA:"td",LOG_PERCENT:"lper"},$=e.fromIE()?1600:7e3;e.inherits(S,d),e.inherits(l,D),e.inherits(c,D);var ee=new c,te=new c;e.inherits(N,d),e.inherits(C,D);var Ee=new C;e.inherits(O,d),O.props={TIME_DIFFERENCE:"timd"},e.inherits(u,D);var Ie=new u;e.inherits(h,d),h.props={INDEX_SLOTS_LIST:"isl"},e.inherits(f,D),e.inherits(p,d),m.props={SLOT_LIST:"sl",KV_LIST:"kl",PUBADS_DEFINED:"pd"},e.inherits(m,d),e.inherits(U,D),e.inherits(M,d),M.props={WAIT_TIME:"wt",TOTAL_WAIT_TIME:"twt"},e.inherits(v,D),e.inherits(G,d),e.inherits(V,D),e.inherits(F,d),e.inherits(w,D);var se=new w;e.inherits(b,D);var ie=new b;return H(),{fetchRequests:new l,cacheRequests:ee,hbRequests:te,auctionParticipants:Ee,auctionDecisions:se,auctionWinner:ie,expiredBids:Ie,CasaleDebug:new f,gptSlots:new V,gptRequest:new v,dfpAdDataLog:new L,initDebugLog:new U}});_mNDefine("dfpmanager",[window,"_mNRP","util","mnetHbConsole","config","bid","entitymanager","placementmanager","bidmanager","thirdpartymanager","abtestmanager","logmanager","loghelper"],function(e,t,r,n,i,a,o,g,s,d,u,l,c){"use strict";function f(e,t){J[e]=t}function m(e){return r.isSet(e)?J[e]||"":""}function p(){e.googletag&&e.googletag._loadStarted_||e.advBidxc.isAdServerLoaded||(r.clock.tock("init"),r.clock.tick("gptLoad"),n.event("GPT loaded"),r.loadScript("//www.googletagservices.com/tag/js/gpt.js",T),$=e.advBidxc.startTime?r.getCurrentTime()-e.advBidxc.startTime:-1,e.advBidxc.isAdServerLoaded=!0)}function T(){r.clock.tock("gptLoad")}function S(){return e.googletag&&"function"==typeof e.googletag.pubads&&e.googletag.pubads()&&"function"==typeof e.googletag.pubads().getSlots&&e.googletag.pubads().getSlots()?!0:!1}function v(t){var n,i,a=e;return a.top==a&&(n=r.getWindowDimension(a),i=t.getSizes(n.width,n.height),r.isSet(i))?i:t.getSizes()||[]}function P(){var t,r,n,i=[];if(!S())return i;for(t=e.googletag.pubads().getSlots(),r=0,n=t.length;n>r;r++){var a,o,g=v(t[r]),s=t[r].getTargetingMap(),d=[],u=[],l={};for(a=0;a<g.length;a++)"object"==typeof g[a]&&d.push(g[a].getWidth()+"x"+g[a].getHeight());for(o in s)s.hasOwnProperty(o)&&u.push(o+"="+s[o][0]);l.elementId=t[r].getSlotElementId(),l.dfpSlotId=t[r]&&t[r].getSlotId()&&t[r].getSlotId().getId(),l.sizes=d.join("|"),l.customCriteria=u.join("|"),l.slotRenderTime=m(l.elementId),i.push(l)}return i}function I(t,r){for(var n=e.googletag.pubads().getSlots(),i=n.length-1,a=0;i>=a;i--)if(O(n[i],t,r))return n[i]}function E(){return o.isInfiniteScrollEnabled()&&parseInt(s.getCurrentPage())>0}function h(n){var i;if(1!==e.advBidxc.noTarget){var a=void 0!==n;n=!!n;var g,u,f;if(Y||(l.gptRequest.addNew(o.getCid(),r.clock.time("gptLoad"),r.clock.time("init"),$),Y=!0),S()){var m=s.getAllAdUnitCodesArray();if(r.isArray(m)){var p,T,v,P,h="0";for(p=0,T=m.length;T>p;p++)v=m[p],P=I(v,E()||a&&!n),P&&(P&&E()&&(i=o.require("infinitescrollmanager"),r.isSet(q)&&r.isFunction(q.parseSlotID)?h=q.parseSlotID(P):r.isSet(i)&&r.isFunction(i.parseSlotID)&&(h=i.parseSlotID(P))),Z[h]=Z[h]||{},Z[h]&&Z[h][v]===!0||D(P,v)&&(s.shutDown(h,v),c.logAuctionParticipants(v,h,P),Z[h][v]=!0,r.triggerEvent("afterTargeting",v),t.execSafe(z,v,P,h,n)));r.triggerEvent("adlog:trigger","command",!0),Q[h]=Q[h]||{},g=d.getGlobalTargetingParams(h),f=e.googletag.pubads();for(u in g)g.hasOwnProperty(u)&&!Q[h][u]&&(f.setTargeting(u,g[u]),Q[h][u]=!0)}}}}function D(e,t){var n=G(t);return r.any(n,function(t){return x(e,t.w,t.h)?!0:void 0})}function y(e,t){r.isSet(e)&&r.isSet(t)&&Z[e]&&Z[e][t]!==!1&&(Z[e][t]=!1)}function C(t,n){var a=I(t,!1);if(void 0!==a){var o=a.getTargetingMap(),g=o[i.bidderExTargetParams.BIDDER_ID];delete o[i.defaultExTargetParams.NO_BID],void 0!==g&&(o[i.defaultExTargetParams.WINNER]=g);var s=i.bidderExTargetParams;for(var u in s)s.hasOwnProperty(u)&&o.hasOwnProperty(s[u])&&delete o[s[u]];var l=i.miscExTargetParams;for(u in l)l.hasOwnProperty(u)&&o.hasOwnProperty(l[u])&&delete o[l[u]];var c,f,m=d.getTargetingParamsForCode(t,n);for(u=0;u<m.length;u++){c=m[u];for(f in c)c.hasOwnProperty(f)&&o.hasOwnProperty(f)&&delete o[f]}a.clearTargeting();for(f in o)o.hasOwnProperty(f)&&a.setTargeting(f,o[f]);var p=d.getGlobalTargetingParams(n);for(f in p)p.hasOwnProperty(f)&&(e.googletag.pubads().clearTargeting(f),r.isSet(Q[n][f])&&delete Q[n][f])}}function _(t,n){for(var i=0,a=n.length;a>i;i++)e.googletag.pubads().clearTargeting(n[i]),r.isSet(Q[t][n[i]])&&delete Q[t][n[i]]}function A(e,t){return{w:e,h:t}}function w(e,t){return e>=t&&t+ee>=e}function x(e,t,r){for(var n=v(e),i=0;i<n.length;i++)if("object"==typeof n[i]&&w(n[i].getWidth(),t)&&w(n[i].getHeight(),r))return!0;return!1}function b(e,t){var n=t.getSlotElementId(),i=t&&t.getSlotId()&&t.getSlotId().getId();if(e.code===i)return!0;if(e.code===n)return!0;var a=!1;try{r.isSet(q)&&r.isFunction(q.isValidSlotCodeCheckByBidder)&&(a=!0)}catch(o){}return a?q.isValidSlotCodeCheckByBidder(N,e,t):r.isSet(e.dfpDivIds)&&r.checkItemExists(e.dfpDivIds,n+",")?!0:r.isSet(e.custTargs)&&N(t,e.custTargs)?!0:!1}function O(e,t,n){var i,a=g.getAllSlots(),s=!1;if(!r.isFunction(e.getSlotElementId))return!1;if(i=e.getSlotElementId(),s!==!0&&(s=r.any(a,function(r){return t===r.code&&b(r,e)?!0:void 0})||!1),n===!1)return s;var d=o.require("gptmanager");return s&&!(d&&d.isSlotRendered(i))}function B(e,t){var n=e&&e.getSlotId()&&e.getSlotId().getId(),i=e&&e.getSlotElementId();return r.any(t,function(e){return r.isSet(n)&&e.key===K.REGEX_ADUNIT_PATH?new RegExp(e.value).test(n):r.isSet(i)&&e.key===K.REGEX_DIV_ID?new RegExp(e.value).test(i):void 0})||!1}function R(e,t){var n,i,a,o=e.getTargetingMap();return a=r.any(t,function(e){return r.isSet(e.key)&&r.isSet(e.value)?(n=e.key,i=e.value.split("|"),r.any(i,function(e){return r.isSet(o[n])&&r.isSet(e)&&o[n][0]===e?!0:void 0})):void 0})||!1}function N(e,t){return R(e,t)||B(e,t)}function G(e){var t=[],n=g.getAllSlots();return r.each(n,function(n,i){r.isSet(n.code)&&n.code===e&&r.isArray(n.sizes)&&n.sizes.length>0&&r.each(n.sizes,function(e){t.push(A(e[0],e[1]))})}),t}function k(e,t,n,g){var s,d=i.bidderExTargetParams,u=t.getTargetingMap(),l=o.resolveMacros("%%CID%%");for(s in d)if(d.hasOwnProperty(s)&&!(u&&d[s]in u)){var c;c=d[s]===d.BIDDER_TYPE?e[0].getCustom(a.CustomProperties.EXTERNAL_BIDDER_TYPE)||"mnet":d[s]===d.CUSTOMER_ID?l:d[s]===d.DFP_SIZE||d[s]===d.AUCTION_TYPE?e[0].getCustom(a.CustomProperties[s]):d[s]===d.SECOND_PROVIDER_ID?r.isSet(e[1])?e[1].get(a.Properties.BIDDER_ID):"":d[s]===d.TEST_DATA?(e[0].getCustom(a.CustomProperties[s])||"")+"|"+o.getTestDataForPlacement(e[0].get(a.Properties.PLACEMENT_ID)):e[0].get(a.Properties[s]),t.setTargeting(d[s],r.encodeParam(c))}F(e,t)}function F(e,t){"testbidder"===e[0].name()&&t.setTargeting("mnTest","1")}function M(e){return r.any(i.bidderExTargetParams,function(t){return e===t?!0:void 0})}function L(e,t,r,n,i){for(var a,o,g=t.getTargetingMap(),s=!1,d=0;d<e.length;d++){a=e[d];for(o in a)!a.hasOwnProperty(o)||g&&o in g||(M(o)||(s=!0,i.tp[o]=a[o]),t.setTargeting(o,a[o]))}return s}function V(e,t){o.needsDomainTargeting()&&e.setTargeting(i.miscExTargetParams.DOMAIN_NAME,o.getHostname()),t&&o.shouldTargetMnetHV(t)&&e.setTargeting(i.miscExTargetParams.HIGH_VALUE_BID,1)}function H(e,t){e.setTargeting(i.defaultExTargetParams.PAGE_ID,t.toString()),e.setTargeting(i.defaultExTargetParams.CC,o.getCountryCode()),e.setTargeting(i.defaultExTargetParams.UGD,o.getDeviceType())}function U(e){e.setTargeting(i.defaultExTargetParams.NO_BID,"1")}function z(e,t,n,i){var a,o=s.getWinningBidByCode(e,n,!0),g=!0,u={auctionTime:s.getAuctionTime(e,n),tp:{}};null!==o[0]?(a=o[0],g=!1,k(o,t,e,n),X(a,t),r.extend(u,{winningBid:a,secondWinner:o[1]})):(o=s.getAnyBid(n,e),X(o,t),r.extend(u,{winningBid:o,minimal:!0})),g=!L(d.getTargetingParamsForCode(e,n),t,e,n,u)&&g,l.auctionDecisions.addNew(u),g&&U(t),H(t,n),V(t,a),X(d.getPlacementMap(n,e),t)}function X(e,t){if(r.isStringSet(e)){var n,i=t.getSlotElementId(),o=t.getTargetingMap();r.isSet(o)&&o.pos&&r.isStringSet(o.pos[0])&&(n=o.pos[0]),r.isArray(e)||(e=[e]);for(var g=0;g<e.length;g++){var s,d=e[g];if(d.setCustom(a.CustomProperties.DFP_DIV_ID,i),r.isStringSet(n)&&d.setCustom(a.CustomProperties.DFP_DIV_POSITION,n),s=d.getCustom(a.CustomProperties.LOGGING_PIXELS),r.isArray(s)&&0!==s.length){for(var u=0;u<s.length;u++)-1!==s[u].indexOf("/rtblog")&&(s[u]=s[u]+"&chnm="+r.encodeParam(i));d.setCustom(a.CustomProperties.LOGGING_PIXELS,s)}}}}function j(e,t){return Z[e]&&Z[e][t]===!0}function W(){Q={}}var q,Y=!1,Q={},Z={},J={},K={REGEX_ADUNIT_PATH:"regex:adunit_path",REGEX_DIV_ID:"regex:div_id"},$=-2,ee=10;try{q=e._mNRequire(["customutil"])[0]}catch(te){}return r.addToEventQueue("all:reset","command",W),{triggerDFP:p,setTargetingForAdUnitsGPTAsync:h,clearTargeting:C,clearCustomTargeting:_,clearSlotsTargetedMap:y,refresh:W,findSlot:I,isSlotAlreadyTargeted:j,matchCustomAdunitTargets:N,getAllDFPSlotsInfo:P,hasDFPLoaded:S,needsInfiniteScroll:E,validateDFPSizes:D,setSlotRenderTime:f,isValidSlotCodeCheckByBidder:b,dfpDivUpdate:X}});_mNDefine("loghelper",["util","entitymanager","bidmanager","thirdpartymanager","placementmanager","logmanager"],function(t,e,a,i,r,n){"use strict";function p(p,l,u){var g=[],d={},o=a.getAuctionTime(p,l),s=e.require("nullbidder-adapter");if(t.isSet(s)&&t.isFunction(s.getNullBidByAdUnit)){var y=s.getNullBidByAdUnit(p,l);g.push(y)}var c=a.getAllBidsByAdUnit(p,l);t.isArray(c)&&c.length>0&&Array.prototype.push.apply(g,c);var m=i.getPlacementMap(l,p);t.isArray(m)&&m.length>0&&Array.prototype.push.apply(g,m);var A=a.getLateAuctionParticipants(l,r.getIdForName(p));if(A.length>0&&Array.prototype.push.apply(g,A),t.isSet(u)){var h=e.require("dfpmanager");t.isSet(h)&&h.dfpDivUpdate(g,u)}d.auctionTime=o,d.bids=g,n.auctionParticipants.addNew(d)}return{logAuctionParticipants:p}});_mNDefine("mnetHbConsole",[window,"util","config","entitymanager"],function(e,a,r,n){"use strict";function t(e,a){L&&L.hasIframeLoaded()?L.renderDataLoadUrlsAfterIframeLoad(a,e):T[a]=e}function o(e,a){L&&L.hasIframeLoaded()?L.renderAuctionTimeAfterIframeLoad(e,a):B[a]=e}function d(e,a,r){var n=e.serialize();L&&L.hasIframeLoaded()?L.renderBidsAfterIframeLoad(n):(A[r]=A[r]||{},A[r][a]=n)}function i(e){L&&L.hasIframeLoaded()?L.renderPrefetchBidsAfterIframeLoad(e):v.push(e)}function s(e){var a=e.serialize();L&&L.hasIframeLoaded()?L.renderWinnerAfterIframeLoad(a):k.push(a)}function f(e){for(h=0,g=y.length;g>h;h++)-1!==e.indexOf(y[h])&&(L&&L.hasIframeLoaded()?L.renderLogUrlsAfterIframeLoad(e,y[h]):I.push(e))}function c(e){if(e){var a=e.serialize();L&&L.hasIframeLoaded()?L.renderFinalWinnerAfterIframeLoad(a):b.push(a)}}function l(e,a,r,n){switch(a){case"dataLoadUrl":t(e,r);break;case"auctionTime":o(e,n);break;case"bid":d(e,r,n);break;case"prefetchBid":i(e);break;case"winningBid":s(e);break;case"logUrl":f(e);break;case"finalWinner":c(e)}}function m(e){e&&(e=e+" after "+a.clock.diff()+" ms",L&&L.hasIframeLoaded()?L.renderTimelineAfterIframeLoad(e):p.push(e))}function u(){var a=-1!==n.getPublisherUrl().indexOf("hb_console=1");if(a){var t=document.getElementsByTagName("script")[0],o=document.createElement("script"),d=n.resolveMacros("%%PROTOCOL%%://contextual.media.net/hbConsoleController.php?consoleRequest=1&%%HTTPS_FLAG%%"),i=!1;o.type="text/javascript",o.src=d,o.onload=o.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,e._mNRequire(["mnetHbConsoleRenderer"],function(e){L=e.renderer,L.handleTakeOver(r,T,B,v,I,A,k,b,p)}))},t.parentNode.insertBefore(o,t)}}var h,g,L,p=[],I=[],b=[],v=[],A={},k=[],T={},y=["prlog","adlog","awlog","aplog","prflog","gptrlog","gptslog","cslog"],B={};return{log:l,event:m,bootstrap:u}});_mNDefine("nullbidder-adapter",[window,"util","bid","entitymanager","bidmanager","placementmanager"],function(e,t,r,s,i,o){"use strict";function n(e,n){var d=o.getConfigByName(e),E=i.hasAnyWinningBid(e,n)?"1":"0";return(new r).status(r.Status.SUCCESS).set(r.Properties.PLACEMENT_ID,d.code).set(r.Properties.CREATIVE_ID,d.crid).set(r.Properties.SIZE,d.sizes[0].join("x")).set(r.Properties.BIDDER_ID,u.prvid).set(r.Properties.BIDDER_NAME,u.bidder).set(r.CustomProperties.AUCTION_ID,s.getAuctionId(n,e)).setCustom(r.CustomProperties.IS_WINNING_BID,E).setCustom(r.CustomProperties.AUCTION_TYPE,r.AuctionType.HEADER_BID).setCustom(r.CustomProperties.PROVIDER_RESPONSE_TYPE,r.AuctionType.HEADER_BID).setCustom(r.CustomProperties.PAGE_ID,n).setCustom(r.CustomProperties.TIMESTAMP,t.getCurrentTime())}var u={prvid:"0",bidder:"nullbidder"};return{getNullBidByAdUnit:n}});_mNDefine("infinitescrollmanager",["util","config","bid","entitymanager","bidmanager","dfpmanager"],function(e,t,n,r,a,i){"use strict";function g(t){var n=t&&t.getSlotElementId();return e.isSet(l[n])?l[n]:(l[n]=parseInt(a.getCurrentPage()),l[n])}function u(){var t=parseInt(a.getCurrentPage()),n=i.getAllDFPSlotsInfo();e.each(n,function(n){e.isSet(l[n.elementId])||(l[n.elementId]=t)}),a.updateCurrentPage(t+1)}var l={};return{init:u,parseSlotID:g}});_mNDefine("adxhelper",["util","entitymanager","placementmanager"],function(e,n,t){"use strict";function r(e,n){return x[e]=x[e]||{},x[e][n]=x[e][n]||!1,x[e][n]}function i(e,n,t){x[e]=x[e]||{},x[e][n]=t}function a(t,r){if(e.isSet(v[t]))return v[t];if(e.isSet(r.revExp)){if(!(e.getRandom(1,100)<=r.revExp))return v[t]=!1,!1;v[t]=!0,e.consoleLog(t)}return n.setTestDataForPlacement(t,"adx=1"),!0}function o(n,r){var i=t.getMnetAdxConfigByName(n);if(m[n]=m[n]||{},e.isSet(m[n][r]))return m[n][r];if(e.isSet(i)&&e.isSet(i.extProviderMap)){var a=e.isSet(i.extProviderMap[r])&&i.extProviderMap[r],o=e.isSet(i.extProviderMap.all)&&i.extProviderMap.all,u=a||o||0;if(e.getRandom(1,100)<=u)return m[n][r]=!0,!0}return m[n][r]=!1,!1}function u(){var t=n.getPublisherUrl(),r=["@","%40","%2540","phone","zip","email","mobile="];return e.any(r,function(e){return-1!==t.indexOf(e)?!0:void 0})||!1}function d(e,n){return s(e)&&o(e,n)}function f(e,n,t){return d(e,n)&&l(e,t)}function s(n){var r=t.getMnetAdxConfigByName(n);return!u()&&e.isSet(r)&&a(n,r)}function l(e,n){return s(e)&&r(n,e)!==!0?(i(n,e,!0),!0):!1}function c(n,t){var r=t&&t.placements,a=t&&t.pageId;e.isArray(r)&&r.length>0&&e.each(r,function(e){i(a,e,!1)})}var x={},v={},m={};return e.addToEventQueue("all:reset","command",c),{isMnetAdxEnabledForExternalBidder:d,isAdxPostBidToBeDoneForExternalProvider:f,isMnetAdxEnabled:s,isAdxPostBidToBeDone:l}});_mNDefine("mnetadxcontroller",["_mNRP","util","mnetHbConsole","config","bid","entitymanager","placementmanager","bidpricemanager","logmanager"],function(t,e,i,s,a,r,n,o,c){"use strict";function m(t,i,s){function a(t){for(var i=240,s=60*i*60*1e3,a=t.length-1;a>=0;a--)e.getCurrentTime()-t[a].timestamp>s&&t.splice(a,1);return t.length>5&&t.splice(0,t.length-3),t}function n(t,e){return t.cpm*(1+e/100)}function o(t,i,s,a){return e.isSet(a)||(a=s),e.isSet(t)&&e.isSet(i)?t.timestamp>i.timestamp?n(t,s):n(i,-a):e.isSet(t)?n(t,s):n(i,-a)}function c(t){var e=1,i=t.length-1,s=t[i].cpm;for(i-=1;i>=0&&Math.abs(t[i].cpm-s)<.2;i--)e++;return e}function m(t,e,i,s){return Math.abs(t.cpm-e.cpm)<.5||t.cpm>e.cpm?e.timestamp>t.timestamp?e.cpm-.25:c(i)>=2?t.cpm+.25:t.cpm:(t.cpm+e.cpm)/2}this.placementData=T.getPlacementData(t),this.placementId=t,this.predictionSettings=i.prediction,this.lastBid={},this.ceilPrice=s,this.placementData.wb=this.placementData.wb||[],this.placementData.lb=this.placementData.lb||[],this.pushed=!1,this.influenced=!1,this.setTestData=function(){e.isSet(this.placementData.confidence)||(this.placementData.confidence=0),this.placementData.confidence++,r.setTestDataForPlacement(this.placementId,"iter="+this.placementData.confidence),r.setTestDataForPlacement(this.placementId,"adxBid="+e.decimalLimit(this.lastBid.cpm))},this.reportSuccess=function(){this.pushed||(this.pushed=!0,this.lastBid.success=1,this.placementData.wb.push(this.lastBid),this.placementData.lb.length&&this.lastBid.cpm>this.placementData.lb[this.placementData.lb.length-1].cpm&&(this.placementData.lb=[]),T.updateDataForPlacementId(this.placementId,this.placementData))},this.reportFailure=function(){this.pushed||this.influenced||(this.pushed=!0,this.lastBid.success=0,this.placementData.lb.push(this.lastBid),T.updateDataForPlacementId(this.placementId,this.placementData))},this.updateLastCpm=function(t){parseFloat(t)-this.lastBid.cpm>.01&&(this.influenced=!0,this.lastBid.cpm=parseFloat(t))},this.decideLastBid=function(){var t=this.placementData.wb.length,i=this.placementData.lb.length,s=this.placementData.wb[t-1],a=this.placementData.lb[i-1];return e.isSet(a)&&e.isSet(s)&&1==this.predictionSettings.bSearch?m(s,a,this.placementData.wb,this.placementData.lb):e.isSet(s)||e.isSet(a)?o(s,a,this.predictionSettings.increment,this.predictionSettings.decrement):this.predictionSettings.seed},this.getBidPrediction=function(){return a(this.placementData.wb),a(this.placementData.lb),this.lastBid.cpm=this.decideLastBid(),this.lastBid.cpm>this.ceilPrice&&(this.lastBid.cpm=this.ceilPrice+e.getRandom(-25,25)/100),this.lastBid.timestamp=e.getCurrentTime(),this.setTestData(),this.lastBid.cpm}}function p(t,i){var r=n.getMnetAdxConfigByName(i),o=e.isArray(t)?t[0]:t;if(o&&o.get(a.Properties.BIDDER_ID)!==s.PROVIDER_IDS.YBNCA_ADX_FAILOVER&&e.isSet(r.pubDfpJackup)&&!b[i]){var c=parseFloat(o.get(a.Properties.DFP_BID)),m=parseFloat(o.get(a.Properties.DFP_BID))*(1+r.pubDfpJackup/100);r.maxPubDfpJackup&&m-c>r.maxPubDfpJackup&&(m=c+r.maxPubDfpJackup),o.set(a.Properties.DFP_BID,e.decimalLimit(m)),b[i]=!0}return t}function u(t,e){t.googletag=t.googletag||{},t.googletag.cmd=t.googletag.cmd||[],t.document.write('<div id="'+e+'"></div>'),t.document.write('<script src="//www.googletagservices.com/tag/js/gpt.js"> <\/script>');var i=t.googletag;i.cmd.push(function(){i.pubads().set("page_url",r.getPublisherUrl()),i.enableServices()})}function d(t,e){var i={};return i[s.mnetAdxTargetParams.CREATIVE_ID]=t.get(a.Properties.CREATIVE_ID),i[s.mnetAdxTargetParams.CPM]=e,i[s.mnetAdxTargetParams.VARIANT]="0",i}function l(t,e,i,s){t._mNDetails=function(){function t(t,a){e&&e.reportFailure(),s[0]=a,i.apply(null,s)}return{show:t}}()}function D(t,i,s,a,n,o){var c=parseFloat(t);return c*=1+i/100,s>c&&(c=s+e.getRandom(-s*a,s*a)/100,e.isSet(o)&&r.setTestDataForPlacement(o,"inflBid="+e.decimalLimit(c))),c>n&&(c=n+e.getRandom(-25,25)/100,e.isSet(o)&&r.setTestDataForPlacement(o,"cappedBid="+e.decimalLimit(c))),c}function g(t){return e.isSet(t.prediction)&&T.getPlacementData?!0:!1}function P(t){var i=t.getCustom(a.CustomProperties.GOOGLE_BID);return e.isSet(i)&&!isNaN(Number(i))?parseFloat(t.getCustom(a.CustomProperties.GOOGLE_BID)||0):0}function h(t,e,i){var s,r=new a;return s={adUnitParam:{pbsh:100-(e||0)},ogbdp:t,dfpbd:i},o.setPriceProperties(r,s)}function I(t,i){var s={};s.auctionTime=e.clock.time("mnetAdxPostBid"),i&&t.setCustom(a.CustomProperties.IS_WINNING_BID,"1"),s.bids=[t],c.auctionParticipants.addNew(s)}function C(t){c.hbRequests.addArray([t])}function f(t){var e={adUnitParam:{pvsh:100},ogbdp:t.getCustom(a.CustomProperties.ORIGINAL_CPM)||"0"};return t=o.setPriceProperties(t,e)}function _(t,i,o,p){var _=i.get(a.Properties.PLACEMENT_ID),b=n.getMnetAdxConfigByName(_),T=n.getYbncaAdxFailoverConfigByName(_),v=E+_+e.getRandom(1,1e5),N=b.ceilP||9.9,F=b.rvSh||0,O=parseFloat(i.get(a.Properties.DFP_BID))/(1-F/100);if(O>N)return void o.apply(null,p);e.clock.tick("mnetAdxPostBid"),u(t,v);var L,x,w,M,V=b.path,U=b.adtagId,G=b.increment||0,y=b.minPrice||0,k=b.deviation||0,J=t.googletag,X=i.get(a.Properties.DFP_BID),Y=i.get(a.Properties.SIZE).split("x"),W="";Y[0]=parseInt(Y[0]),Y[1]=parseInt(Y[1]),i.get(a.Properties.BIDDER_ID)===s.PROVIDER_IDS.YBNCA_ADX_FAILOVER&&(y=T.adxCpm,V=T.path||V,U=T.adtagId||U,G=0,r.setGetSubBidderId(i.getCustom(a.CustomProperties.PAGE_ID),_,A+W)),M=P(i),g(b)?(x=new m(_,b,N),(M>y||O>y)&&(M>O?(y=M,r.setTestDataForPlacement(_,"gBid="+e.decimalLimit(M))):y=O),L=D(x.getBidPrediction(),0,y,0,N,_),w=h(L,F,X),x.updateLastCpm(w.getCustom(a.CustomProperties.ORIGINAL_CPM))):(M>y?(y=M,r.setTestDataForPlacement(_,"gBid="+e.decimalLimit(M))):y=parseFloat(y)||0,L=D(O,G,y,k,N),w=h(L,F,X)),l(t,x,o,p),J.cmd.push(function(){var t=J.defineSlot(V,Y,v).addService(J.pubads()),n=d(i,w.getCustom(a.CustomProperties.ORIGINAL_CPM));e.each(n,function(e,i){t.setTargeting(i,e)}),J.pubads().addEventListener("slotRenderEnded",function(){e.clock.tock("mnetAdxPostBid"),setTimeout(function(){var t=i.get(a.Properties.BIDDER_ID),n=i.getCustom(a.CustomProperties.PAGE_ID)||"0",o=a.AuctionType.HEADER_BID,m=r.getProviderRequestID(n,S,o),p=w.status(a.Status.SUCCESS).set(a.Properties.BIDDER_ID,s.PROVIDER_IDS.MNET_ADX).set(a.Properties.BIDDER_NAME,S).set(a.Properties.CREATIVE_ID,i.get(a.Properties.CREATIVE_ID)).set(a.Properties.SIZE,i.get(a.Properties.SIZE)).set(a.Properties.PLACEMENT_ID,_).setCustom(a.CustomProperties.AUCTION_ID,i.getCustom(a.CustomProperties.AUCTION_ID)).setCustom(a.CustomProperties.PAGE_ID,n).setCustom(a.CustomProperties.AUCTION_TYPE,o).setCustom(a.CustomProperties.PROVIDER_REQUEST_ID,m).setCustom(a.CustomProperties.PROVIDER_NAME,B).setCustom(a.CustomProperties.PROVIDER_ACCOUNT_ID,U).setCustom(a.CustomProperties.RENDER_STATUS,!0).setCustom(a.CustomProperties.BASE_BIDDER_ID,t).setCustom(a.CustomProperties.AUCTION_SERIAL_NO,"2").setCustom(a.CustomProperties.ADVERTISER_URL,R).setCustom(a.CustomProperties.TIMESTAMP,e.getCurrentTime());return i.getCustom(a.CustomProperties.RENDER_TRY_STATUS)?(f(p),C(p),void I(p,!1)):(e.isSet(x)&&x.reportSuccess(),C(p),I(p,!0),void c.auctionWinner.dispatchExternalWinner("afterRenderExternal",{winningBid:p,secondBid:i}))},500)}),J.display(v)})}var E="mnet_div",S="adxbidder",B="ADX",A="ADX_FAILOVER",R="google-adx-advertiser.com",b={},T=function(){function t(t,e){o[t]=e,s()}function i(t){return o[t]||{}}function s(){n.setInfo(c,JSON.stringify(o))}function a(){var t=n.getInfo(c);return e.isSet(t)?(o=JSON.parse(t),o.version!==r&&(o={},o.version=r),o):null}var r="1.0",n=window._mNRequire(["storagemanager"])[0];if(!n||!n.supportStorage())return{};var o={},c="__loginfo";return a(),{updateDataForPlacementId:t,getPlacementData:i,setInStorage:s}}();return{postBid:_,manipulateWinningBid:p}});_mNDefine("testbidder-adapter",[window,"util","bidmanager","bid","entitymanager","bidder","mnetHbConsole","logmanager","placementmanager","providermanager"],function(e,t,o,i,n,s,d,r,a,u){"use strict";function E(e,s,r){if(null!==e){d.event("Bid rcv for '"+s+"' from "+e.id());var a=e.getCustom(h.PAGE_ID);t.addToEventQueue("auctionEnd",s,t.getProxy(A.handlePostAuctionClose,[],A)),t.addToEventQueue("secondWinner",s,t.getProxy(A.handlePostAuctionClose,[],A)),e.setCustom(h.AUCTION_ID,n.getAuctionId(a,s)),e.setCustom(h.AUCTION_TYPE,i.AuctionType.HEADER_BID),e.setCustom(h.PROVIDER_RESPONSE_TYPE,i.AuctionType.HEADER_BID),e.setCustom(h.PROVIDER_REQUEST_ID,n.getProviderRequestID(g.bidder,i.AuctionType.HEADER_BID)),o.isAuctionClosedForAdUnitCode(s,a)?(e.status(e.status()===i.Status.SUCCESS?i.Status.RESPONSE_AFTER_AUCTION:i.Status.NOBID_AFTER_AUCTION),A.addLateResponse(e)):(o.addBidResponse(s,a,e),A.addForwardedResponse(e)),d.log(e,"bid",e.id(),s),r&&t.triggerEvent("endOfResponse",e.id(),!0)}}function I(e){var t=e.split("x");return'<!DOCTYPE html><html><head></head><body><style type="text/css">body { text-size-adjust:none; -webkit-text-size-adjust: none; }*{margin:0;padding:0}a{text-decoration:none;outline:none}a:hover{cursor:pointer; text-indent: 0}img{border:none}ul li{list-style:none}.clearfix:after{visibility: hidden;display:block;font-size: 0;content: " ";clear: both;height:0}* html .clearfix{zoom:1} *:first-child+html .clearfix{zoom:1} h1, h2, h3, h4, h5, h6 {font-weight: normal}body{background:#f4f4f4}h3{ font-family: arial; color: #000; font-size: 35px; text-align: center; height: '+t[1]+"px; line-height: "+t[1]+"px;}</style><h3>Media.net Creative</h3></body></html>"}function c(e,o){var n=e.length;t.each(e,function(e){n--;var s=a.getMaxSizeById(e.crid).join("x"),d="15.00";d=t.decimalLimit(d),o((new i).status(i.Status.SUCCESS).set(T.BIDDER_ID,g.prvid).set(T.BIDDER_NAME,_).set(T.ADCODE,I(s)).set(T.SIZE,s).set(T.CPM,d).set(T.DFP_BID,d).set(T.CUSTOMER_BID_PRICE,"0").set(T.PLACEMENT_ID,e.code).set(T.CREATIVE_ID,e.crid).setCustom(h.PAGE_ID,e.pageId).setCustom(h.DFP_SIZE,s).setCustom(h.ORIGINAL_CPM,d).setCustom(h.FIRST_ADJUSTMENT,0).setCustom(h.SECOND_ADJUSTMENT,0).setCustom(h.LOGGING_PIXELS,[]).setCustom(h.EXTERNAL_PLACEMENT_CODE,e.crid).setCustom(h.TIMESTAMP,t.getCurrentTime()).setCustom(h.LOAD_TIME,0),e.code,0===n)})}function D(e){var o=[];t.each(e,function(e){var t=a.getMaxSizeById(e.crid).join("x"),s=n.getAuctionId(e.pageId,e.code);o.push((new i).set(T.PLACEMENT_ID,e.code).set(T.BIDDER_NAME,_).set(T.BIDDER_ID,e.prvid).set(T.SIZE,t).set(T.CREATIVE_ID,e.crid).setCustom(h.PAGE_ID,e.pageId).setCustom(h.AUCTION_ID,s).setCustom(h.AUCTION_TYPE,i.AuctionType.HEADER_BID).setCustom(h.PROVIDER_REQUEST_ID,n.getProviderRequestID(e.pageId,g.bidder,i.AuctionType.HEADER_BID)))}),r.fetchRequests.addArray(o)}function C(e){D(e),c(e,E)}function l(e){t.any(e,function(e){var o=e.prvid,i=u.getConfigById(o);return t.isSet(i.prvid)?(i.bidderName=_,g=i,!0):void 0})}function m(e){var o=e.bids;if(0!==o.length)return l(o),A=(new s).config(g),t.addToEventQueue("getDefaultBiddersFromApi","global",t.getProxy(C,[o])),null}var A,_="testbidder",g={},T=i.Properties,h=i.CustomProperties;return{getBidsStatus:m}});_mNDefine("rtbsprivatebidder-adapter",[window,"util","mnetHbConsole","config","bid","target","entitymanager","bidmanager","bidpricemanager","bidder","providermanager","logmanager"],function(e,t,r,i,s,o,n,a,d,u,c,E){"use strict";function I(){u.call(this),this.getTimeLinePixel=function(e){var r="";return r+=["&b",e.get(K.BIDDER_ID),"b","=",e.getCustom(W.ORIGINAL_CPM)].join(""),(n.getTimelinePixelUrl()+t.buildUrlParameters({url:"%%PUBLISHER%%",domain:"%%PUBLISHER_HOST%%",apid:2,size:e.get(K.SIZE),at:e.getCustom(W.AUCTION_TYPE),auction_id:e.getCustom(W.AUCTION_ID),ip:n.getUserIP(),crid:e.get(K.CREATIVE_ID),cid:"%%CID%%",dt:"%%DEVICE_TYPE%%",bc:e.getCustom(W.ORIGINAL_CPM),cc:n.getCountryCode(),ext_user_id:e.getCustom(W.EXTERNAL_UID),bname:"<cm_win_macro>"})+r).replace("<cm_win_macro>",t.buildUrlParameters({cmw:e.get(K.BIDDER_ID)}))},this.renderExternal=function(e,i,s,o,a){var d,u,c;if(u=n.require("thirdpartymanager").getBidForPlacementIdAndBidder(s,a,i)){d=u.get(K.ADCODE);try{if(d)return r.event("Ad rendered for "+u.get(K.PLACEMENT_ID)),!n.isSandboxEnabled()||t.isDocumentWritable?(e.document.open(),e.document.write(d),e.document.close()):(e.hbContent="<!DOCTYPE html><html><head></head><body>"+d+"</body></html>",e.location.replace('javascript:window["hbContent"];')),c=n.resolveMacros(this.getTimeLinePixel(u)),t.logBeacons(c),!0}catch(E){return!1}}return!1}}function _(){return void 0===F&&(F=n.require("adaptermanager")),F}function C(){return i.defaultBidderSetting.rtbsprivatebidder.bidApiUrl}function D(e,r){return e.no_bid===!1&&e.og_bid&&t.isSet(e.adcode)&&!t.isEmptyObject(r)}function m(e,t){return e.size===t}function g(e,r){return m(e,r)?t.isSet(e.nbc)?e.nbc:G:e.nbc===x?x:e.bidderInfoBean&&e.bidderInfoBean.rstb?V:t.isSet(e.nbc)?e.nbc:G}function A(e,r,i,u,E,I,_){var C,A,p=(e.bidder_id||r.prvid).toString(),T=X[p].bidderName,P=e.uid||"",l=e.cs||"",R="",S="0",b=c.getTargetingKeysById(p),v=[];t.isSet(u)&&(R+=u),t.isSet(P)&&(S="1");var O=e.bidderInfoBean||{},f=O.rstb?"1":"0";t.each(r.sizes,function(a){var u={adUnitParam:r||{}};if(A=new s,D(e,b)&&m(e,a.size)){C=g(e,a.size),u.ogbdp=e.og_bid,A=d.setPriceProperties(A,u);var E=O.category||"";t.isSet(E)&&t.isArray(E)&&(E=E.join("|"));var I=A.get(K.DFP_BID),_=e.dealid,h=t.isSet(_),B=e.ext_placement_code,N=e.at||(h?"P":"O"),U=(new o).set(b[o.Properties.BID_VALUE],I).set(b[o.Properties.EXTERNAL_PLACEMENT_CODE],B).set(b[o.Properties.SIZE],e.size).set(b[o.Properties.LOAD_TIME],i).set(b[o.Properties.DEAL_TYPE],N).set(o.Properties.MNET_PLACEMENT_ID,r.code).set(o.Properties.MNET_CUSTOMER_ID,n.getCid()).set(o.Properties.MNET_CREATIVE_ID,r.crid).set(o.Properties.DFP_SIZE,e.size);n.isTestModeForProvider(p)&&U.set(b[o.Properties.TEST],1),h&&U.set(b[o.Properties.DEAL_ID],_);var L=U.serialize();return void v.push(A.status(s.Status.SUCCESS).set(K.BIDDER_ID,p).set(K.BIDDER_NAME,T).set(K.ADCODE,e.adcode.replace(X[p].price_macro,A.getCustom(W.ORIGINAL_CPM))).set(K.SIZE,e.size).set(K.PLACEMENT_ID,r.code).set(K.CREATIVE_ID,r.crid).set(K.THIRD_PARTY_TARGETS,L).setCustom(W.PAGE_ID,r.pageId).setCustom(W.DFP_SIZE,e.size).setCustom(W.NOBID_REASON,C).setCustom(W.TEST_DATA,R).setCustom(W.PROVIDER_COOKIE_ID,P).setCustom(W.COOKIE_FLAG,S).setCustom(W.COOKIE_SOURCE,l).setCustom(W.EXTERNAL_UID,P).setCustom(W.CACHING_FLAG,r.cache).setCustom(W.AUCTION_ID,n.getAuctionId(r.pageId,r.code)).setCustom(W.EXTERNAL_BIDDER_TYPE,T).setCustom(W.TIMESTAMP,t.getCurrentTime()).setCustom(W.DEAL_ID,_||"").setCustom(W.PROVIDER_ACCOUNT_ID,O.prvAccId||"").setCustom(W.DEAL_TYPE,N).setCustom(W.EXTERNAL_PLACEMENT_CODE,B).setCustom(W.LOAD_TIME,i).setCustom(W.RESPONSE_TIME,O.responseTime||"").setCustom(W.DATA_CENTER,O.dataCenter||"").setCustom(W.ADVERTISER_ID,O.brandId||"").setCustom(W.BUYER_ID,O.buyerMemberId||"").setCustom(W.ADVERTISER_URL,O.landingPageUrl||c.getDefaultAdvById(p)).setCustom(W.TO_CONSIDER,f).setCustom(W.CATEGORY,E||"").setCustom(W.WEB_SERVER_IP,O.serverId||"").setCustom(W.BIDDER_INFO_BIDDER_ID,O.providerBidderId||"").setCustom(W.ADVERTISER_NAME,O.advBrandName||""))}u.ogbdp="0",C=g(e,a.size),A=d.setPriceProperties(A,u),v.push(A.status(s.Status.NOBID).set(K.BIDDER_ID,p).set(K.BIDDER_NAME,T).set(K.ADCODE,"").set(K.SIZE,a.size).set(K.PLACEMENT_ID,r.code).set(K.CREATIVE_ID,r.crid).set(K.THIRD_PARTY_TARGETS,{}).setCustom(W.NOBID_REASON,C).setCustom(W.COOKIE_FLAG,S).setCustom(W.COOKIE_SOURCE,l).setCustom(W.PAGE_ID,r.pageId).setCustom(W.AUCTION_ID,n.getAuctionId(r.pageId,r.code)).setCustom(W.DEAL_ID,"").setCustom(W.DEAL_TYPE,"").setCustom(W.EXTERNAL_BIDDER_TYPE,T).setCustom(W.TIMESTAMP,t.getCurrentTime()).setCustom(W.WEB_SERVER_IP,O.serverId||"").setCustom(W.DATA_CENTER,O.dataCenter||"").setCustom(W.TO_CONSIDER,f).setCustom(W.LOAD_TIME,i))}),a.setDominantBid(v),t.each(v,function(e,t,i){E(e,r.code,I&&i-t===1,_&&i-t===1)})}function p(e){var t=e.prvid;return X[t]&&X[t].noBid||{}}function T(e,r){var i=r.bl||[],s=[];return t.each(i,function(r){t.isSet(r.bidder_id)&&r.bidder_id===parseInt(e.prvid)&&s.push(r)}),0===s.length&&s.push(p(e)),s}function P(e,r,i){t.clock.tock("rtbsprivateDataLoad");var s=t.clock.time("rtbsprivateDataLoad");t.each(e,function(e,o,n){var a,d=e.crid;if(i&&i.hasOwnProperty(d)){var u=i[d],c=u.winReason||0,E=T(e,u);a=E.length,t.each(E,function(t){a--,A(t,e,s,c,r,o===n-1,0===a)})}else A(p(e),e,s,10,r,o===n-1,!0)})}function l(e,t){e.status()===s.Status.SUCCESS?(e.status(s.Status.RESPONSE_AFTER_AUCTION),e.getCustom(W.CACHING_FLAG)&&j.push(e)):e.status(s.Status.NOBID_AFTER_AUCTION),t.addLateResponse(e)}function R(e,i,o,d){var u=e.getCustom(W.PAGE_ID),c=e.getCustom(W.PROVIDER_RESPONSE_TYPE)===s.AuctionType.CACHE,E=e.id(),I=k[e.id()];r.event("Bid rcv for '"+i+"' from "+E),e.setCustom(W.AUCTION_ID,n.getAuctionId(u,i)),c||(e.setCustom(W.AUCTION_TYPE,s.AuctionType.HEADER_BID),e.setCustom(W.PROVIDER_RESPONSE_TYPE,s.AuctionType.HEADER_BID),e.setCustom(W.PROVIDER_REQUEST_ID,n.getProviderRequestID(u,H,s.AuctionType.HEADER_BID))),a.isAuctionClosedForAdUnitCode(i,u)?l(e,I):(I.addForwardedResponse(e),a.addBidResponse(i,u,e)),r.log(e,"bid",e.id(),i),o&&(t.each(k,function(e,r){t.triggerEvent("endOfResponse",r,!0,{cache:c})}),n.require("storagemanager").storeBidsForReuse(n.getPrefetchUrl(),j),j=[])}function S(e){var r=[];t.each(e,function(e){var i=e.prvid,o=s.AuctionType.HEADER_BID,a=n.getAuctionId(e.pageId,e.code),d="1";t.isArray(e.sizes)&&e.sizes.length>0&&t.each(e.sizes,function(u){t.isSet(u.size)&&(r.push((new s).set(K.PLACEMENT_ID,e.code).set(K.BIDDER_NAME,X[i]&&X[i].bidderName).set(K.SIZE,u.size).set(K.BIDDER_ID,e.prvid).set(K.CREATIVE_ID,e.crid).set(K.NUMBER_MULTI_SIZES,""+e.sizes.length).set(K.DOMINANT_BID_FLAG,d).setCustom(W.PAGE_ID,e.pageId).setCustom(W.AUCTION_ID,a).setCustom(W.AUCTION_TYPE,o).setCustom(W.PROVIDER_REQUEST_ID,n.getProviderRequestID(e.pageId,H,o))),d="0")})}),E.fetchRequests.addArray(r)}function b(e,r){t.isArray(r.SIZE)&&(r.SIZE=r.SIZE.join("~")),t.isArray(r.PC)&&(r.PC=r.PC.join("~"));var i="{{BID}}|{{SIZE}}|{{PBC}}|{{PC}}";for(var s in r)r.hasOwnProperty(s)&&(i=i.replace(new RegExp("{{"+s+"}}"),r[s]));return e+"*"+i}function v(){var e;try{var r=n.getCustomUtilityWrapper();t.isSet(r)&&t.isFunction(r.getSlotId)&&(e=r.getSlotId())}catch(i){e=null}return e}function O(e,r){return t.isSet(e.ext_pl_code)?e.ext_pl_code:v()||r.crid}function f(e){var r={sizes:[],epc:[]},i=e.sizes;return t.isArray(i)&&i.length>0&&t.each(i,function(i){t.isSet(i.size)&&(r.sizes.push(i.size),r.epc.push(O(i,e)))}),r}function h(e){return"rtbsprivateresponse"+e}function B(i){if(0!==i.length){for(var o,d,u,c,E,I=[],_=[],D=0,m=i.length;m>D;D++){d||(d=n.getPublisherUrlFD()),t.isSet(c)||(c=i[D].pageId),t.checkItemExistsInArray(_,i[D].crid)||_.push(i[D].crid),u=f(i[D]);try{var g=n.getCustomUtilityWrapper();t.isSet(g)&&t.isFunction(g.getSlotData)&&(E=g.getSlotData(i[D]))}catch(A){}u.sizes.length>0&&u.epc.length>0&&(o={BID:i[D].prvid,SIZE:u.sizes,PBC:i[D].ext_pub_code||"",PC:E||u.epc||""}),I.push(b(i[D].crid,o))}I=I.join("@");var p=_.join(","),T={rt:"3",callback:"window.advBidxc."+h(Y),cid:n.getCid(),requestString:t.encodeParam(I),crid:t.encodeParam(p),requrl:t.encodeParam(d),https:n.needsHttpsSupport()?1:0,erTr:n.isErrorTrackEnabled()?1:0,bl:1,act:s.AuctionType.HEADER_BID,prvReqId:n.getProviderRequestID(a.getCurrentPage(),H,s.AuctionType.HEADER_BID),hlt:1,ugd:n.getDeviceType(),tr:Math.random()},l=n.getAppnexusSeatId(),v=n.getSection(c);t.isSet(l)&&(T.sid=l),n.isSplitOnCountryCodeEnabled()&&(T.scc=1),t.isSet(v)&&(T.section=t.encodeParam(v));var O=C()+"?"+t.buildUrlParameters(T);t.clock.tick("rtbsprivateDataLoad"),r.log(O,"dataLoadUrl","rtbsprivate"),e.advBidxc[h(Y)]=t.getProxy(P,[i,R]),t.loadScript(O),Y++,S(i)}}function N(e){if(t.isSet(e.cache)&&e.cache===!0){var r=e.prvid;Z[r]=Z[r]||[],Z[r].push(e)}}function U(e){var r={};t.each(e,function(e){var i=e.prvid;if(N(e),t.isSet(i)&&r[i]!==!0){var s=c.getConfigById(i),o=c.getTargetingBidderName(i);t.isSet(i)&&t.isSet(o)&&(s.bidderName=o,s.noBid={no_bid:!0,bidder_id:i,og_bid:0,adcode:null,nbc:x},X[i]=s,k[i]=(new I).config(s),_().registerAdapter(i,k[i]),r[i]=!0)}})}function L(e){return t.isSet(e.cache)&&e.cache===!0&&q[e.prvid][e.code]===!0}function y(e){return t.filter(e,function(e){return t.isSet(e.hb)&&e.hb===!0&&!L(e)})}function M(e){return t.map(e,function(e){return e.code})}function z(e,r){return t.filter(e,function(e){return r[e.code]===!0})}function w(e){var r=e.bids;if(U(r),!t.isEmptyObject(Z)&&n.isTPCacheOn()){var i=n.require("bidreusemanager");t.isSet(i)&&i.init(Z)}return t.each(k,function(e,r){var i,s=M(Z[r]);t.isSet(r)&&t.isArray(s)&&s.length>0&&(q[r]=e.getValidBidsStatusPerPlacement(s),i=z(Z[r],q[r]),t.addToEventQueue("getThirdPartyBiddersFromCache","global",t.getProxy(e.useBidsForProvider,[R,i])))}),t.addToEventQueue("getThirdPartyBiddersFromApi","global",t.getProxy(B,[y(r)])),null}var F,x=8,V=98,G=99,H="rtbsprivate",Y=1,Z={},q={},j=[],k={},X={},K=s.Properties,W=s.CustomProperties;return t.inherits(I,u),I.prototype.getTimeLinePixel=function(e){var r="";return r+=["&b",e.get(K.BIDDER_ID),"b","=",e.getCustom(W.ORIGINAL_CPM)].join(""),(n.getTimelinePixelUrl()+t.buildUrlParameters({url:"%%PUBLISHER%%",domain:"%%PUBLISHER_HOST%%",apid:2,size:e.get(K.SIZE),at:e.getCustom(W.AUCTION_TYPE),auction_id:e.getCustom(W.AUCTION_ID),ip:n.getUserIP(),crid:e.get(K.CREATIVE_ID),cid:"%%CID%%",dt:"%%DEVICE_TYPE%%",bc:e.getCustom(W.ORIGINAL_CPM),cc:n.getCountryCode(),ext_user_id:e.getCustom(W.EXTERNAL_UID),bname:"<cm_win_macro>"})+r).replace("<cm_win_macro>",t.buildUrlParameters({cmw:e.get(K.BIDDER_ID)}))},{getBidsStatus:w}});_mNDefine("rtbsbidder-adapter",[window,"util","bidmanager","bid","config","entitymanager","storagemanager","logmanager","bidder","adaptermanager","mnetHbConsole","providermanager","placementmanager","bidpricemanager"],function(e,t,i,n,r,s,o,d,a,u,c,I,E,C){"use strict";function _(e,i,n,r){return t.each(e,function(e){var t=i.priceMacro();e=e.replace(a.ORIGINAL_PRICE_MACRO,r).replace(a.ADJUSTED_PRICE_MACRO,n).replace(t,r)}),e}function m(){a.call(this),this.getAdcode=function(e,i,n,r,o,d){o=o||r.sizes[0].size;var a=o.split("x")[0],u=o.split("x")[1],c="",I=t.isSet(d)&&d.matchString||"",E=t.isSet(d)&&t.encodeParam(d.bidData)||"",C=s.getCid(),_=r.crid;t.isSet(r)&&(c=s.getAuctionId(r.pageId,r.code));var m='<!DOCTYPE html><HTML><HEAD></HEAD><BODY><script id="mNCC" language="javascript">medianet_versionId = \'111299\';medianet_width = \''+a+"';medianet_height = '"+u+"';medianet_crid = '"+i+"';medianet_requrl= '"+t.encodeParam(s.getPublisherUrl())+"';medianet_chnm2= '"+C+"';medianet_chnm3= '"+_+"';medianet_bdrId= '"+this.config("prvid")+"';medianet_sbdrId= '"+n+"';medianet_auctionid= '"+c+"';medianet_bdata = '"+E+"';medianet_misc= {};medianet_misc.matchString= '"+I+"';(function() {var isSSL = 'https:' == document.location.protocol;var mnSrc = (isSSL ? 'https:' : 'http:') + '//contextual.media.net/nmedianet.js?cid="+e+"' + (isSSL ? '&https=1' : '');document.write('<scr' + 'ipt type=\"text/javascript\" id=\"mNSC\" src=\"' + mnSrc + '\"></scr' + 'ipt>');})();<\/script></BODY></HTML>";return m}}function g(){function e(e,t){var i={adUnitParam:{pvsh:t.winner.getCustom(de.ZERO_ADJUSTMENT),dpsh:t.winner.getCustom(de.FIRST_ADJUSTMENT),pbsh:100-(t.winner.getCustom(de.SECOND_ADJUSTMENT)||0)},ogbdp:e},r=new n;return r=C.setPriceProperties(r,i)}a.call(this),this.setSecondPrice=function(t){var n=t.winner.getCustom(de.FINAL_BID),r=t.winner.get(oe.ADCODE),s=t.winner.get(oe.CREATIVE_ID),o=t.winner.getCustom(de.LOGGING_PIXELS),d=t.winner.get(oe.BIDDER_ID),u=E.getProviderFpById(s,d),c=this.getTimeLinePixel(t.winner);if(n===!1||void 0===n)return t.winner.set(oe.ADCODE,r.replace(this.priceMacro(),t.winner.getCustom(de.ORIGINAL_CPM))),t.winner.setCustom(de.TIMELINE_PIXEL,c.replace(a.ORIGINAL_PRICE_MACRO,t.winner.getCustom(de.ORIGINAL_CPM))),void t.winner.setCustom(de.LOGGING_PIXELS,_(o,this,t.winner.get(oe.CPM),t.winner.getCustom(de.ORIGINAL_CPM)));var I=i.getSecondPriceByCode(t.winner.get(oe.PLACEMENT_ID),t.winner.getCustom(de.PAGE_ID));(-1===I||u>I)&&(I=u),t.winner.set(oe.ADCODE,r.replace(this.priceMacro(),I));var C=e(I,t);t.winner.set(oe.CUSTOMER_BID_PRICE,C.get(oe.CUSTOMER_BID_PRICE)),t.winner.set(oe.DFP_BID,C.get(oe.DFP_BID)),t.winner.setCustom(de.TIMELINE_PIXEL,c.replace(a.ORIGINAL_PRICE_MACRO,t.winner.getCustom(de.ORIGINAL_CPM))),t.winner.setCustom(de.LOGGING_PIXELS,_(o,this,C.get(oe.DFP_BID),I))},this.handlePostAuctionClose=function(e,i){i&&i.winner&&i.winner.id()===this.config("prvid")&&(this.setSecondPrice(i),c.log(i.winner,"winningBid"),t.addToEventQueue("afterRender",i.winner.get(oe.PLACEMENT_ID),t.getProxy(this.handlePostRendering,[],this))),t.consoleLog("Auction Closed for",e.src)}}function p(e,r,o,d){if(null!==e){c.event("Bid rcv for '"+r+"' from "+e.id());var a=e.getCustom(de.PROVIDER_RESPONSE_TYPE)===n.AuctionType.CACHE,u=e.getCustom(de.PAGE_ID),I=se[e.id()];if(t.addToEventQueue("auctionEnd",r,t.getProxy(I.handlePostAuctionClose,[],I)),t.addToEventQueue("secondWinner",r,t.getProxy(I.handlePostAuctionClose,[],I)),e.setCustom(de.AUCTION_ID,s.getAuctionId(u,r)),a?e.setCustom(de.LOAD_TIME,I.stats("prefetchTime")):(e.setCustom(de.AUCTION_TYPE,n.AuctionType.HEADER_BID),e.setCustom(de.PROVIDER_RESPONSE_TYPE,n.AuctionType.HEADER_BID),e.setCustom(de.PROVIDER_REQUEST_ID,s.getProviderRequestID(u,X,n.AuctionType.HEADER_BID))),i.isAuctionClosedForAdUnitCode(r,u)?(e.status(e.status()===n.Status.SUCCESS?n.Status.RESPONSE_AFTER_AUCTION:n.Status.NOBID_AFTER_AUCTION),I.addLateResponse(e)):(I.addForwardedResponse(e),i.addBidResponse(r,u,e)),c.log(e,"bid",e.id(),r),o)for(var E in se)se.hasOwnProperty(E)&&t.triggerEvent("endOfResponse",E,!0,{cache:a})}}function D(){return r.defaultBidderSetting.rtbsbidder.bidApiUrl}function A(e,i){return x(i)?!0:t.isSet(e.adcode)}function P(e,i,n){return t.isSet(e.no_bid)&&e.no_bid===!1&&t.isSet(e.og_bid)&&A(e,n)&&e.og_bid>(i.fp||0)}function S(e,i,n){return f(e,n)?e.no_bid===!0?t.isSet(e.nbc)?e.nbc:ie:e.og_bid<=(i.fp||0)?ee:ie:e.nbc===$?$:e.bidderInfoBean&&e.bidderInfoBean.rstb?te:t.isSet(e.nbc)?e.nbc:ie}function l(e,t){var i=e.bidderInfoBean||{},n=e.ext_placement_code,r=e.buyer_id;return t=t+K+"epc="+n+K+"buyid="+r,i.prvAccId||""}function R(e,t){return e.publisher_id||t.ext_pub_code||""}function T(e,i,n){if(x(n)){var r=se[n];if(t.isFunction(r.getAdcode)){var s=e.publisher_id||i.ext_pub_code||"",o=e.sub_bidder_id||"",d=e.bidderInfoBean||{},a={},u=e.ext_placement_code||"";return a.matchString=d.matchString||"",a.bidData=d.bidData||"",r.getAdcode(s,u,o,i,e.size,a)}return""}return e.adcode||""}function f(e,t){return e.size===t}function h(e,r,o,d,a,u,c){var E,_,m=(e.bidder_id||r.prvid).toString(),g="",p=e.uid||"",D=e.cs||"",A="0",h=[],b={adUnitParam:r||{},ogbdp:e.og_bid||"0"},v={adUnitParam:r||{},ogbdp:"0"};t.isSet(d)&&(g+=d),t.isSet(p)&&(A="1");var O=e.bidderInfoBean||{},B=O.rstb?"1":"0";t.each(r.sizes,function(i){if(_=new n,P(e,r,m)&&f(e,i.size)){var d=l(e,g),a=R(e,r),u=e.sub_bidder_id||"",c=T(e,r,m);E=t.isSet(e.nbc)?e.nbc:ie,s.setGetSubBidderId(r.pageId,r.crid,u),_=C.setPriceProperties(_,b);var N=e.logging_pixels||[],L=O.category||"";return t.isSet(L)&&t.isArray(L)&&(L=L.join("|")),void h.push(_.status(n.Status.SUCCESS).set(oe.PLACEMENT_ID,r.code).set(oe.BIDDER_ID,m).set(oe.BIDDER_NAME,re[m].bidder).set(oe.ADCODE,c).set(oe.SIZE,i.size).set(oe.CREATIVE_ID,r.crid).setCustom(de.PAGE_ID,r.pageId).setCustom(de.DFP_SIZE,i.size).setCustom(de.PROVIDER_COOKIE_ID,p).setCustom(de.NOBID_REASON,E).setCustom(de.COOKIE_FLAG,A).setCustom(de.COOKIE_SOURCE,D).setCustom(de.CACHING_FLAG,r.prf).setCustom(de.TEST_DATA,g).setCustom(de.PROVIDER_ACCOUNT_ID,d||"").setCustom(de.PROVIDER_API_ID,a).setCustom(de.LOGGING_PIXELS,N).setCustom(de.LOAD_TIME,o).setCustom(de.FINAL_BID,e.fb).setCustom(de.EXTERNAL_UID,e.uid||"").setCustom(de.CAMPAIGN_ID,O.cmpId||"").setCustom(de.GOOGLE_BID,e.gbid||0).setCustom(de.EXTERNAL_PLACEMENT_CODE,e.ext_placement_code).setCustom(de.RESPONSE_TIME,O.responseTime||"").setCustom(de.DATA_CENTER,O.dataCenter||"").setCustom(de.BIDDER_INFO_BIDDER_ID,O.providerBidderId||"").setCustom(de.CATEGORY,L||"").setCustom(de.BUYER_ID,O.buyerMemberId||"").setCustom(de.BID_DATA,O.bidData||"").setCustom(de.ADVERTISER_ID,O.brandId||"").setCustom(de.ADVERTISER_URL,O.landingPageUrl||I.getDefaultAdvById(e.bidder_id)).setCustom(de.ADVERTISER_NAME,O.advBrandName||"").setCustom(de.TO_CONSIDER,B).setCustom(de.TIMESTAMP,t.getCurrentTime()).setCustom(de.WEB_SERVER_IP,O.serverId||"").setCustom(de.DEAL_TYPE,"O"))}E=S(e,r,i.size),_=C.setPriceProperties(_,v),h.push(_.status(n.Status.NOBID).set(oe.PLACEMENT_ID,r.code).set(oe.BIDDER_NAME,re[m].bidder).set(oe.SIZE,i.size).set(oe.BIDDER_ID,m).set(oe.CREATIVE_ID,r.crid).setCustom(de.PAGE_ID,r.pageId).setCustom(de.TEST_DATA,g).setCustom(de.NOBID_REASON,E).setCustom(de.PROVIDER_COOKIE_ID,p).setCustom(de.COOKIE_FLAG,A).setCustom(de.DATA_CENTER,O.dataCenter||"").setCustom(de.COOKIE_SOURCE,D).setCustom(de.TIMESTAMP,t.getCurrentTime()).setCustom(de.WEB_SERVER_IP,O.serverId||"").setCustom(de.TO_CONSIDER,B).setCustom(de.LOAD_TIME,o))}),i.setDominantBid(h),t.each(h,function(e,t,i){a(e,r.code,u&&i-t===1,c&&i-t===1)})}function b(e){var t=e.prvid;return re[t]&&re[t].noBid||{}}function v(e,i){var n=i.bl||[],r=[];return t.each(n,function(i){t.isSet(i.bidder_id)&&i.bidder_id===parseInt(e.prvid)&&r.push(i)}),0===r.length&&r.push(b(e)),r}function O(e,i,r,s,o){t.clock.tock("rtbsDataLoadTime");var d=i===n.AuctionType.CACHE?o.rtbsBidA:o,a=t.clock.time("rtbsDataLoadTime");t.each(e,function(e,i,n){var s,o=e.crid;if(d&&d.hasOwnProperty(o)){var u=d[o],c=u.winReason||0,I=v(e,u);s=I.length,t.each(I,function(t){s--,h(t,e,a,c,r,i===n-1,0===s)})}else h(b(e),e,a,10,r,i===n-1,!0)})}function B(e,i){var r=[];t.each(e,function(e){var o=e.prvid,d=re[o].bidder,a="",u="1";i===n.AuctionType.HEADER_BID&&(a=s.getAuctionId(e.pageId,e.code)),t.isArray(e.sizes)&&e.sizes.length>0&&t.each(e.sizes,function(o,c,I){t.isSet(o.size)&&(r.push((new n).set(oe.PLACEMENT_ID,e.code).set(oe.BIDDER_NAME,d).set(oe.SIZE,o.size).set(oe.BIDDER_ID,e.prvid).set(oe.CREATIVE_ID,e.crid).set(oe.NUMBER_MULTI_SIZES,""+I).set(oe.DOMINANT_BID_FLAG,u).setCustom(de.PAGE_ID,e.pageId).setCustom(de.AUCTION_ID,a).setCustom(de.AUCTION_TYPE,i).setCustom(de.PROVIDER_REQUEST_ID,s.getProviderRequestID(e.pageId,X,i))),u="0")})}),d.fetchRequests.addArray(r)}function N(e,i){t.isArray(i.SIZE)&&(i.SIZE=i.SIZE.join("~")),t.isArray(i.PC)&&(i.PC=i.PC.join("~"));var n="{{BID}}|{{SIZE}}|{{PBC}}|{{PC}}";for(var r in i)i.hasOwnProperty(r)&&(n=n.replace(new RegExp("{{"+r+"}}"),i[r]));return e+"*"+n}function L(e){var i={sizes:[],epc:[]},n=e.sizes;return t.isArray(n)&&n.length>0&&t.each(n,function(n){t.isSet(n.size)&&(i.sizes.push(n.size),i.epc.push(n.ext_pl_code||e.crid))}),i}function y(e){return"rtbsresponse"+e}function w(r,o,d){for(var a,u,I,E,C=[],_=s.getDomainForPrefetchFD(),m=[],g=s.getServerBidRequestTimeout(o),p=0,A=r.length;A>p;p++)a={},u||(u=r[p].pageURL),t.isSet(E)||(E=r[p].pageId),t.checkItemExistsInArray(m,r[p].crid)||m.push(r[p].crid),I=L(r[p]),I.sizes.length>0&&I.epc.length>0&&(a={BID:r[p].prvid,BSID:r[p].crid,SIZE:I.sizes,PBC:r[p].ext_pub_code||s.getCid(),PC:I.epc},C.push(N(r[p].crid,a)));C=C.join("@");var P=s.isErrorTrackEnabled(),S=s.getSection(E),l=m.join(","),R={cid:s.getCid(),requestString:t.encodeParam(C),crid:t.encodeParam(l),sd:s.getSessionDepth(),requrl:t.encodeParam(u),bl:1,https:s.needsHttpsSupport()?1:0,act:o,prvReqId:s.getProviderRequestID(i.getCurrentPage(),X,o),erTr:P?1:0,hlt:1,ugd:s.getDeviceType(),kwrf:t.encodeParam(s.getReferrerUrl()),tr:Math.random()};o===n.AuctionType.HEADER_BID&&(R.rt="3",R.callback="window.advBidxc."+y(W)),s.isSplitOnCountryCodeEnabled()&&(R.scc=1),t.isStringSet(g)&&(R.tmt=g),s.isFdEnabled()&&(R.furl=_),t.isSet(S)&&(R.section=t.encodeParam(S));var T=D()+"?"+t.buildUrlParameters(R);if(t.clock.tick("rtbsDataLoadTime"),c.log(T,"dataLoadUrl","rtbs"),o===n.AuctionType.CACHE)t.loadScriptInIframe(T,t.getProxy(O,[r,o,d]),"rtbs"+o);else{e.advBidxc[y(W)]=t.getProxy(O,[r,o,d,{}]);var f={};P&&(f.crossOrigin=!0),t.loadScript(T,void 0,void 0,f),W++}}function M(e){var t=Z(e.bids);w(t,n.AuctionType.HEADER_BID,p),B(t,n.AuctionType.HEADER_BID)}function U(){return function(e,i,r,o){if(null!==e){var d=se[e.id()];if(e.setCustom(de.AUCTION_TYPE,n.AuctionType.CACHE),e.setCustom(de.PROVIDER_REQUEST_ID,s.getProviderRequestID(e.getCustom(de.PAGE_ID),X,n.AuctionType.CACHE)),e.setCustom(de.REFERRING_VISIT_ID,s.resolveMacros("%%VISIT_ID%%")),c.log(e,"prefetchBid"),J.push(e),o&&(d.addToCache(J.sort(function(e,i){return t.decimalLimit(i.get(oe.CPM))-t.decimalLimit(e.get(oe.CPM))})[0]),J=[]),r)for(var a in se)se.hasOwnProperty(a)&&t.triggerEvent("pushToCache",a)}}}function G(e){c.event("RTBS PF"),w(e,n.AuctionType.CACHE,U()),B(e,n.AuctionType.CACHE),t.consoleLog("RTBS prefetch called")}function F(e){j!==!0&&(j=!0,G(e))}function x(e){return e=e.toString(),"4"===e||"9"===e||"22"===e}function H(e,i){t.each(q,function(n,r){t.checkItemExistsInArray(i,r)||t.each(n,function(t){x(t.prvid)&&e.push(t)})})}function z(e,i){var n={};n.bidderCode=ne,n.bids=[],H(n.bids,i),i.length>0&&t.each(i,function(e){q.hasOwnProperty(e)&&Array.prototype.push.apply(n.bids,q[e])}),M(n)}function V(e){var i={};Q=[],t.each(e,function(e){var n=e.prvid;if(t.isSet(n)&&i[n]!==!0){var r=I.getConfigById(n);r.noBid={no_bid:!0,bidder_id:n,og_bid:0,adcode:null,nbc:$},re[n]=r,Q.push(n),i[n]=!0}})}function Y(e){return t.filter(e,function(e){return E.isGuaranteedSlot(e.crid)&&t.isSet(e.prf)&&e.prf===!0?!0:!1})}function Z(e){return t.filter(e,function(e){return t.isSet(e.hb)&&e.hb===!0})}function k(e,i){var n=e.bids;q={},V(n),ne=e.bidderCode,j=!1;var r=Y(n);!s.isHdHome()&&t.isArray(r)&&r.length>0&&t.addToEventQueue("prefetch","global",t.getProxy(F,[r]));var o={},d=[],a={};return t.each(n,function(e){e.pageURL=s.getPublisherUrl();var t=e.code;a[t]!==!0&&(a[t]=!0,d.push(t)),q[t]=q[t]||[],q[t].push(e)}),t.each(Q,function(e){se[e]=x(e)?(new m).config(re[e]):(new g).config(re[e]),u.registerAdapter(e,se[e])}),i?(t.addToEventQueue("getBidsFromApi","global",t.getProxy(M,[e])),t.each(se,function(e,t){o[t]=e.getValidBidsStatusPerPlacement(d)||{}}),o):(t.each(se,function(e,i){o[i]=e.getValidBidsStatusPerPlacement(d)||{},t.addToEventQueue("getBidsFromCache","global",t.getProxy(e.useBidsFromCache,[p,q]))}),t.addToEventQueue("getBidsFromApi","global",z),o)}var q,Q,j,X="rtbsmnet",K="|",J=[],W=1,$=8,ee=9,te=98,ie=99,ne="",re={},se={},oe=n.Properties,de=n.CustomProperties;return t.inherits(m,a),t.inherits(g,a),{getBidsStatus:k}});_mNDefine("adaptermanager",["_mNRP","util","config","mnetHbConsole","bid","entitymanager","bidmanager","thirdpartymanager","storagemanager","abtestmanager"],function(e,t,r,o,i,n,a,s,d,l){"use strict";function m(e){var t;if(_[e])return _[e];try{t=window._mNRequire([e+"-adapter"])[0],_[e]=t}catch(r){return null}return t}function c(e,r){t.isStringSet(e)&&"object"==typeof r&&(_[e]=r)}function u(r,o){var i,s=n.isCacheDisabledForCustomer()||!1,d=n.getHBStatus()||o||!1,l={},c=[],u=[],p=!1,g=!1;o&&(p=!0),n.isHdHome()&&(s=!0,d=!0,p=!0,g=!0),t.each(r,function(r){var o;i=m(r.bidderCode),i&&t.isFunction(i.getBidsStatus)&&(o=e.execSafe(i.getBidsStatus,r,s)),t.isSet(o)&&t.each(o,function(e,r){t.each(e,function(e,t){l[t]=l[t]||e})})}),p||(t.triggerEvent("getThirdPartyBiddersFromApi","global"),t.triggerEvent("getThirdPartyBiddersFromCache","global")),g||t.triggerEvent("getDefaultBiddersFromApi","global"),t.each(l,function(e,t){return s||!e&&!d?void(d||c.push(t)):u.push(t)}),!s&&u.length>0&&t.triggerEvent("getBidsFromCache","global",!1,u),d?a.shutDown():t.triggerEvent("getBidsFromApi","global",!1,c),t.triggerEventWithBeforeAfter("apiCallsSent","global")}function p(){var e="<!DOCTYPE html><html><head></head><body><div></div></body></html>";return e}function g(e){var t=p();try{e.document.open(),e.document.write(t),e.document.close()}catch(r){}}function E(e,r){var a;if(r){a=r.get(i.Properties.ADCODE);try{if(a)return o.event("Ad rendered for "+r.get(i.Properties.PLACEMENT_ID)),!n.isSandboxEnabled()||t.isDocumentWritable?n.isAmpRequest()&&!window.advBidxc.isCalledFromAMP?(window.advBidxc.isCalledFromAMP=!1,e.document.write(a)):(e.document.open(),e.document.write(a),e.document.close()):(e.hbContent="<!DOCTYPE html><html><head></head><body>"+a+"</body></html>",e.location.replace('javascript:window["hbContent"];')),!0}catch(s){return!1}}return!1}function h(e){var t=e.name(),r=m(t);return null!==r?r:m(e.id())}function f(e,t,r){var o,i,n;o=window._mNRequire(["dfpmanager"])[0],o.clearTargeting(e,t),r||(i=o.findSlot(e,!1),n=window._mNRequire(["gptmanager"])[0],n.refreshAd(i))}function D(r,d,l,m,c){try{c=t.isSet(c)?c:"0";var u,p=s.getBidForPlacementIdAndBidder(l,c,d);if(void 0===p)return void e.pushError({message:"bidderName - "+d+", placementId - "+l+", pageId - "+c+", customParams = "+m,name:"NO_WINNING_BID_ERROR"});p.setCustom(i.CustomProperties.RENDER_TRY_STATUS,!0),o.log(p,"finalWinner"),n.isSandboxEnabled()&&"facebookbidder"!==p.get(i.Properties.BIDDER_NAME)&&(r.frameElement.sandbox="allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock allow-popups-to-escape-sandbox");try{var g=r.frameElement.height||0,E=r.frameElement.width||0;p.set(i.Properties.SIZE,E+"x"+g)}catch(h){}try{u=window._mNRequire(["customutil"])[0],t.isSet(u)&&t.isFunction(u.setData)&&p.setCustom(i.CustomProperties.TEST_DATA,u.setData(r))}catch(h){}t.isSet(p)&&t.isFunction(p.id)&&14!==parseInt(p.id())&&t.triggerEvent("afterRenderExternal",l,{winningBid:p,secondBid:a.getWinningBidByCode(l,c)});try{f(p.get(i.Properties.PLACEMENT_ID),c,!0)}catch(h){}}catch(D){e.pushError(D)}}function P(r,d,l,m,c){try{c=t.isSet(c)?c:"0";var u,p,D=!1,C=s.getBidForPlacementIdAndBidder(l,c,d),_=n.require("adxhelper"),S=Array.prototype.slice.call(arguments);if(S[4]=c,void 0===C)return n.isMnetBidderRequest()&&g(r),void e.pushError({message:"bidderName - "+d+", placementId - "+l+", pageId - "+c+", customParams = "+m,name:"NO_WINNING_BID_ERROR"});if(t.isSet(_)&&_.isAdxPostBidToBeDoneForExternalProvider(l,C.get(i.Properties.BIDDER_ID),c)){if(t.isSet(C.get(i.Properties.SIZE))){var T=n.require("mnetadxcontroller");return T.postBid(r,C,P,S),void n.setTestDataForPlacement(l,"thirdParty=1")}e.pushError({message:"placementId - "+l+", pageId - "+c+"bidderID - "+C.get(i.Properties.BIDDER_ID)+"cpm"+C.get(i.Properties.CPM),name:"EXTERNAL_WINNING_BID_NOT_VALID_ERROR"})}if(C.setCustom(i.CustomProperties.RENDER_TRY_STATUS,!0),o.log(C,"finalWinner"),n.isSandboxEnabled()&&"facebookbidder"!==C.get(i.Properties.BIDDER_NAME)&&(r.frameElement.sandbox="allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock allow-popups-to-escape-sandbox"),u=h(C),D=u&&u.renderExternal?u.renderExternal.apply(u,S):E(r,C),C){"amazonbidder"===C.name()&&(C.set(i.Properties.CPM,m),C.set(i.Properties.CUSTOMER_BID_PRICE,m));try{var A=r.frameElement.height||0,b=r.frameElement.width||0;C.set(i.Properties.SIZE,b+"x"+A)}catch(w){}try{p=window._mNRequire(["customutil"])[0],t.isSet(p)&&t.isFunction(p.setData)&&C.setCustom(i.CustomProperties.TEST_DATA,p.setData(r))}catch(w){}}t.isSet(C)&&t.isFunction(C.id)&&14!==parseInt(C.id())&&t.triggerEvent("afterRenderExternal",l,{winningBid:C,secondBid:a.getWinningBidByCode(l,c)});try{f(C.get(i.Properties.PLACEMENT_ID),c,!0)}catch(w){}}catch(I){e.pushError(I)}}function C(r,o,a,s){t.consoleLog(o);var m,c,u=o.name(),p=o.id(),g=o.get(i.Properties.PLACEMENT_ID),D=o.getCustom(i.CustomProperties.PROVIDER_REQUEST_ID),P=!1;o.getCustom(i.CustomProperties.BID_LOG_STATUS)===!0&&e.pushError({message:["providerId: ",o.id()," name: ",o.name()," code: ",g].join(""),name:"LogError"}),t.consoleLog(u),t.consoleLog(o.id()),t.consoleLog(o.get(i.Properties.PLACEMENT_ID));var C;if(u){o.setCustom(i.CustomProperties.RENDER_TRY_STATUS,!0),m=h(o),n.isSandboxEnabled()&&(r.frameElement.sandbox="allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock allow-popups-to-escape-sandbox"),P=t.isSet(m)&&t.isFunction(m.renderAd)?m.renderAd(r,o):e.execSafe(E,r,o),"boolean"==typeof P&&o.setCustom(i.CustomProperties.RENDER_STATUS,P);try{c=window._mNRequire(["customutil"])[0],t.isSet(c)&&t.isFunction(c.setData)&&(C=o.getCustom(i.CustomProperties.TEST_DATA)||"",o.setCustom(i.CustomProperties.TEST_DATA,C+"|"+c.setData(r)))}catch(_){}try{var S=r.frameElement.height||0,T=r.frameElement.width||0;o.set(i.Properties.SIZE,T+"x"+S)}catch(_){}t.isSet(s)&&t.isSet(s.td)&&(C=o.getCustom(i.CustomProperties.TEST_DATA)||"",o.setCustom(i.CustomProperties.TEST_DATA,C+"|"+s.td)),"videoadsbidder"!==o.get(i.Properties.BIDDER_NAME)&&t.triggerEvent("afterRender",g,o);try{f(g,a,!1)}catch(_){}l.isABTestEnabled("BID_NOT_WON")&&d.removeWonBid(p,g,D,n.getHeaderBiddingUrl(u))}}var _={};return{renderAd:C,registerAdapter:c,renderExternal:P,renderSuccess:D,getBidsRevamped:u,renderEmptyAd:g,getAdapterFromCode:m}});_mNDefine("storagemanager",["_mNRP","util","config","bid","entitymanager"],function(e,r,t,n,i){"use strict";function o(e,r,t,i){var o,a;for(e[V]=x,e[r]=e[r]||{},e[r][t]=e[r][t]||[],o=e[r][t],a=0;a<o.length;a++)for(var u in o[a])if(o[a].hasOwnProperty(u)&&o[a][u][n.CustomProperties.REFERRING_VISIT_ID]===i)return o[a];var s={};return o.push(s),s}function a(e,t){var i,o=n.CustomProperties.TIMESTAMP;for(var a in t)if(t.hasOwnProperty(a)){var u=t[a].serialize(),s=u[n.Properties.PLACEMENT_ID];r.isStringSet(s)&&(e[s]=u,i=u[o])}e[o]=r.getCurrentTime()}function u(e,r,t){var i;for(var u in r)if(r.hasOwnProperty(u)){i=r[u].getCustom(n.CustomProperties.REFERRING_VISIT_ID);break}var s=o(F,e,t,i);a(s,r)}function s(e,t){var i={};F=y()||{},S(e),r.each(t,function(e){var t=e.getCustom(n.CustomProperties.CACHING_FLAG);if(r.isSet(e.get(n.Properties.CPM))&&parseFloat(e.get(n.Properties.CPM))>0&&t){var o=e.get(n.Properties.BIDDER_ID);if(!r.isSet(o))return;i[o]=i[o]||[],i[o].push(e)}}),r.each(i,function(r,t){u(e,r,t)}),l(F)}function f(e,r){for(var t,o,a=[],u=0;u<r.length;u++)o=r[u].serialize(),o[n.CustomProperties.TIMESTAMP]=o[n.CustomProperties.TIMESTAMP]||(new Date).getTime(),o[n.CustomProperties.BID_REUSED_FLAG]=1,o[n.Properties.STATUS]=n.Status.SUCCESS,o[n.CustomProperties.STATUS_NAME]=n.StatusNames[n.Status.SUCCESS],o[n.CustomProperties.REFERRING_VISIT_ID]=i.resolveMacros("%%VISIT_ID%%"),t=(new n).deserialize(o),a.push(t);s(e,a)}function c(e){return J&&void 0!==b&&b.getItem(e)}function p(e,r){return J&&void 0!==b&&b.setItem(e,r)}function P(){return c(G)}function v(){var e=P();try{var r=JSON.parse(e);return r}catch(t){l({})}return{}}function S(e){U=e}function l(r){var t=JSON.stringify(r);e.execSafe(p,G,t)}function g(e){return e&&e.get(n.Properties.STATUS)===n.Status.SUCCESS&&e.get(n.Properties.CPM)?!0:!1}function d(e){return e===V}function I(){var e=i.getDeviceType();return 2===e||3===e?t.cbInfo.bidCapM||3:t.cbInfo.bidCap||5}function h(e,t){var o=e[t],a={},u=I();if(o&&r.isArray(o)&&o.length>0){r.each(o,function(e,t){r.each(e,function(r,o){if("ts"!==o){if(i.isTimeStampExpired(r[n.CustomProperties.TIMESTAMP],r[n.Properties.BIDDER_ID])){var u=(new n).deserialize(r);return g(u)&&M(u),void delete e[o]}a[o]=a[o]||[],a[o].push([t,r])}})}),r.each(a,function(e,t){var i=e.sort(function(e,r){var t=parseFloat(e[1][n.Properties.CPM]),i=parseFloat(r[1][n.Properties.CPM]);return t===i?r[1][n.CustomProperties.TIMESTAMP]-e[1][n.CustomProperties.TIMESTAMP]:i-t}).splice(u);0!==i.length&&r.each(i,function(e,r){delete o[e[0]][t]})});for(var s=0;s<o.length;)T(o[s])?o.splice(s,1):s++;0===o.length&&delete e[t]}else delete e[t]}function m(e,t){var n=!0,i=e[t];for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];a&&r.isArray(a)&&a.length>0&&(n=!1)}n&&delete e[t]}function C(){var e=y();if(e){for(var r in e)if(!d(r)&&e.hasOwnProperty(r)){var t=e[r];for(var n in t)t.hasOwnProperty(n)&&h(t,n);m(e,r)}l(e)}}function T(e){for(var r in e)if(e.hasOwnProperty(r)&&"ts"!==r)return!1;return!0}function E(e,r,t){return e&&e[r]&&e[r][t]&&e[r][t].length>0}function M(e){z=z||i.require("logmanager"),z.expiredBids.addNew(e)}function w(e){var t,n,o=y();return r.isEmptyObject(o)?!1:(n=i.getPrefetchUrl(),t=r.any(o[n],function(t,n){var i;return r.isArray(t)&&t.length>0&&(i=r.any(t,function(r){return e in r?!0:void 0}),i===!0)?!0:void 0}))}function A(e,t){if(N()){var n=i.getPrefetchUrl(),o=y();E(o,n,e)&&(r.each(o[n][e],function(i,a){r.each(i,function(r,i){t===i&&delete o[n][e][a][i]})}),l(o))}}function D(e,t,o){if(!N())return null;C();var a=y();if(E(a,e,t)){var u={},s=[],f=!1,c={},p={};return r.each(a[e][t],function(e,a){var u=e[n.CustomProperties.TIMESTAMP]||0;return i.isTimeStampExpired(u,t)?void r.each(e,function(e){var r=(new n).deserialize(e);g(r)&&M(r)}):void r.each(o,function(t){var i;t in e&&(i=(new n).deserialize(e[t])),g(i)&&i.get(n.Properties.CPM)>0&&(!r.isSet(c[t])||i.get(n.Properties.CPM)>c[t].get(n.Properties.CPM))&&(c[t]=i,p[t]=a)})}),r.each(o,function(n){if(r.isSet(c[n])){var i=p[n];f=!0,delete a[e][t][i][n],u[n]=c[n],T(a[e][t][i])&&s.unshift(i)}}),s.sort(function(e,r){return r-e}),r.each(s,function(r){a[e][t].splice(r,1)}),l(a),u||null}}function _(e,t,i,o){if(N()){var a=y();E(a,o,e)&&(r.each(a[o][e],function(e,r){e[t]&&e[t][n.CustomProperties.PROVIDER_REQUEST_ID]===i&&delete e[t]}),l(a))}}function y(){var e=v();return e}function R(){var e="mntest";try{if("localStorage"in window&&null!==window.localStorage)return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(r){return!1}return!1}function N(){return e.execSafe(R)===!0&&r.isJSONSupported()===!0}function B(e){return c(e)||""}function O(e,r){return J&&p(e,r)}var F,U,b,z,G="BIDS_MAP",x="1",V="v",J=N();return J&&(b=window.localStorage),{setPageUrl:S,setBid:l,isBidPresentForPlacement:w,getBid:y,getBids:D,getInfo:B,setInfo:O,storeBidsForReuse:f,removeBidFromCache:A,removeWonBid:_,setInStorage:s,supportStorage:N}});_mNDefine("abtestmanager",function(){"use strict";function e(){return!1}return{isABTestEnabled:e}});_mNDefine("mnetcookiesyncmanager",["util","config","entitymanager","placementmanager","storagemanager"],function(n,e,i,o,c){"use strict";function r(n){c.setInfo(h[n].cookieLsKey,(new Date).getTime()/1e3)}function y(e){var o=c.getInfo(h[e].cookieLsKey);return n.isSet(i.getVisitorId())&&n.isSet(o)?o:""}function t(e){var i=c.getInfo(h[e].cookieLsKey);return n.isSet(i)&&(new Date).getTime()/1e3-i<=h[e].cookieExpiry}function s(n){u(l.ox.iframeId,null,l.ox.iframeBody,r(n))}function p(e){if(e.length>0){var i=l.mnsync.iframeSrc+n.encodeParam(e.join(","))+"&rtime="+n.clock.diff();u(l.mnsync.iframeId,i,null)}}function a(e){return n.filter(e,function(n){return 11===parseInt(n)?!t(n):h.hasOwnProperty(n)})}function m(e){return n.filter(e,function(n){return h.hasOwnProperty(n)})}function d(){var n=o.getUniqueProviderList();return a(m(n))}function k(e){var i=[];if(0!==e.length){var o;n.each(e,function(n){switch(o=h[n].syncType){case"ox":s(n);break;case"mnsync":i.push(n)}}),p(i)}}function f(){var n=d();k(n)}function u(e,i,o,c){var r={};n.isStringSet(i)&&(r.src=i),n.createNonBlockingFrame(e,o,document.body,r,c)}function x(n){return h.hasOwnProperty(n)&&11===parseInt(n)?y(n):""}var I=(i.getlper("ck")||0,i.isForceCookieSyncEnabled()?"1":"0",i.getProtocol()),T="";"https"===I&&(T="&https=1");var g=[i.getProtocol(),"://contextual.media.net/checksync.php?vsSync=1&cs=1","&cv=30","&cid=",i.getCid(),T,"&prvid="].join(""),l={ox:{iframeId:"_oX_cksync_0",iframeBody:'<!DOCTYPE html><html><head></head><body><script type="text/javascript">if (!window.OX_ads) { OX_ads = []; }OX_ads.push({ "auid" : "1234567" });<\/script><script type="text/javascript" src = "'+I+'://us-ads.openx.net/w/1.0/jstag"><\/script></body></html>'},mnsync:{iframeId:"_mN_cksync_0",iframeSrc:g}},h={2:{syncType:"mnsync",cookieIndex:0,priority:1},11:{syncType:"ox",cookieIndex:6,cookieLsKey:"oxcsync",cookieExpiry:604800,priority:6},12:{syncType:"mnsync",cookieIndex:2,priority:2},23:{syncType:"mnsync",cookieIndex:0,priority:1},28:{syncType:"mnsync",cookieIndex:4,priority:3},29:{syncType:"mnsync",cookieIndex:3,priority:4},33:{syncType:"mnsync",cookieIndex:0,priority:1},35:{syncType:"mnsync",cookieIndex:5,priority:5},38:{syncType:"mnsync",cookieIndex:5,priority:5},42:{syncType:"mnsync",cookieIndex:10,priority:10},43:{syncType:"mnsync",cookieIndex:6,priority:6},51:{syncType:"mnsync",cookieIndex:0,priority:1},52:{syncType:"mnsync",cookieIndex:0,priority:1},53:{syncType:"mnsync",cookieIndex:0,priority:1},54:{syncType:"mnsync",cookieIndex:7,priority:7},55:{syncType:"mnsync",cookieIndex:6,priority:6},56:{syncType:"mnsync",cookieIndex:8,priority:8},57:{syncType:"mnsync",cookieIndex:9,priority:9},58:{syncType:"mnsync",cookieIndex:0,priority:1},59:{syncType:"mnsync",cookieIndex:10,priority:10},61:{syncType:"mnsync",cookieIndex:3,priority:4},62:{syncType:"mnsync",cookieIndex:4,priority:3},106:{syncType:"mnsync",cookieIndex:6,priority:6},107:{syncType:"mnsync",cookieIndex:4,priority:4}};return{initiateCookieSync:f,getCookieData:x}});_mNDefine("gptmanager",[window,"_mNRP","config","util","bidmanager","dfpmanager","abtestmanager","entitymanager","logmanager","storagemanager","bid","placementmanager"],function(e,t,n,i,a,o,r,g,s,l,u,d){"use strict";function c(e){var t=d.getAllSlots();return i.any(t,function(t,n){return t.g===!1&&o.isValidSlotCodeCheckByBidder(t,e)?t:void 0})}function f(e){return 1===$[e]}function v(e){var t=d.getAllSlots();return i.any(t,function(t,n){return o.isValidSlotCodeCheckByBidder(t,e)?t:void 0})}function y(e){var t=v(e);return t?t.code:""}function p(e){var t=c(e),n=e.getSlotElementId();return i.isSet(t)&&!i.isSet(ne[n])?t:null}function m(e){var t=[];if(i.isArray(e)&&e.length>0)return i.each(e,function(e){var n=p(e);null!==n&&t.push(n.code)}),t}function S(e,t){i.isArray(e)&&e.length>0&&i.each(e,function(e){ne[e]=t})}function A(e){i.isArray(ee[e])&&ee[e].length>0&&(t.execSafe(o.setTargetingForAdUnitsGPTAsync),te[e]=!0,i.each(ee[e],function(e){e()}))}function h(t){return i.any(e.googletag.pubads().getSlots(),function(e){return e.getSlotElementId()===t?e:void 0})}function T(t){V=void 0,e.advBidxc.getBidsForSlots(H[t])}function E(e){e?T(J):V=setTimeout(i.getProxy(T,[J]),Y),setTimeout(i.getProxy(A,[J]),Z)}function I(n,a,r){var g,s=[],l="";i.isArray(a)&&a.length>0&&(l=a[0].getSlotElementId());var u=!r&&oe===!0;if(u&&(a=e.googletag.pubads().getSlots(),a=i.filter(a,function(e){var t=e.getSlotElementId();return 1!==$[t]?(s.push(t),!0):void 0})),g=m(a),i.isArray(g)&&0===g.length)if(i.isSet(ne[l])&&te[ne[l]]===!1){var d=ne[l];ee[d]=ee[d]||[],ee[d].push(n)}else t.execSafe(o.setTargetingForAdUnitsGPTAsync),n();else(u||void 0===V)&&(J++,te[J]=!1),ee[J]=ee[J]||[],ee[J].push(n),H[J]=H[J]||[],Array.prototype.push.apply(H[J],g),(u||void 0===V)&&E(u),u?S(s,J):S(g,J)}function P(e,n){i.isSet(re[n.getSlotElementId()])||(re[n.getSlotElementId()]=1,t.execSafe(o.setTargetingForAdUnitsGPTAsync),e())}function b(e,n,r){var s=!1,l=!1,u=!1,c=g.getGuaranteedFunctionDelay();return i.each(n,function(t){var n=v(t),o=i.isSet(n)&&i.isSet(n.crid)&&d.isGuaranteedSlot(n.crid);if(o&&1!==$[t.getSlotElementId()]&&(s=!0),!u&&o&&i.isSet(c)&&!a.isAuctionClosedForAdUnitCode(n.code,a.getCurrentPage())){var r=i.getProxy(P,[e,t]);setTimeout(r,c),i.addToEventQueue("auctionEnd","global",r),u=!0}o||(l=!0)}),u!==!0?s===!0&&u===!1?(t.execSafe(o.setTargetingForAdUnitsGPTAsync),void e()):void(l?I(e,n,r):e()):void 0}function x(){X||(clearTimeout(j),j=void 0,X=!0,i.each(K,function(e){e()}))}function D(){var t,n=e.googletag.display,o=function(){try{var e=Array.prototype.slice.call(arguments),t=e[0],a=i.getProxy(n,e,this);if(!i.isArray(e)||!i.isStringSet(e[0]))return;if(ae===!0)return void a();var o=h(t),r=[];i.isSet(o)&&(r=[o]),I(a,r)}catch(g){}};return i.isSet(g.getGuaranteedFunctionDelay())?(t=function(){var e=Array.prototype.slice.call(arguments);return a.checkAllAuctionsDone(a.getCurrentPage())||X?o.apply(this,e):(i.isSet(j)||(j=setTimeout(x,g.getGuaranteedFunctionDelay()),i.addToEventQueue("auctionEnd","global",x)),void K.push(i.getProxy(o,e,this)))},void(e.googletag.display=t)):void(e.googletag.display=o)}function C(t,n){if(0===n.length){try{e.advBidxc.refresh()}catch(a){}return!0}var o,r=[],s=n[0];if(i.each(s,function(e){if(i.isSet(e)){var t=y(e);o=e.getSlotElementId(),i.isSet(t)&&1===$[o]&&r.push(t)}}),r.length>0){try{e.advBidxc.refresh(r)}catch(a){}return!0}return ae===!0?(i.isSet(g.getGuaranteedFunctionDelay())?b(t,s,!0):I(t,s,!0),!1):!0}function G(e){t.execSafe(o.setTargetingForAdUnitsGPTAsync,!0),e()}function F(){var t=e.googletag.pubads().refresh;e.googletag.pubads().refresh=function(){var e=Array.prototype.slice.call(arguments);if(!i.isArray(e[0])||(e[0]=i.filter(e[0],function(e){return i.isSet(e)}),0!==e[0].length)){var n=i.getProxy(t,e,this),a=C(n,e);if(a){var o=g.getGoogleRefreshDelay();return i.isSet(o)?void setTimeout(i.getProxy(G,[n]),o):G(n)}}}}function B(){var t=e.googletag.pubads().enableSingleRequest;e.googletag.pubads().enableSingleRequest=function(){return ae===!1&&(oe=!0),t.apply(this,Array.prototype.slice.call(arguments))}}function R(){if(e.google_DisableInitialLoad===!0)return ae=!0,void(oe=!1);var t=e.googletag.pubads().disableInitialLoad;e.googletag.pubads().disableInitialLoad=function(){return ae=!0,oe=!1,t.apply(this,Array.prototype.slice.call(arguments))}}function _(){if(e.googletag&&e.googletag.cmd||(e.googletag=e.googletag||{},e.googletag.cmd=e.googletag.cmd||[]),g.isGptOverrideEnabled()){var t=function(){e.googletag.pubads().addEventListener("slotRenderEnded",function(e){var t=e.slot.getSlotElementId();i.isSet(y(e.slot))&&i.isSet(t)&&($[t]=1)}),R(),B(),D(),F(),e.advBidxc.setTargetingForAdUnitsGPTAsync=function(){}};i.isArray(e.googletag.cmd)?e.googletag.cmd.unshift(t):(ie=!0,e.googletag.cmd.push(t))}}function L(t,n){l.isBidPresentForPlacement(n)===!0&&e.googletag.pubads().refresh([t])}function N(e){var t=y(e);if(i.isSet(t)){var n=g.getAutoRefreshTimeout(t);null!==n&&setTimeout(i.getProxy(L,[e,t]),n)}}function M(e){var t=e.slot,o=t.getTargetingMap()||{},r=y(t),g=t.getResponseInformation()||{},l=o[n.bidderExTargetParams.PLACEMENT_ID]&&o[n.bidderExTargetParams.PLACEMENT_ID][0]||r,d=o[n.defaultExTargetParams.PAGE_ID]&&o[n.defaultExTargetParams.PAGE_ID][0]||a.getCurrentPage(),c=a.getWinningBidByCode(l,d,!1)||{};o.advertiserId=g.advertiserId||"",o.campaignId=g.campaignId||"",o.creativeId=g.creativeId||"",o.labelIds=g.labelIds||[],o.lineItemId=g.lineItemId||"",o.slotElementId=t.getSlotElementId(),o.dfpDivSize=i.isArray(e.size)?e.size.join("x"):"",o.originalBidPrice=c&&c.getCustom&&c.getCustom(u.CustomProperties.ORIGINAL_CPM)||"",s.dfpAdDataLog.addDFPSlotData(o)}function U(e){var o=function(){var t=e.slot.getTargetingMap(),o=t[n.bidderExTargetParams.PLACEMENT_ID],r=t[n.defaultExTargetParams.PAGE_ID];i.isArray(r)&&i.isArray(o)&&i.isStringSet(r[0])&&i.isStringSet(o[0])&&a.storeBidIfNotRendered(o[0],r[0])};setTimeout(function(){setTimeout(function(){t.execSafe(o)},500)},500)}function q(){return i.isSet(e.googletag)&&i.isFunction(e.googletag.pubads)}function O(){var e=g.getCustomUtilityWrapper();return i.isSet(e)&&i.isFunction(e.isGoogleDisplayCalled)?e.isGoogleDisplayCalled():q()}function k(){return O()&&g.disableRequestsForDefinedSlots()}function w(){if(k()){var t=e.googletag.pubads().getSlots();i.isArray(t)&&t.length>0&&i.each(t,function(e){if(!i.isEmptyObject(e.getTargetingMap())){var t=v(e);i.isSet(t)&&t.g===!0&&t.disIfDef===!0&&d.disableRequest(t)}})}}function z(){e.googletag.cmd.push(function(){e.googletag.pubads&&e.googletag.pubads().addEventListener("slotRenderEnded",function(e){e&&e.slot&&i.isFunction(e.slot.getTargetingMap)&&(M(e),r.isABTestEnabled("BID_NOT_WON")&&U(e))})})}function Q(){ne={}}function W(){_(),w(),z(),i.addToEventQueue("resetAw","command",Q)}var j,V,H={},J=0,K=[],X=!1,Y=g.getRequestBatchDelay()||30,Z=g.getNonGuaranteedFunctionDelay()||300,$={},ee={},te={},ne={},ie=!1,ae=!1,oe=!1,re={};return{isSlotRendered:f,refreshAd:N,init:W}});_mNDefine("bidmanager",["util","config","bid","mnetHbConsole","entitymanager","placementmanager"],function(e,t,i,n,r,o){"use strict";function s(){return ie=ie||r.require("logmanager")}function u(e,t){return ne[e]&&ne[e][t]?ne[e][t]:null}function c(t,i){e.clock.tick(t+i+"auctionTime")}function a(t,i){var n;if(n=u(i,t),null!==n){W(n);var r=n.bids.slice(1,2);T(t,i,r)}e.clock.time(t+i+"auctionTime")||e.clock.tock(t+i+"auctionTime")}function d(t,i){return e.clock.time(t+i+"auctionTime")||0}function l(t,i){return e.clock.getTime(t+i+"auctionTime")}function g(e,t){var i=r.getAuctionTimeForMnetBidderRequest(),n=l(e,t);return-1!==n&&n>i}function m(e){ae.status=e}function p(){return ae.status}function C(t,n){var r=n.get(i.Properties.CREATIVE_ID),o=n.get(i.Properties.BIDDER_ID);e.isSet(t)&&e.isSet(r)&&e.isSet(o)&&(se[t]=se[t]||{},se[t][r]=se[t][r]||{},se[t][r][o]=!0)}function f(t,i,n){se[t]=se[t]||{},se[t][i]=se[t][i]||{},e.each(n,function(e,n){e&&(se[t][i][n]=!1)})}function P(t,n){var s=r.require("providermanager");if(!e.isSet(t)||!e.isSet(n)||e.isEmptyObject(se[t])||e.isEmptyObject(se[t][n]))return[];var u=[],c=se[t][n];return e.each(c,function(t,c){if(e.isSet(c)&&t!==!0){var a=o.getProviderById(n,c);if(!e.isEmptyObject(a)){var d=s.getNameForId(c);u.push((new i).status(i.Status.TIMEOUT).set(i.Properties.PLACEMENT_ID,a.code).set(i.Properties.BIDDER_NAME,a.bidder).set(i.Properties.SIZE,a.sizes[0].size).set(i.Properties.BIDDER_ID,a.prvid).set(i.Properties.CREATIVE_ID,a.crid).setCustom(i.CustomProperties.PAGE_ID,a.pageId).setCustom(i.CustomProperties.AUCTION_ID,r.getAuctionId(a.pageId,a.code)).setCustom(i.CustomProperties.ZERO_ADJUSTMENT,a.pvsh).setCustom(i.CustomProperties.FIRST_ADJUSTMENT,a.dpsh).setCustom(i.CustomProperties.SECOND_ADJUSTMENT,a.rvsh).setCustom(i.CustomProperties.PROVIDER_NAME,d).setCustom(i.CustomProperties.AUCTION_TYPE,i.AuctionType.HEADER_BID))}}}),u}function A(){var t=[],i={};return e.each(ne,function(n,r){e.each(n,function(e,n){i[n]!==!0&&(t.push(n),i[n]=!0)})}),t}function I(e,t){te=te||r.require("storagemanager"),te.storeBidsForReuse(e,t)}function E(t,n){var o,s,c;o=u(n,t),s=W(o),null===s||e.isSet(oe[t])||(c=s.getCustom(i.CustomProperties.RENDER_START_STATUS),c!==!0&&I(r.getPrefetchUrl(),[s]),oe[t]=c||!1)}function T(t,i,n){re[t]=re[t]||{},re[t][i]=re[t][i]||!1,re[t][i]===!1&&n&&e.isArray(n)&&(re[t][i]=!0,I(r.getPrefetchUrl(),n))}function D(t){e.isArray(t)||(t=[t]),t.sort(F),e.each(t,function(e,n,r){e.set(i.Properties.DOMINANT_BID_FLAG,r-1===n?"1":"0"),e.set(i.Properties.NUMBER_MULTI_SIZES,t.length+"")})}function v(t,o,s){o=e.isSet(o)?o:"0",e.consoleLog("adding response ",s.serialize());var c=u(o,t);if(!(null!==c&&c.auctionClosed||t!==s.get(i.Properties.PLACEMENT_ID)||"0"===s.get(i.Properties.DOMINANT_BID_FLAG))){if(c.bidsReceivedCount++,ae.received++,C(o,s),s.getAny("THIRD_PARTY_TARGETS")||s.getAny("THIRD_PARTY_TARGETS_GLOBAL")){ee=ee||r.require("thirdpartymanager");var d=ee.addBidResponse(t,o,s);e.isSet(d)&&e.isSet(d.hasAnyWinningBid)&&d.hasAnyWinningBid===!0&&(c.hasAnyWinningBid=!0)}else c.bids.push(s),B(s);R(t,o)&&(c.auctionClosed=!0,a(t,o),n.event("Auc end for "+t),n.log(e.clock.time(t+o+"auctionTime"),"auctionTime","",t),e.triggerEvent("auctionEnd",t,{winner:W(c)}),_(o)&&e.triggerEvent("auctionEnd","global"))}}function S(t,i){var n={},r=d(t,"0"),o=b(t,"0",!0);e.extend(n,{auctionTime:r,winningBid:null===o[0]?Y("0",t):o[0],secondWinner:o[1],minimal:null===o[0],tp:i||{}}),s().auctionDecisions.addNew(n)}function _(e){if(ne.hasOwnProperty(e))for(var t in ne[e])if(ne[e].hasOwnProperty(t)&&ne[e][t].auctionClosed===!1)return!1;return!0}function R(e,t){var i=u(t,e);return null!==i&&(q(i)||r.isMnetBidderRequest()&&g(e,t))}function h(e){return{bidsReceivedCount:0,auctionClosed:!1,bids:[],bidsExpected:e.expectedBids||0,startTime:0,endTime:0,bidders:e.bidders,pageId:e.pageId,hasAnyWinningBid:!1}}function B(){}function N(t,i,n,r){if(!e.isStringSet(i)||!e.isStringSet(t))return r;var o=u(i,t);return null!==o&&o.hasOwnProperty(n)?o[n]:r}function y(e,t){return N(e,t,"bids",[])}function M(e,t){return N(e,t,"hasAnyWinningBid",!1)}function b(t,i,n,o){var s,c=u(i,t),a=r.require("adxhelper");return s=null!==c&&c.auctionClosed?W(c,n,o):n?[null,null]:null,e.isSet(a)&&a.isMnetAdxEnabled(t)&&K()&&(s=$.manipulateWinningBid(s,t,i)),s}function O(t,n){var r=b(t,n,!0);return null===r[1]||0===r[1].getCustom(i.CustomProperties.ORIGINAL_CPM)?-1:r[0].getCustom(i.CustomProperties.ORIGINAL_CPM)===r[1].getCustom(i.CustomProperties.ORIGINAL_CPM)?r[0].getCustom(i.CustomProperties.ORIGINAL_CPM):e.decimalLimit(r[1].getCustom(i.CustomProperties.ORIGINAL_CPM)+ue)}function w(e){return!!(e&&e.get(i.Properties.CPM)&&e.get(i.Properties.CPM)>0&&e.get(i.Properties.BIDDER_NAME))}function L(e,t){var i=[];return w(e[0])?w(e[1])?i.push(e[0],e[1]):i.push(e[0],null):i.push(null,null),t?i:i[0]}function U(e,t){var n=0,r=0;if(t.get(i.Properties.CPM))try{n=parseFloat(t.get(i.Properties.CPM))}catch(o){}if(e.get(i.Properties.CPM))try{r=parseFloat(e.get(i.Properties.CPM))}catch(o){}return n-r}function F(e,t){return U(t,e)}function G(e){e&&e.bids&&!e.winnerDecided&&(e.winnerDecided=!0,e.bids.sort(U))}function x(t){if(t&&t.length>0)for(var n=0,o=t.length;o>n&&t[n];)if(e.isSet(t[n].getCustom(i.CustomProperties.TIMESTAMP))&&!r.isTimeStampExpired(t[n].getCustom(i.CustomProperties.TIMESTAMP),t[n].get(i.Properties.BIDDER_ID)))n++;else{var u=t.splice(n,1);w(u[0])&&e.isSet(u[0].getCustom(i.CustomProperties.TIMESTAMP))&&s().expiredBids.addNew(u[0])}}function W(e,t,n){var r=e.bids;if(n!==!0&&x(e.bids),0===r.length)return e.winnerDecided=!0,t?[null,null]:null;if(e.winnerDecided)return L(r,t);if(G(e),e.bids&&e.bids.length>0){var o=e.bids[0];w(o)&&(o.setCustom(i.CustomProperties.IS_WINNING_BID,"1"),e.hasAnyWinningBid=!0)}return L(r,t)}function k(e,t){var i=u(t,e);return null!==i&&i.auctionClosed?!0:!1}function q(e){return e.bidsReceivedCount===e.bidsExpected}function z(t){var i=t.pageId;e.consoleLog(t),n.event("Auc for "+t.adunitCode+" regd"),ne[i]=ne[i]||{},ne[i][t.adunitCode]=h(t),c(t.adunitCode,i),ae.count+=t.expectedBids;var r=o.getIdForName(t.adunitCode);f(t.pageId,r,t.providers)}function H(t,i){var r=u(i,t);null===r||r.auctionClosed||(r.auctionClosed=!0,a(t,i),n.event("Auc end for "+t),n.log(e.clock.time(t+i+"auctionTime"),"auctionTime","",t),e.triggerEvent("auctionEnd",t,{winner:W(r)}))}function V(t,i){if(e.isStringSet(t)){if(e.isStringSet(i))H(i,t);else for(var n in ne[t])ne[t].hasOwnProperty(n)&&H(n,t);_(t)&&e.triggerEvent("auctionEnd","global")}}function Y(t,n){var s=u(t,n);if(e.isSet(s)&&e.isArray(s.bids)&&s.bids.length>0)return s.bids[0];var c=o.getConfigByName(n);return(new i).setCustom(i.CustomProperties.PAGE_ID,t).set(i.Properties.PLACEMENT_ID,n).set(i.Properties.BIDDER_ID,"0").set(i.Properties.CREATIVE_ID,c.crid||"").set(i.Properties.SIZE,e.isSet(c)&&e.isArray(c.sizes)&&e.isArray(c.sizes[0])?c.sizes[0].join("x"):"").setCustom(i.CustomProperties.AUCTION_TYPE,i.AuctionType.HEADER_BID).setCustom(i.CustomProperties.PROVIDER_RESPONSE_TYPE,i.AuctionType.HEADER_BID).setCustom(i.CustomProperties.PROVIDER_NAME,"NO_BID").setCustom(i.CustomProperties.AUCTION_ID,r.getAuctionId(t,n))}function j(){ce+=1;var t;try{t=window._mNRequire(["customutil"])[0]}catch(i){}if(e.isSet(t)&&e.isFunction(t.updatePageNo)){var n=parseInt(t.updatePageNo(ce),10);n>0&&!ne[n]&&Z(n)}}function Z(e){ce=e}function J(){return ce.toString()}function Q(){se={},ae={count:0,status:0,received:0}}function K(){try{$=$||window._mNRequire(["mnetadxcontroller"])[0]}catch(e){}return $}function X(t,i){var n=u(i,t);if(e.isSet(n)&&e.isSet(n.bids))for(var r=0;r<n.bids.length;r++)if(w(n.bids[r]))return!0;return!1}var $,ee,te,ie,ne={},re={},oe={},se={},ue=.01,ce=0,ae={count:0,status:0,received:0};return e.addToEventQueue("all:reset","command",Q),{setStatus:m,getStatus:p,addBidResponse:v,registerAuction:z,getAllAdUnitCodesArray:A,getLateAuctionParticipants:P,auctionStatus:R,getAllBidsByAdUnit:y,getAnyBid:Y,shutDown:V,getWinningBidByCode:b,isAuctionClosedForAdUnitCode:k,getAuctionTime:d,getSecondPriceByCode:O,newAuction:j,refresh:Q,checkAllAuctionsDone:_,getCurrentPage:J,storeBidIfNotRendered:E,isAnyBidInForAdUnit:X,getAuctionTimeFromStart:l,callAuctionDecision:S,setDominantBid:D,updateCurrentPage:Z,hasAnyWinningBid:M}});_mNDefine("placementmanager",["util","config"],function(e,r){"use strict";function n(){if(!e.isSet(_))try{_=window._mNRequire(["entitymanager"])[0]}catch(r){_=null}}function t(){return r.provider||{}}function i(n){return e.any(r.adSlots,function(e,r){return r===n?e:void 0})||{}}function o(n){return e.any(r.adSlots,function(e,r){return e.code===n?e:void 0})||{}}function u(e,r){var n=P(e);return n[r]||{}}function a(){var t=[];return n(),e.each(r.provider,function(r,n){e.each(r,function(r,n){(r.test_mode!==!0||_&&_.isTestModeForProvider(n))&&e.isSet(n)&&!e.checkItemExistsInArray(t,n)&&t.push(n)})}),t}function c(e){var r=o(e);return r.crid||""}function d(e){var r=i(e);return r&&r.code||""}function f(){var n=[];return e.each(r.provider,function(r,t){var i=d(t);e.isSet(i)&&y(t)&&!D(t)&&n.push(i)}),n}function s(){return!e.isEmptyObject(h())}function v(e){var r=i(e);return r.sizes||[]}function l(e,r){return r[0]===e[0]?r[1]-e[1]:r[0]-e[0]}function g(e){var r=v(e);return r.sort(l)[0]}function y(e){var r=i(e);return p(r)}function p(e){return e.hasOwnProperty("g")&&e.g===!0}function S(e,r){var n=i(e);return n.hasOwnProperty(r)&&n[r].hasOwnProperty("prf")&&n[r].prf!==!0}function h(){return r.adSlots||{}}function m(e,r){var n=i(e);return n[r]&&n[r].fp||0}function P(n){return e.any(r.provider,function(e,r){return r===n?e:void 0})||{}}function I(n){return e.any(r.provider,function(r,t){var i=d(t);return e.isSet(i)&&i===n?r:void 0})||{}}function A(e){var n=I(e);return n[r.PROVIDER_IDS.MNET_ADX]||null}function B(e){var n=I(e);return n[r.PROVIDER_IDS.YBNCA_ADX_FAILOVER]||null}function b(r){e.isArray(r)&&r.length>0&&(O=r)}function N(){var r={};return e.each(O,function(n){var t=o(n);!e.isEmptyObject(t)&&e.isSet(t.crid)&&(r[t.crid]=t)}),r}function R(t){var i={};return n(),e.each(r.provider,function(r,n){var o=r[t];e.isSet(o)&&(o.test_mode!==!0||_&&_.isTestModeForProvider(t))&&(i[n]=o)}),i}function C(e){F[e.crid]=!0}function D(r){return e.isSet(r)&&F[r]===!0}function E(){F={}}var _,O=[],F={};return e.addToEventQueue("after:apiCallsSent","global",E),{hasValidConfig:s,isGuaranteedSlot:y,checkGuaranteed:p,getAllGuaranteedAdunitCodes:f,getSlotNameById:d,getSizesById:v,getAllSlots:h,getMnetAdxConfigByName:A,getYbncaAdxFailoverConfigByName:B,getMaxSizeById:g,getIdForName:c,disableRequest:C,isRequestDisabled:D,getConfigByName:o,getConfigById:i,getProvidersByName:I,getProvidersById:P,getAllProviderConfig:t,getProviderById:u,enableSlotsForAdapterRefresh:b,getAdapterRefreshEnabledSlots:N,getUniqueProviderList:a,getProviderFpById:m,isProviderPrefetchDisabled:S,getGlobalSlotListByProvider:R}});_mNDefine("providermanager",["util","config"],function(t,e){"use strict";function r(r){return t.any(e.providerMap,function(t,e){return e===r.toString()?t:void 0})||{}}function n(t){var e=r(t);return e.pvnm||""}function i(t){var e=r(t);return e.bidder||""}function d(){return e.targetingKeys||{}}function o(e){var r=d();return t.isSet(e)&&t.isSet(r[e])?r[e]:{}}function u(e){return t.isSet(e.auto)&&t.getRandom(0,100)<=e.auto?p.YBNCA_AUTO:p.YBNCA}function a(t){var e=o(t);return e.name||""}function g(t){var e=r(t);return e.adv_dn||""}function f(){return e.defaultBidderSetting.hasOwnProperty("openxbidder")&&e.defaultBidderSetting.openxbidder.jstag_url||""}function c(){return e.defaultBidderSetting.hasOwnProperty("openxbidder")&&e.defaultBidderSetting.openxbidder.oxLogUrl||""}function v(t){var e=o(t);return e.global||""}function l(t){t=t.toString();var e=r(t);return e.mNet===!0?p.MEDIA_NET:t.toString()}var p=e.PROVIDER_IDS;return{getBidderForId:i,getConfigById:r,getTargetingKeysById:o,getTargetingBidderName:a,getOpenxJsTagUrl:f,getGlobalTargetingKeysById:v,getOpenxLogUrl:c,getAdapterProviderForId:l,getDefaultAdvById:g,getYbncaIdByConfig:u,getNameForId:n}});_mNDefine("init",["_mNRP","util","config","bid","entitymanager","placementmanager","bidmanager","adaptermanager","storagemanager"],function(e,i,t,n,r,o,a,d,s){"use strict";function c(e){var t,n;for(t=0,n=e.length;n>t;t++)i.isFunction(e[t])&&e[t].call(null)}function u(){void 0!==window.advBidxc&&window.advBidxc.exec?(i.isArray(window.advBidxc.exec)&&c(window.advBidxc.exec),window.advBidxc.exec=X):(window.advBidxc=window.advBidxc||{},window.advBidxc.exec=X)}function l(e){var t={};return i.each(e,function(e){t[e]=!0}),t}function g(t,o,s,c){s=i.isSet(s)?s:"0",e.execSafe(function(t,o){i.consoleLog("rendering");var u,l=r.require("adxhelper");if(t&&o){if(u=a.getWinningBidByCode(o,s,!1,!0)){if(u.setCustom(n.CustomProperties.RENDER_START_STATUS,!0),i.consoleLog(u.name()),i.isSet(l)&&l.isAdxPostBidToBeDone(o,s)){if(i.isSet(u.get(n.Properties.SIZE))){var f=Q();return void f.postBid(t,u,g,Array.prototype.slice.call(arguments))}e.pushError({message:"placementId - "+o+", pageId - "+s+"bidderID - "+u.get(n.Properties.BIDDER_ID)+"cpm"+u.get(n.Properties.CPM),name:"WINNING_BID_NOT_VALID_ERROR"})}return d.renderAd(t,u,s,c)}e.pushError({message:"placementId - "+o+", pageId - "+s,name:"NO_WINNING_BID_ERROR"}),r.isMnetBidderRequest()&&d.renderEmptyAd(t),i.consoleLog("no winning bid found")}},t,o)}function f(i){e.execSafe(Y.setTargetingForAdUnitsGPTAsync,!!i)}function v(e,t,n){var d,s=o.getSlotNameById(t),c={},u={},l=0,g=r.require("providermanager");return i.each(e,function(e,o){if(e.test_mode!==!0||r.isTestModeForProvider(o)){if("10000"===e.prvid){var f=g.getYbncaIdByConfig(e);e.prvid=f}var v=g.getBidderForId(o);i.isSet(v)&&(e.code=s,e.crid=t,e.pageId=a.getCurrentPage(),i.isSet(n)&&r.setTestDataForPlacement(s,"m=ref"),d=K[v],c[v]=1,i.isSet(e.prvid)&&(u[e.prvid]=!0),void 0===d&&(d={bidderCode:v,bids:[]},K[d.bidderCode]=d),d.bids.push(e),l+=1)}}),[c,l,u]}function m(e,t){var n=[];for(var r in K)K.hasOwnProperty(r)&&n.push(K[r]);i.isFunction(e)&&n.sort(e),d.getBidsRevamped(n,t)}function p(e,n){var r;K={};var d=o.getAllProviderConfig();i.each(d,function(t,d){var s=o.getSlotNameById(d);e[s]===!0&&(r=v(t,d,n),a.registerAuction({adunitCode:s,expectedBids:r[1],pageId:a.getCurrentPage(),bidders:r[0],providers:r[2]}),i.addToEventQueue("auctionEnd",s,B))}),m(t.sort,n)}function w(e){var t=!0,n=o.getAllSlots();return i.each(n,function(n,r){t&&i.isSet(n.code)&&(t=a.isAuctionClosedForAdUnitCode(e,n.code))}),t}function B(e,t){if(r.isAmpRequest())return void z.triggerAMPDFP(e.src);var n=w(a.getCurrentPage());i.consoleLog("Auction Ends for ",e.src,t),i.consoleLog("All Auction closed :"+n),n&&S()}function A(){Y.triggerDFP()}function S(){if(r.needsGptRequest()&&!r.isMnetBidderRequest())A();else{var e;try{e=window._mNRequire(["customutil"])[0]}catch(t){}i.isSet(e)&&i.isFunction(e.triggerDFP)&&e.triggerDFP()}}function b(){if(r.isMnetBidderRequest()){var e=r.require("mnethbadaptercontroller");i.isSet(e)&&i.isFunction(e.callMnetBidderCallback)&&e.callMnetBidderCallback()}}function h(){if(r.isMnetBidderRequest()){var e=r.getAuctionTimeForMnetBidderRequest();setTimeout(function(){i.triggerEvent("auctionEnd","global")},e)}}function I(){i.addToEventQueue("auctionEnd","global",b),h()}function x(){i.addToEventQueue("auctionEnd","global",S),r.getGptRequestDelay()&&(i.isFunction(window.advBidxc.loadGPT)||clearTimeout(window.advBidxc.loadGPT),setTimeout(S,r.getGptRequestDelay()))}function E(){return r.isDisableUrlRegex()||-1!==r.getPublisherUrl().indexOf("force_hbnobid=1")}function P(){return r.hasForcedRequestLimit()&&i.fromIE()&&parseInt(i.ua.split("msie")[1],10)<=9}function R(){var e=r.require("customutil");return i.isSet(e)&&i.isFunction(e.isCompletelyDisabled)?e.isCompletelyDisabled():!1}function y(){return J.disable===!0||E()||i.isMobile()&&!s.supportStorage()||P()||R()||i.inIframe&&r.isBidxcDisabledInsideIframe()}function D(){r.doPrefetchOnLoad()?i.eventLib.addEvent(window,"load",function(){H()}):i.DOMLoadObserver.getInstance().onDOMLoad(function(){H()})}function T(){var e=r.require("antiadblock");i.isSet(e)&&e.init()}function C(){if(t&&t.inImageProd){var e=r.require("inimagemanager");i.isSet(e)&&e.init()}}function q(){var e=r.require("mnetcookiesyncmanager");i.addToEventQueue("idleTime","global",i.getProxy(e.initiateCookieSync,[]))}function F(){if(z=r.require("ampdfpmanager"),y()||!o.hasValidConfig())return void a.setStatus(J.status.FAILED);var e=o.getAllGuaranteedAdunitCodes(),i=l(e);q(),p(i),D()}function N(){if(Y=r.require("dfpmanager"),y()||!o.hasValidConfig())return S(),void a.setStatus(J.status.FAILED);r.isMnetBidderRequest()||(Z=r.require("gptmanager"),Z.init());var e=o.getAllGuaranteedAdunitCodes(),i=l(e);q(),x(),I(),p(i),D(),C(),T()}function _(){if(r.isHeatmapEnabled()){var e=r.require("hmManager");i.isSet(e)&&e.init()}}function M(){r.incrSessionDepth(),i.clock.tick("init");var e=r.require("dynamicsizingcontroller");e&&e.updateAndIntersectSizes(),r.isAmpRequest()?F():N(),u(),_()}function G(){var t=r.require("infinitescrollmanager"),n=r.require("customutil");if(r.isInfiniteScrollEnabled()){if(i.isSet(n)&&i.isFunction(n.parseSlotID))a.newAuction();else{if(!i.isSet(t)||!i.isFunction(t.init))return void e.pushError("Infinite Scroll manager is breaking");t.init()}if(i.resetEvents(),i.triggerEvent("resetAw","command",!0),!y()&&o.hasValidConfig()){var d=o.getAllGuaranteedAdunitCodes(),s=l(d);p(s),U(!0)}}}function L(e){var t=a.getCurrentPage(),n=!0;i.resetEvents(),i.isSet(r.getGoogleRefreshDelay())&&(n=!1),e=e||o.getAllGuaranteedAdunitCodes(),i.each(e,function(e){Y.clearSlotsTargetedMap(t,e),Y.clearTargeting(e,t,!0)}),i.triggerEvent("all:reset","command",!0,{placements:e,pageId:t});var d=l(e);p(d,n),U(!1,!0)}function O(e){i.isArray(e)&&e.length>0&&p(l(e))}function k(e){return e&&(r.getRefreshPrefetchDelayTime()||100)||r.getPrefetchDelayTime()||0}function U(e,n){var r,o=!!(t&&t.cbInfo&&t.cbInfo.cacheDisabled);if(s.supportStorage()&&!o){if(r=k(n),!e&&r>0)return void setTimeout(function(){U(!0)},r);i.triggerEventWithBeforeAfter("prefetch","global"),i.triggerEvent("afterAuction","global")}}function H(){i.triggerEvent("idleTime","global"),r.isHdHome()&&r.disablePrefetchForHome()||U()}function Q(){try{j=j||window._mNRequire(["mnetadxcontroller"])[0]}catch(e){}return j}function V(e,t,n){var r=o.getSlotNameById(t);if(i.isSet(r))return i.isSet(n)?d.renderExternal(e,n,r,null,"0"):void g(e,r,"0")}function W(e){var t=[];i.isSet(e)&&i.isArray(e)||(t=o.getAllGuaranteedAdunitCodes()),i.each(e,function(e){var n=o.getSlotNameById(e);i.isSet(n)&&t.push(n)}),0!==t.length&&(o.enableSlotsForAdapterRefresh(t),i.triggerEvent("all:reset","command",!0,{placements:t,pageId:a.getCurrentPage()}),I(),p(l(t)))}var z,Y,Z,j,J=t.headerBidder,K={},X={};return X.push=function(e){i.isFunction(e)&&e.call(null)},window.advBidxc.renderExternal=d.renderExternal,window.advBidxc.renderSuccess=d.renderSuccess,window.advBidxc.renderAd=g,window.advBidxc.setTargetingForAdUnitsGPTAsync=f,window.advBidxc.next=G,window.advBidxc.refresh=L,window.advBidxc.getBidsForSlots=O,window.advBidxc.renderAdUnit=V,window.advBidxc.refreshMnetBids=W,{init:M}}),window._mNRequire(["_mNRP","util","mnetHbConsole","config","init"],function(e,i,t,n,r){"use strict";e.setType("HB"),i.clock.start(),1===n.features.seo?setTimeout(i.getProxy(r.init,[],r),0):r.init(),t.bootstrap()});} catch (err) {
    var errObj = {};
    var errStacktrace = '';
    var userAgent = encodeURIComponent(window.navigator.userAgent);
    if (err.stack) {errStacktrace = err.stack;}
    else if (err.s) {errStacktrace = err.s;}
    else if (err.stacktrace) {errStacktrace = err.stacktrace;}
    else errStacktrace = 'No StackTrace';
    var objTrace = '';
    for ( var x in err) {
        if (err.hasOwnProperty && err.hasOwnProperty(x)) {
            objTrace += x + " : '" + err[x] + "',";
        }
    }
    errObj.logLevel = 3;
    errObj.errorVal = {};
    errObj.errorVal.name = "bidExchange";
    errObj.errorVal.type = "HB";
    errObj.errorVal.message = "bidExchange encountered an error";
    errObj.errorVal.stack = errStacktrace;
    errObj.errorVal.objTrace = objTrace;
    var errorString = '';
    if (typeof JSON === "object" && typeof JSON.stringify !== "undefined") {
            errorString = JSON.stringify(errObj);
    } else {
        errorString = errObj.errorVal.name + '@#@' + errObj.errorVal.type + '@#@' + errStacktrace + '@#@' + objTrace;
    }
    errorString = encodeURIComponent("[" + errorString + "]");
    var urlSrc = 'https://qsearch-a.akamaihd.net/nerrping.php?userAgent=' + userAgent + '&requrl=' + encodeURIComponent(window.location.href) + '&cid=8CUL3HXFY&img=logo.gif&d=' + errorString;
    var imgx  = new Image();
    imgx.src = urlSrc;
};