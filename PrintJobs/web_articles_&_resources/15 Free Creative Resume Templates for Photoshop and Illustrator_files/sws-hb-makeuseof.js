
var swshb={};swshb.initTime=(new Date).getTime();swshb.analyticsEnabled=true;swshb.analyticsConsoleOutputEnabled=true;swshb.analytics={};swshb.influxDbUrl="http://influx.h-bid.com/write";swshb.winningBidOutbid=true;swshb.auctionTimeout=2500;swshb.auctionStartTime=0;swshb.auctionTimeoutDelay=0;swshb.auctionTimeoutMeasured=0;swshb.auctionCurrency="USD";swshb.cdnUrl="http://static.h-bid.com";swshb.consoleLogPrefix="[SWS-HB] ";swshb.adSlot300x250;function swshbRefreshSlotSidebar4(){swshbRefreshSlot(swshb.adSlot300x250)}swshb.requestBidsTimestamp;swshb.adUnits=[{code:"div-gpt-ad-1490778855534-0",name:"makeuseof.com:sidebar-4",priceFloor:{enabled:true,currency:swshb.auctionCurrency,value:"0.00"},sizes:[[300,250]],bids:[{bidder:"openx",params:{unit:"538792159",delDomain:"snigel-d.openx.net"}},{bidder:"sekindo",params:{placementId:"11006978"}},{bidder:"memeglobal",params:{tagid:"153"}},{bidder:"sovrn",params:{tagid:"445475"}},{bidder:"rubicon",params:{accountId:"14598",siteId:"79822",zoneId:"540634"}},]}];swshb.waitOnFunctions=1+Object.keys(swshb.adUnits).length;var pbjs=pbjs||{};pbjs.que=pbjs.que||[];pbjs.que.push(function(){pbjs.setPriceGranularity("auto")});pbjs.bidderSettings={openx:{bidCpmAdjustment:function(a){var b="EUR";var c=0;return swshbAdjustBidderCpm(a,b,c)}},yieldbot:{bidCpmAdjustment:function(a){var b="USD";var c=0;return swshbAdjustBidderCpm(a,b,c)}},sekindo:{bidCpmAdjustment:function(a){var b="USD";var c=0.25;return swshbAdjustBidderCpm(a,b,c)}},pulsepoint:{bidCpmAdjustment:function(a){var b="USD";var c=0;return swshbAdjustBidderCpm(a,b,c)}},memeglobal:{bidCpmAdjustment:function(a){var b="USD";var c=0;return swshbAdjustBidderCpm(a,b,c)}},sovrn:{bidCpmAdjustment:function(a){var b="USD";var c=0;return swshbAdjustBidderCpm(a,b,c)}},rubicon:{bidCpmAdjustment:function(a){var b="USD";var c=0.2;return swshbAdjustBidderCpm(a,b,c)}},indexExchange:{bidCpmAdjustment:function(a){var b="USD";var c=0;return swshbAdjustBidderCpm(a,b,c)}}};var googletag=googletag||{};googletag.cmd=googletag.cmd||[];googletag.cmd.push(function(){googletag.pubads().disableInitialLoad()});(function swshbLoadPrebid(){var a=document.createElement("script");a.type="text/javascript";a.src=swshb.cdnUrl+"/prebid/0.21.0/prebid.js";a.async=true;target=document.getElementsByTagName("head")[0];target.insertBefore(a,target.firstChild)})();(function swshbLoadExchangeRates(){var a=document.createElement("script");a.type="text/javascript";a.src=swshb.cdnUrl+"/currency/currencyExchangeRates.js";a.async=true;target=document.getElementsByTagName("head")[0];target.insertBefore(a,target.firstChild)})();(function swshbLoadGpt(){var a=document.createElement("script");a.async=true;a.type="text/javascript";var c="https:"==document.location.protocol;a.src=(c?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();pbjs.que.push(function(){pbjs.addAdUnits(swshb.adUnits);pbjs.setBidderSequence("random");pbjs.aliasBidder("appnexus","sekindo");swshb.requestBidsTimestamp=(new Date).getTime();swshb.auctionStartTime=(new Date).getTime();swshb.auctionDelay=(swshb.auctionStartTime-swshb.initTime);swshbConsoleLog("Auction started after "+swshb.auctionDelay+"ms");swshbLogAuctionStartToInflux(swshb.auctionDelay);pbjs.requestBids({timeout:swshb.auctionTimeout,bidsBackHandler:function(){swshbSendAdserverRequest();var a=20000;var c=500;var b=setInterval(function(){if(document.readyState==="complete"||a<=0){clearInterval(b);swshbWaitDone()}a-=c},c)}})});googletag.cmd.push(function(){swshb.adSlots=[];swshb.outbidSlots=[];swshb.analytics.outbidWinningBids={};googletag.pubads().addEventListener("slotRenderEnded",function(b){if(swshb.adSlots.indexOf(b.slot)>=0){var a=b.slot.getSlotElementId();swshbConsoleLog("slotRenderEnded: ",a);if(swshb.winningBidOutbid===true){swshb.outbidSlots.push(a);swshb.analytics.outbidWinningBids[a]=true}else{swshb.analytics.outbidWinningBids[a]=false}swshb.winningBidOutbid=true;swshbWaitDone()}});swshb.adSlot300x250=googletag.defineSlot("/1065821/sws-hb//makeuseof.com//sidebar-4",[300,250],"div-gpt-ad-1490778855534-0").addService(googletag.pubads());swshb.adSlots.push(swshb.adSlot300x250);googletag.pubads().enableSingleRequest();googletag.enableServices()});function swshbSendAdserverRequest(){if(pbjs.adserverRequestSent){return}pbjs.adserverRequestSent=true;googletag.cmd.push(function(){pbjs.que.push(function(){swshbCalculateTimeout();swshbConsoleLog(swshbTimeoutInfo());pbjs.setTargetingForGPTAsync();googletag.pubads().refresh();swshb.onTimeBidResponses=pbjs.getBidResponses();swshbConsoleLog("All bids available at end of auction: ",swshb.onTimeBidResponses);swshb.winningBids=pbjs.getAdserverTargeting();swshbConsoleLog("Wins sent to AdServer: ",swshb.winningBids)})})}function swshbRefreshSlot(a){swshb.initTime=(new Date).getTime();swshb.waitOnFunctions=swshb.waitOnFunctions=1+Object.keys(swshb.adUnits).length;swshb.auctionStartTime=(new Date).getTime();swshbConsoleLog("Refreshing "+a.getSlotElementId()+" ("+a.getName()+")");pbjs.que.push(function(){swshb.requestBidsTimestamp=(new Date).getTime();swshbLogAuctionStartToInflux(swshb.auctionDelay);pbjs.requestBids({timeout:swshb.auctionTimeout,adUnitCodes:[a.getSlotElementId()],bidsBackHandler:function(){swshbCalculateTimeout();swshbConsoleLog(swshbTimeoutInfo());pbjs.setTargetingForGPTAsync([a.getSlotElementId()]);googletag.pubads().refresh([a]);swshbWaitDone()}})})}function swshbAdjustBidderCpm(a,b,c){if(b===swshb.auctionCurrency&&c===0){return a}else{if(b==="EUR"&&swshb.auctionCurrency==="USD"){return(a*swshb.EURO_TO_USD)*(1-c)}else{if(b==="USD"&&swshb.auctionCurrency==="EUR"){return(a/swshb.EURO_TO_USD)*(1-c)}else{if(b===swshb.auctionCurrency&&c!==0){return a*(1-c)}else{return a}}}}}function swshbWaitDone(){swshb.waitOnFunctions-=1;if(swshb.waitOnFunctions<=0){swshbConsoleLog("All bids returned, all ad slots rendered.");swshbStartAnalytics()}}function swshbTimeoutInfo(){return("Auction timeout was set to "+swshb.auctionTimeout+"ms, triggered with "+(swshb.auctionTimeoutMeasured-swshb.auctionTimeout)+"ms delay. Resulting real auction timeout: "+swshb.auctionTimeoutMeasured+"ms")}function swshbConsoleLog(c,b){var a=(new Date).getTime()-swshb.initTime;if(typeof(b)==="undefined"){b=""}console.debug(swshb.consoleLogPrefix+"("+a+"ms): "+c,b)}function swshbCalculateTimeout(){swshb.auctionTimeoutDelay=(new Date).getTime()-swshb.auctionStartTime-swshb.auctionTimeout;swshb.auctionTimeoutDelay=(swshb.auctionTimeoutDelay<0?0:swshb.auctionTimeoutDelay);swshb.auctionTimeoutMeasured=swshb.auctionTimeout+swshb.auctionTimeoutDelay}function swshbReIndexArrayToObjectByAdUnitCode(a){reIndexedObject={};a.forEach(function(b){reIndexedObject[b.adUnitCode]=b});return reIndexedObject}function swshbStartAnalytics(){if(swshb.analyticsEnabled){swshbConsoleLog("Analytics enabled");swshb.analytics.allBidResponses=pbjs.getBidResponses();swshb.analytics.hostName=window.location.hostname;swshb.analytics.highestCpmBids=swshbReIndexArrayToObjectByAdUnitCode(pbjs.getHighestCpmBids());swshb.analytics.allWinningBids=swshbReIndexArrayToObjectByAdUnitCode(pbjs.getAllWinningBids());swshb.analytics.adUnitReports={};var a=swshb.analytics.adUnitReports;swshb.adUnits.forEach(function(b){var e=true;swshb.analytics.adUnitReports[b.code]={};var c=swshb.analytics.adUnitReports[b.code];var f=false;if(swshb.analytics.allWinningBids[b.code]){f=true}swshb.analytics.adUnitReports[b.code]["bidRequestTime"]=swshb.requestBidsTimestamp;swshb.analytics.adUnitReports[b.code]["name"]=b.name;swshb.analytics.adUnitReports[b.code]["auctionHasWinner"]=f;swshb.analytics.adUnitReports[b.code]["auctionWinnerOutbid"]=swshb.analytics.outbidWinningBids[b.code];swshb.analytics.adUnitReports[b.code]["TimeoutMs"]=swshb.auctionTimeout;swshb.analytics.adUnitReports[b.code]["effectiveTimeoutMs"]=swshb.auctionTimeoutMeasured;swshb.analytics.adUnitReports[b.code]["allBiddersTimedOut"]=true;swshb.analytics.adUnitReports[b.code]["PriceFloor"]=parseFloat(b.priceFloor.value);swshb.analytics.adUnitReports[b.code]["winningBidBelowFloor"]=false;swshb.analytics.adUnitReports[b.code]["auctionCurrency"]=swshb.auctionCurrency;swshb.analytics.adUnitReports[b.code]["bids"]={};var d=swshb.analytics.adUnitReports[b.code]["bids"];swshb.analytics.allBidResponses[b.code].bids.forEach(function(j){if(typeof(j)=="undefined"){return}d[j.bidderCode]={};var g=d[j.bidderCode];g.requestId=j.requestId;g.status=j.statusMessage;g.cpm=j.cpm;g.deltaFloor=j.cpm-b.priceFloor.value;var h=(j.requestTimestamp-swshb.requestBidsTimestamp);g.requestTimeMs=h;g.responseTimeMs=j.timeToRespond;var i=(j.timeToRespond-swshb.auctionTimeoutMeasured);g.deltaTimeoutMs=i;g.timedOut=((parseInt(i)>=0)?true:false);if(!g.timedOut){c.allBiddersTimedOut=false}var l=swshb.analytics.allWinningBids[b.code];if(typeof(l)!="undefined"){if(j.bidderCode===l.bidderCode&&j.adId===l.adId){g.isWinner=true}else{g.isWinner=false}}var k=swshb.analytics.highestCpmBids[b.code];if(typeof(k)!="undefined"){if(j.bidderCode===k.bidderCode&&j.adId===k.adId){g.hasHighestCpm=true}else{g.hasHighestCpm=false}}});if(swshb.analyticsConsoleOutputEnabled){if(console.table){swshbConsoleLog("Analytics Details for "+b.code);console.table([c]);console.table(d)}else{swshbConsoleLog("Analytics for '"+b.code+"': ",c)}}});swshbProcessAnalyticsForInfluxDb()}}function swshbLogAuctionStartToInflux(a){if(swshb.analyticsEnabled){swshb.adUnits.forEach(function(c){var b="auctionStarted auctionDelayMs="+swshb.auctionDelay+"i\n";swshbSendAnalyticsToInflux(c.name,b)})}else{return false}}function swshbProcessAnalyticsForInfluxDb(){var e="";for(var k in swshb.analytics.adUnitReports){var f=swshb.analytics.adUnitReports[k];var a="";for(var c in f.bids){if(typeof(c)==="undefined"){continue}var h=f.bids[c];e+="cpms,bidder="+c+",currency="+f.auctionCurrency+" cpm="+h.cpm+"\n";e+="responseTimes,bidder="+c+" responseTimeMs="+h.responseTimeMs+"i\n";e+="deltaTimeouts,bidder="+c+" deltaTimeoutMs="+h.deltaTimeoutMs+"i\n";e+="requestTimes,bidder="+c+" requestTimeMs="+h.requestTimeMs+"i\n";if(h.timedOut){e+="timedOutBids,bidder="+c+" timeOutMs="+h.deltaTimeoutMs+"\n"}if(h.isWinner){e+="wonBids,bidder="+c+" cpm="+h.cpm+"\n"}if(h.hasHighestCpm&&h.timedOut){e+="timedOutHighestBids,bidder="+c+" cpm="+h.cpm+"\n"}if(f.allBiddersTimedOut){a+=c+"="+h.deltaTimeoutMs+","}}var d="auctionsDurations auctionTimeoutMs="+f.effectiveTimeoutMs+"i\n";var g="";if(f.auctionWinnerOutbid){var j=pbjs.getAdserverTargeting()[k].hb_bidder;var i=swshb.analytics.adUnitReports[k]["bids"][j].cpm;g="winningBidsOutbid,outbidBidder="+j+" outbidCpm="+i+"\n"}var b="";if(f.allBiddersTimedOut){b="allBiddersTimedOut "+a+"allTimedOut="+f.allBiddersTimedOut+"\n"}e+=(d+b+g);swshbSendAnalyticsToInflux(f.name,e)}}function swshbSendAnalyticsToInflux(a,b){var c=new XMLHttpRequest();c.open("POST",swshb.influxDbUrl+"?db=rt:"+a,true);c.send(b)};