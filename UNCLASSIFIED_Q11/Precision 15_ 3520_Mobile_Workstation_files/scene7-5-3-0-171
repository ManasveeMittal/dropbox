function sjGetResponse(n,t,i,r){var e="",o=t.indexOf("?"),f,u;e=o>=0?t+"&"+n:t+"?"+n;f=sjHashCode(e);e+="&id="+f;typeof i!="undefined"&&sjCallbacks.push({callback:i,id:f});typeof r!="undefined"&&sjErrCallbacks.push({callback:r,id:f});u=document.getElementById("sjScript_"+f);u&&(document.getElementsByTagName("head")[0].removeChild(u),u=null);u=document.createElement("script");u.type="text/javascript";u.id="sjScript_"+f;u.src=e;typeof u!="undefined"&&document.getElementsByTagName("head")[0].appendChild(u)}function utilsJSONResponse(n,t){for(var i=0;i<sjCallbacks.length;i++)sjCallbacks[i]!=null&&sjCallbacks[i].id==parseInt(t)&&(sjCallbacks[i].callback&&sjCallbacks[i].callback(n),delete sjCallbacks[i])}function s7jsonError(n,t){for(var r=!0,i=0;i<sjErrCallbacks.length;i++)sjErrCallbacks[i]!=null&&sjErrCallbacks[i].id==parseInt(t)&&(sjErrCallbacks[i].callback&&sjErrCallbacks[i].callback(n),delete sjErrCallbacks[i],r=!1);r}function sjDebug(){}function sjHashCode(n){var t,r,i,u;if(!n||n=="")return 1;for(t=0,r=0,i=n.length-1;i>=0;i--)u=parseInt(n.charCodeAt(i)),t=(t<<6&268435455)+u+(u<<14),(r=t&266338304)!=0&&(t=t^r>>21);return t}function sjGetResponse(n,t,i,r){var e="",o=t.indexOf("?"),f,u;e=o>=0?t+"&"+n:t+"?"+n;f=sjHashCode(e);e+="&id="+f;typeof i!="undefined"&&sjCallbacks.push({callback:i,id:f});typeof r!="undefined"&&sjErrCallbacks.push({callback:r,id:f});u=document.getElementById("sjScript_"+f);u&&(document.getElementsByTagName("head")[0].removeChild(u),u=null);u=document.createElement("script");u.type="text/javascript";u.id="sjScript_"+f;u.onerror=function(){r&&r()};u.src=e;typeof u!="undefined"&&document.getElementsByTagName("head")[0].appendChild(u)}function S7GVWTUtilsJSONResponse(n,t){for(var i=0;i<sjCallbacks.length;i++)sjCallbacks[i]!=null&&sjCallbacks[i].id==parseInt(t)&&(sjCallbacks[i].callback&&sjCallbacks[i].callback(n),delete sjCallbacks[i])}function s7jsonError(n,t){for(var r=!0,i=0;i<sjErrCallbacks.length;i++)sjErrCallbacks[i]!=null&&sjErrCallbacks[i].id==parseInt(t)&&(sjErrCallbacks[i].callback&&sjErrCallbacks[i].callback(n),delete sjErrCallbacks[i],r=!1);r}function sjDebug(){}function sjHashCode(n){var t,r,i,u;if(!n||n=="")return 1;for(t=0,r=0,i=n.length-1;i>=0;i--)u=parseInt(n.charCodeAt(i)),t=(t<<6&268435455)+u+(u<<14),(r=t&266338304)!=0&&(t=t^r>>21);return t}function sjGetResponse(n,t,i,r){var e="",o=t.indexOf("?"),f,u;e=o>=0?t+"&"+n:t+"?"+n;f=sjHashCode(e);e+="&id="+f;typeof i!="undefined"&&sjCallbacks.push({callback:i,id:f});typeof r!="undefined"&&sjErrCallbacks.push({callback:r,id:f});u=document.getElementById("sjScript_"+f);u&&(document.getElementsByTagName("head")[0].removeChild(u),u=null);u=document.createElement("script");u.type="text/javascript";u.id="sjScript_"+f;u.onerror=function(){r&&r()};u.src=e;typeof u!="undefined"&&document.getElementsByTagName("head")[0].appendChild(u)}function S7SIWTUtilsJSONResponse(n,t){for(var i=0;i<sjCallbacks.length;i++)sjCallbacks[i]!=null&&sjCallbacks[i].id==parseInt(t)&&(sjCallbacks[i].callback&&sjCallbacks[i].callback(n),delete sjCallbacks[i])}function s7jsonError(n,t){for(var r=!0,i=0;i<sjErrCallbacks.length;i++)sjErrCallbacks[i]!=null&&sjErrCallbacks[i].id==parseInt(t)&&(sjErrCallbacks[i].callback&&sjErrCallbacks[i].callback(n),delete sjErrCallbacks[i],r=!1);r}function sjDebug(){}function sjHashCode(n){var t,r,i,u;if(!n||n=="")return 1;for(t=0,r=0,i=n.length-1;i>=0;i--)u=parseInt(n.charCodeAt(i)),t=(t<<6&268435455)+u+(u<<14),(r=t&266338304)!=0&&(t=t^r>>21);return t}var com,sjCallbacks,sjErrCallbacks;if(typeof s7viewers=="undefined")s7viewers={};else if(typeof s7viewers!="object")throw new Error("Cannot initialize a root 's7viewers' package. s7viewers is not an object");s7viewers.SpinViewer||(s7viewers.SpinViewer=function(n){if(this.sdkBasePath="http://staging.scene7.com/s7sdk/2.9/",this.containerId=null,this.params={},this.handlers=[],this.onInitComplete=null,this.onInitFail=null,this.initializationComplete=!1,this.initCalled=!1,typeof n=="object"){if(n.containerId&&this.setContainerId(n.containerId),n.params)for(var t in n.params)n.params.hasOwnProperty(t)&&n.params.propertyIsEnumerable(t)&&this.setParam(t,n.params[t]);n.handlers&&this.setHandlers(n.handlers);n.localizedTexts&&this.setLocalizedTexts(n.localizedTexts)}},s7viewers.SpinViewer.cssClassName="s7spinviewer",s7viewers.SpinViewer.prototype.setContainerId=function(n){this.containerId=n||null},s7viewers.SpinViewer.getCodeBase=function(){for(var n="",f="",r=null,u,t,e,r=document.scripts?document.scripts:document.getElementsByTagName("script"),i=0;i<r.length;i++)if(u=r[i].src,t=/^\s*(http[s]?:\/\/[^\/]*)?(.*)(\/js\/SpinViewer\.js)/.exec(u),t&&t.length==4){typeof t[1]!="undefined"&&(n=t[1]);n+=t[2];f=u;break}n!=""&&n.lastIndexOf("/")!=n.length-1&&(n+="/");e=/\/etc\/dam\/viewers\//;s7viewers.SpinViewer.codebase={contentUrl:n,isDAM:e.test(f)}},s7viewers.SpinViewer.getCodeBase(),s7viewers.SpinViewer.prototype.getContentUrl=function(){return s7viewers.SpinViewer.codebase.contentUrl},s7viewers.SpinViewer.prototype.includeViewer=function(){function u(){function c(t){var r=t.s7event.asset,i,u;n.spinView.setMediaSet(r);s7sdk.browser.device.name=="desktop"&&(r.items[0]instanceof s7sdk.MediaSetDesc?(n.spinLeftButton.setCSS(".s7panleftbutton","visibility","hidden"),n.spinRightButton.setCSS(".s7panrightbutton","visibility","hidden")):(n.spinLeftButton.setCSS(".s7panleftbutton","visibility","inherit"),n.spinRightButton.setCSS(".s7panrightbutton","visibility","inherit")),r.items.length==1?(n.spinLeftButton.deactivate(),n.spinRightButton.deactivate()):(n.spinLeftButton.activate(),n.spinRightButton.activate()));n.viewerMode=="ratio"&&(i=r.items[0],i=i instanceof s7sdk.MediaSetDesc?i.items[0]:i,u=i.width/i.height,n.container.setModifier({aspect:u}));n.onInitComplete!=null&&typeof n.onInitComplete=="function"&&n.onInitComplete();n.handlers.initComplete==null||typeof n.handlers.initComplete!="function"||n.firstMediasetParsed||n.handlers.initComplete();n.firstMediasetParsed=!0}function l(t,i,r,u,f){n.appMeasurementBridge&&n.appMeasurementBridge.track(t,i,r,u,f);n.handlers.trackEvent&&n.handlers.trackEvent(t,i,r,u,f);"s7ComponentEvent"in window&&s7ComponentEvent(t,i,r,u,f)}function a(){n.container.isFullScreen()?(n.closeButton&&n.closeButton.setCSS(".s7closebutton","display","block"),n.container.cancelFullScreen()):(n.closeButton&&n.closeButton.setCSS(".s7closebutton","display","none"),n.container.requestFullScreen())}function o(n,t){var i=document.getElementById(n).className.split(" ");i.indexOf(t)==-1&&(i[i.length]=t,document.getElementById(n).className=i.join(" "))}function v(n,t){var i=n*t;return i<=31e4?1:i>31e4&&i<=92e4?2:0}function s(t,i){var r=v(t,i),u;u=r==0?"s7size_large":r==1?"s7size_small":"s7size_medium";y(n.containerId,u)}function y(n,t){var i=document.getElementById(n).className,u=/^(.*)(s7size_small|s7size_medium|s7size_large)(.*)$/gi,r;r=i.match(u)?i.replace(u,"$1"+t+"$3"):i+" "+t;i!=r&&(document.getElementById(n).className=r)}function p(t){(typeof t.target=="undefined"||t.target==document.getElementById(n.containerId+"_container"))&&(n.closeButton&&(n.container.isFullScreen()?n.closeButton.setCSS(".s7closebutton","display","none"):n.closeButton.setCSS(".s7closebutton","display","block")),h(t.s7event.w,t.s7event.h))}function w(t){n.closeButton&&(n.container.isFullScreen()?n.closeButton.setCSS(".s7closebutton","display","none"):n.closeButton.setCSS(".s7closebutton","display","block"));h(t.s7event.w,t.s7event.h);n.fullScreenButton.setSelected(n.container.isFullScreen())}function h(t,i){n.spinView.resize(t,i);s(t,i)}function b(){try{s7sdk.browser.name!="firefox"&&s7sdk.browser.name!="safari"?window.open(n.getContentUrl()+"s7sdkclose.html","_self"):s7sdk.browser.name=="safari"?(window.focus(),window.close()):window.close()}catch(t){s7sdk.Logger.log(s7sdk.Logger.WARN,"Cannot close the window")}}var i,e,t,u,r,f;n.s7params.push("aemmode",s7viewers.SpinViewer.codebase.isDAM?"1":"0");s7sdk.browser.device.name=="desktop"&&n.s7params.push("SpinView.singleclick","zoomReset");s7sdk.browser.device.name=="desktop"&&n.s7params.push("SpinView.doubleclick","reset");"ontouchstart"in window?o(n.containerId,"s7touchinput"):o(n.containerId,"s7mouseinput");i=document.getElementById(n.containerId);e=i.style.minHeight;i.style.minHeight="1px";t=document.createElement("div");t.style.position="relative";t.style.width="100%";t.style.height="100%";i.appendChild(t);u=t.offsetHeight;t.offsetHeight<=1&&(i.style.height="100%",u=t.offsetHeight);i.removeChild(t);i.style.minHeight=e;n.container=new s7sdk.Container(n.containerId,n.s7params,n.containerId+"_container");r=!1;switch(n.s7params.get("responsive","auto")){case"fit":r=!1;break;case"constrain":r=!0;break;default:r=u==0}s(n.container.getWidth(),n.container.getHeight());n.viewerMode=n.container.isFixedSize()?"fixed":r?"ratio":"free";n.trackingManager.setCallback(l);typeof AppMeasurementBridge=="function"&&(n.appMeasurementBridge=new AppMeasurementBridge(n.trackingParams));n.mediaSet=new s7sdk.MediaSet(null,n.s7params,n.containerId+"_mediaSet");n.trackingManager.attach(n.mediaSet);n.mediaSet.addEventListener(s7sdk.AssetEvent.NOTF_SET_PARSED,c,!1);n.container.addEventListener(s7sdk.event.ResizeEvent.COMPONENT_RESIZE,p,!1);n.container.addEventListener(s7sdk.event.ResizeEvent.FULLSCREEN_RESIZE,w,!1);n.spinView=new s7sdk.SpinView(n.container,n.s7params,n.containerId+"_spinView");n.trackingManager.attach(n.spinView);n.toolsButtons=document.createElement("div");n.toolsButtons.setAttribute("id",n.containerId+"_divToolsButtons");f=document.getElementById(n.container.getInnerContainerId());f.appendChild(n.toolsButtons);n.zoomInButton=new s7sdk.ZoomInButton(n.containerId+"_divToolsButtons",n.s7params,n.containerId+"_zoomInButton");n.zoomOutButton=new s7sdk.ZoomOutButton(n.containerId+"_divToolsButtons",n.s7params,n.containerId+"_zoomOutButton");n.zoomResetButton=new s7sdk.ZoomResetButton(n.containerId+"_divToolsButtons",n.s7params,n.containerId+"_zoomResetButton");n.fullScreenButton=new s7sdk.common.FullScreenButton(n.containerId+"_divToolsButtons",n.s7params,n.containerId+"_fullScreenButton");(n.s7params.get("closeButton","0")=="1"||n.s7params.get("closeButton","0").toLowerCase()=="true")&&(n.closeButton=new s7sdk.common.CloseButton(n.containerId+"_divToolsButtons",n.s7params,n.containerId+"_closeButton"),n.closeButton.addEventListener("click",b));!n.container.isPopup()||n.container.isFixedSize()||n.container.supportsNativeFullScreen()||n.fullScreenButton.setCSS(".s7fullscreenbutton","display","none");s7sdk.browser.device.name=="desktop"&&(n.divSpinButtons=document.createElement("div"),n.divSpinButtons.setAttribute("id",n.containerId+"_divSpinButtons"),n.divSpinButtons.className="s7spinbuttons",f.appendChild(n.divSpinButtons),n.spinLeftButton=new s7sdk.PanLeftButton(n.containerId+"_divSpinButtons",n.s7params,n.containerId+"_spinLeftButton"),n.spinRightButton=new s7sdk.PanRightButton(n.containerId+"_divSpinButtons",n.s7params,n.containerId+"_spinRightButton"),n.spinLeftButton.addEventListener("click",function(){n.spinView.moveFrame(s7sdk.Enum.SPIN_DIRECTION.WEST)},!1),n.spinRightButton.addEventListener("click",function(){n.spinView.moveFrame(s7sdk.Enum.SPIN_DIRECTION.EAST)},!1));n.viewerMode=="ratio"&&(i.style.height="auto");n.zoomInButton.addEventListener("click",function(){n.spinView.zoomIn()});n.zoomOutButton.addEventListener("click",function(){n.spinView.zoomOut()});n.fullScreenButton.addEventListener("click",a);n.spinView.addEventListener(s7sdk.event.CapabilityStateEvent.NOTF_SPIN_CAPABILITY_STATE,function(t){t.s7event.state.hasCapability(s7sdk.SpinCapabilityState.ZOOM_IN)?n.zoomInButton.activate():n.zoomInButton.deactivate();t.s7event.state.hasCapability(s7sdk.SpinCapabilityState.ZOOM_OUT)?n.zoomOutButton.activate():n.zoomOutButton.deactivate();t.s7event.state.hasCapability(s7sdk.SpinCapabilityState.ZOOM_RESET)?n.zoomResetButton.activate():n.zoomResetButton.deactivate()});n.zoomResetButton.addEventListener("click",function(){n.spinView.zoomReset()})}var r,i,t,n;s7sdk.Util.lib.include("s7sdk.set.MediaSet");s7sdk.Util.lib.include("s7sdk.set.SpinView");s7sdk.Util.lib.include("s7sdk.common.Button");s7sdk.Util.lib.include("s7sdk.common.Container");this.trackingManager=new s7sdk.TrackingManager;r={en:{"PanRightButton.TOOLTIP":"Spin East","PanLeftButton.TOOLTIP":"Spin West"},defaultLocale:"en"};this.s7params=new s7sdk.ParameterManager(null,null,{asset:"MediaSet.asset"},this.getContentUrl()+"SpinViewer_light.css");i="";this.s7params.params.config&&typeof this.s7params.params.config=="string"&&(i=","+(this.s7params.params.config.indexOf("/")>-1?this.s7params.params.config.split("/")[1]:this.s7params.params.config));this.s7params.setViewer("503,5.2.2"+i);this.s7params.setLocalizedTexts(r);for(t in this.params)t!="localizedtexts"?this.s7params.push(t,this.params[t]):this.s7params.setLocalizedTexts(this.params[t]);this.container=null;this.spinView=null;this.zoomInButton=null;this.zoomOutButton=null;this.zoomResetButton=null;this.closeButton=null;this.mediaSet=null;this.fullScreenButton=null;this.spinLeftButton=null;this.spinRightButton=null;this.container=document.getElementById(this.containerId);this.container.className!=""?this.container.className.indexOf(s7viewers.SpinViewer.cssClassName)!=-1||(this.container.className+=" "+s7viewers.SpinViewer.cssClassName):this.container.className=s7viewers.SpinViewer.cssClassName;n=this;this.s7params.addEventListener(s7sdk.Event.SDK_READY,function(){n.initSiteCatalyst(n.s7params,u)},!1);this.s7params.init()},s7viewers.SpinViewer.prototype.setParam=function(n,t){this.params[n]=t},s7viewers.SpinViewer.prototype.setParams=function(n){for(var r,i=n.split("&"),t=0;t<i.length;t++)r=i[t].split("="),r.length>1&&this.setParam(r[0],decodeURIComponent(i[t].split("=")[1]))},s7viewers.SpinViewer.prototype.s7sdkUtilsAvailable=function(){return typeof s7sdk!="undefined"},s7viewers.SpinViewer.prototype.init=function(){var t,r,o,n,s,u;if(this.initCalled=!0,this.initializationComplete)return this;var f=!1,e=this.sdkBasePath+"js/s7sdk/utils/Utils.js",i=null;for(i=document.scripts?document.scripts:document.getElementsByTagName("script"),t=0;t<i.length;t++)if(i[t]&&i[t].getAttribute("src")!=null&&i[t].getAttribute("src").indexOf(e)!=-1){f=!0;break}return this.s7sdkUtilsAvailable()?(s7sdk.Util.init(),this.includeViewer(),this.initializationComplete=!0):!this.s7sdkUtilsAvailable()&&f?(r=this,o=setInterval(function(){r.s7sdkUtilsAvailable()&&(clearInterval(o),s7sdk.Util.init(),r.includeViewer(),r.initializationComplete=!0)},100)):(n=document.createElement("script"),n.setAttribute("language","javascript"),n.setAttribute("type","text/javascript"),n.setAttribute("src",e),s=document.getElementsByTagName("head"),u=this,n.onload=n.onerror=function(){this.executed||(this.executed=!0,u.s7sdkUtilsAvailable()&&s7sdk.Util&&(s7sdk.Util.init(),u.includeViewer(),u.initializationComplete=!0))},n.onreadystatechange=function(){var n=this;(this.readyState=="complete"||this.readyState=="loaded")&&setTimeout(function(){n.onload();n.onreadystatechange=null},0)},s[0].appendChild(n)),this},s7viewers.SpinViewer.prototype.getDomain=function(n){var t=/(^http[s]?:\/\/[^\/]+)/i.exec(n);return t==null?"":t[1]},s7viewers.SpinViewer.prototype.setAsset=function(n){this.mediaSet?this.mediaSet.setAsset(n):this.setParam("asset",n)},s7viewers.SpinViewer.prototype.setLocalizedTexts=function(n){this.s7params?this.s7params.setLocalizedTexts(n):this.setParam("localizedtexts",n)},s7viewers.SpinViewer.prototype.initSiteCatalyst=function(n,t){var e=n.get("asset",null,"MediaSet").split(",")[0].split(":")[0],o=!1,u,r,f,i,s,h;e.indexOf("/")!=-1&&(u=s7sdk.MediaSetParser.findCompanyNameInAsset(e),r=n.get("config2"),o=r!=""&&typeof r!="undefined",o?(this.trackingParams={siteCatalystCompany:u,config2:r,isRoot:n.get("serverurl")},f="http://scene7-cdn.dell.com/s7viewers/AppMeasurementBridge.jsp?company="+u+(r==""?"":"&preset="+r),n.get("serverurl",null)&&(f+="&isRoot="+n.get("serverurl")),i=document.createElement("script"),i.setAttribute("language","javascript"),i.setAttribute("type","text/javascript"),i.setAttribute("src",f),s=document.getElementsByTagName("head"),h=this,i.onload=i.onerror=function(){this.executed||(this.executed=!0,typeof t=="function"&&t())},i.onreadystatechange=function(){var n=this;(this.readyState=="complete"||this.readyState=="loaded")&&setTimeout(function(){n.onload();n.onreadystatechange=null},0)},s[0].appendChild(i)):typeof t=="function"&&t())},s7viewers.SpinViewer.prototype.getComponent=function(n){switch(n){case"container":return this.container||null;case"spinView":return this.spinView||null;case"mediaSet":return this.mediaSet||null;case"zoomInButton":return this.zoomInButton||null;case"zoomOutButton":return this.zoomOutButton||null;case"zoomResetButton":return this.zoomResetButton||null;case"closeButton":return this.closeButton||null;case"spinLeftButton":return this.spinLeftButton||null;case"spinRightButton":return this.spinRightButton||null;case"parameterManager":return this.s7params||null;default:return null}},s7viewers.SpinViewer.prototype.setHandlers=function(n){if(!this.initCalled){this.handlers=[];for(var t in n)n.hasOwnProperty(t)&&typeof n[t]=="function"&&(this.handlers[t]=n[t])}});com?com.scene7?com.scene7.axiometricSpinViewer||(com.scene7.axiometricSpinViewer={}):com.scene7={axiometricSpinViewer:{}}:com={scene7:{axiometricSpinViewer:{}}};com.scene7.axiometricSpinViewer.spinViewerWrapper=function(n){var t=this;this.config=n;this.autispinTime=1e3;this.autospinParam=this.config.autospin?this.config.autospin:"0,1,1,1";this.autospinParamList=this.autospinParam.split(",");typeof this.autospinParamList[1]=="undefined"?(this.autospinParamList[1]="1",this.autospinParamList[2]="1",this.autospinParamList[3]="1"):typeof this.autospinParamList[2]=="undefined"?(this.autospinParamList[2]="1",this.autospinParamList[3]="1"):typeof this.autospinParamList[3]=="undefined"&&(this.autospinParamList[3]="1");this.config.params?this.config.params["SpinView.iconeffect"]="0":this.config.params={"SpinView.iconeffect":"0"};this.autospinCompleteCount=0;this.getMediaSet();this.endFrame=-1;this.isAutoSpin=!1;this.spinViewertInitCompleted=!1;this.processConfig();this.checkAddedToDOMTick=null;this.checkAddedToDOM()};com.scene7.axiometricSpinViewer.spinViewerWrapper.prototype.checkAddedToDOM=function(){var n=this;this.checkAddedToDOMTick&&clearInterval(this.checkAddedToDOMTick);this.checkAddedToDOMTick=setInterval(function(){document.getElementById(n.config.containerId)&&document.getElementById(n.config.containerId).offsetParent!==null&&(clearInterval(n.checkAddedToDOMTick),n.checkAddedToDOMTick=null,n.init())},250)};com.scene7.axiometricSpinViewer.spinViewerWrapper.prototype.init=function(){var n=this;this.spinViewer=new s7viewers.SpinViewer(this.config);this.spinViewer.setHandlers({initComplete:function(){n.spinViewertInitCompleted=!0;n.spinViewComponent=n.spinViewer.getComponent("spinView");n.spinViewinstance=document.getElementById(n.config.containerId+"_spinView");n.setupHandlers();n.supportLaptopWithTouchMode()}});this.spinViewer.init();this.container=document.getElementById(this.config.containerId);this.disablePinchZoom();this.createSpinViewerMessage()};com.scene7.axiometricSpinViewer.spinViewerWrapper.prototype.supportLaptopWithTouchMode=function(){var t="ontouchstart"in window,i=!1,n=this;document.addEventListener("mousedown",function(){i=!0},!0);document.addEventListener("mouseup",function(){i=!1},!0);this.spinViewinstance.addEventListener("mousedown",function(i){var r;t&&(r=document.createEvent("UIEvent"),r.touches=[{view:window,target:n.spinView,identifier:Date.now(),pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY}],r.initUIEvent("touchstart",!0,!0,window,1),i.stopPropagation(),i.preventDefault(),n.spinViewinstance.dispatchEvent(r))},!0);this.spinViewinstance.addEventListener("mouseup",function(i){var r;t&&(r=document.createEvent("UIEvent"),r.initUIEvent("touchend",!0,!0,window,1),i.stopPropagation(),i.preventDefault(),n.spinViewinstance.dispatchEvent(r))},!0);this.spinViewinstance.addEventListener("mousemove",function(r){var u;t&&i&&(u=document.createEvent("UIEvent"),u.initUIEvent("touchmove",!0,!0,window,1),u.touches=[{view:window,target:n.spinView,identifier:Date.now(),pageX:r.pageX,pageY:r.pageY,screenX:r.screenX,screenY:r.screenY}],r.stopPropagation(),r.preventDefault(),n.spinViewinstance.dispatchEvent(u))},!0)};com.scene7.axiometricSpinViewer.spinViewerWrapper.prototype.setupHandlers=function(){var n=this;this.spinViewComponent.addEventListener(s7sdk.event.StatusEvent.NOTF_PRELOAD_START,function(){setTimeout(function(){n.startAutospin()},3e3)});this.spinViewComponent.addEventListener(s7sdk.event.StatusEvent.NOTF_PRELOAD_COMPLETE,function(){n.isAutoSpin||n.startAutospin()})};com.scene7.axiometricSpinViewer.spinViewerWrapper.prototype.getMediaSet=function(){var n=this,t=this.config.params.serverUrl+"/"+this.config.params.asset+"?req=set,json&handler=utilsJSONResponse";sjGetResponse("",t,function(t){n.processResponse(t)},function(){})};com.scene7.axiometricSpinViewer.spinViewerWrapper.prototype.processResponse=function(n){n.set.item[0].set?(this.horizontalFramesCount=n.set.item[0].set.item.length,this.verticalFramesCount=n.set.item.length):(this.horizontalFramesCount=n.set.item.length,this.verticalFramesCount=1);typeof this.config.initialHorizontalAxis!="undefined"&&this.config.initialHorizontalAxis>=this.verticalFramesCount&&(this.log("WARNING: the initialHorizontalAxis value ["+this.config.initialHorizontalAxis+"] is bigger than available horizontal axises count ["+this.verticalFramesCount+"]"),this.config.initialHorizontalAxis=0);this.startFrame=0;this.endFrame=this.startFrame+(this.horizontalFramesCount-1);this.startAutospin()};com.scene7.axiometricSpinViewer.spinViewerWrapper.prototype.startAutospin=function(){if(this.spinViewertInitCompleted&&this.spinViewComponent.setCurrentFrameIndex(this.horizontalFramesCount*this.config.initialHorizontalAxis),this.autospinParamList[0]!=="0"&&!this.isAutoSpin&&!(this.endFrame<1)&&this.spinViewertInitCompleted){var n=this;this.autispinTime=this.autospinParamList[1]*1e3;this.autospinParamList[2]==="0"?(this.startFrame=this.horizontalFramesCount*this.config.initialHorizontalAxis,this.endFrame=this.startFrame+this.horizontalFramesCount-1):(this.endFrame=this.horizontalFramesCount*this.config.initialHorizontalAxis,this.startFrame=this.endFrame+this.horizontalFramesCount-1);this.isAutoSpin=!0;this.autospinTick=setInterval(function(){n.doAutospin()},10);this.startTime=(new Date).getTime();this.spinViewComponent.setCurrentFrameIndex(this.startFrame)}};com.scene7.axiometricSpinViewer.spinViewerWrapper.prototype.doAutospin=function(){var n,t=((new Date).getTime()-this.startTime)/this.autispinTime;t<=1?n=Math.round(this.startFrame+(this.endFrame-this.startFrame)*t):(n=this.startFrame,clearInterval(this.autospinTick),this.autospinTick=null,this.isAutoSpin=!1,this.autospinCompleteCount++,this.autospinCompleteCount<this.autospinParamList[3]-0&&this.startAutospin());this.spinViewComponent.setCurrentFrameIndex(n)};com.scene7.axiometricSpinViewer.spinViewerWrapper.prototype.getSpinViewerInstance=function(){return this.spinViewer};com.scene7.axiometricSpinViewer.spinViewerWrapper.prototype.processConfig=function(){this.config.params||(this.config.params={});this.config.params["SpinView.singleclick"]="none";this.config.params["SpinView.doubleclick"]="none"};com.scene7.axiometricSpinViewer.spinViewerWrapper.prototype.disablePinchZoom=function(){var n=this;"ontouchmove"in window&&this.container.addEventListener("touchmove",function(t){n.onTouchMove(t)},!0)};com.scene7.axiometricSpinViewer.spinViewerWrapper.prototype.onTouchMove=function(n){n.touches.length>=2&&(n.stopPropagation(),n.preventDefault())};com.scene7.axiometricSpinViewer.spinViewerWrapper.prototype.createSpinViewerMessage=function(){this.spinViewerMessage=document.createElement("div");this.spinViewerMessage.className="s7instructionalmessage";this.container.appendChild(this.spinViewerMessage);typeof this.config.instructionalMessage!="undefined"&&(this.spinViewerMessage.innerHTML=this.config.instructionalMessage)};com.scene7.axiometricSpinViewer.spinViewerWrapper.prototype.log=function(n){window.console.log(n)};sjCallbacks=[];sjErrCallbacks=[];com?com.scene7?com.scene7.gvwtViewer||(com.scene7.gvwtViewer={}):com.scene7={gvwtViewer:{}}:com={scene7:{gvwtViewer:{}}};com.scene7.gvwtViewer.S7GVWTWrapper=function(n){var t=this;this.dc=new com.scene7.gvwtViewer.S7GVWTDataController(n);com.scene7.gvwtViewer.S7GVWTWrapper.COUNTER++;this.dc.instanceCount=com.scene7.gvwtViewer.S7GVWTWrapper.COUNTER;com.scene7.gvwtViewer.S7GVWTWrapper.INSTANCES[com.scene7.gvwtViewer.S7GVWTWrapper.COUNTER]=this;this.dc.onComponentInitilized=function(){t.init()}};com.scene7.gvwtViewer.S7GVWTWrapper.COUNTER=0;com.scene7.gvwtViewer.S7GVWTWrapper.INSTANCES={};com.scene7.gvwtViewer.S7GVWTWrapper.prototype.draw=function(){this.dc.init()};com.scene7.gvwtViewer.S7GVWTWrapper.prototype.init=function(){this.dc.isIE8||this.dc.isIE7||this.dc.isIE6?(this.sivc=new com.scene7.gvwtViewer.s7GVWTStaticImageViewController(this.dc),this.sivc.init()):(this.vc=new com.scene7.gvwtViewer.S7GVWTViewController(this.dc),this.vc.init())};com.scene7.gvwtViewer.S7GVWTDataController=function(n){this.isComponentInitialized=!1;this.currentAssetIdx=-1;this.config=n;var t=navigator.userAgent.toLowerCase();this.isIE=t.indexOf("msie")!==-1&&!this.isOpera&&t.indexOf("webtv")===-1;this.isIE8=t.indexOf("msie 8")!==-1;this.isIE7=t.indexOf("msie 7")!==-1;this.isIE6=t.indexOf("msie 6")!==-1;this.utils=new com.scene7.gvwtViewer.S7GVWTUtils;this.isFS=!1;this.checkAddedToDOMTick=null;this.processConfig(n)};com.scene7.gvwtViewer.S7GVWTDataController.DEFAULT_LOCALE="en";com.scene7.gvwtViewer.S7GVWTDataController.prototype.getParentContainer=function(){return this.parentContainer||(this.parentContainer=document.getElementById(this.container),this.parentContainer.innerHTML=""),this.parentContainer};com.scene7.gvwtViewer.S7GVWTDataController.prototype.getAsset=function(n){return this.rootMediaSet.items[n]};com.scene7.gvwtViewer.S7GVWTDataController.prototype.getCurrentViewerSize=function(){var t=this.rootMediaSet.items[0],n={};return n.width=this.isFS?this.fsSize.width:this.getParentContainer().offsetWidth,n.height=this.isFS?this.fsSize.height:Math.round(t.height*n.width/t.width),n};com.scene7.gvwtViewer.S7GVWTDataController.prototype.getCurrentResetScale=function(){var n=this.rootMediaSet.items[0];return(this.isFS?this.fsSize.width:this.getParentContainer().offsetWidth)/n.width};com.scene7.gvwtViewer.S7GVWTDataController.prototype.setCurrentAssetIdx=function(n){this.currentAssetIdx=n;this.trackingHandlers&&this.trackingHandlers.galleryItemChange&&this.trackingHandlers.galleryItemChange(n)};com.scene7.gvwtViewer.S7GVWTDataController.prototype.setFullScreen=function(n){this.isFS=n};com.scene7.gvwtViewer.S7GVWTDataController.prototype.setFullScreenSize=function(n,t){this.fsSize={width:n,height:t}};com.scene7.gvwtViewer.S7GVWTDataController.prototype.processConfig=function(n){var t;this.locale="en";this.transparent=!1;this.carouselType="swatches";for(t in n)this[t]=n[t];n.serverUrl&&(this.serverUrl=n.serverUrl,this.contentUrl=this.serverUrl.split("/is/")[0]+"/is/content");this.validateConfiguration()};com.scene7.gvwtViewer.S7GVWTDataController.prototype.validateConfiguration=function(){var n,t={serverUrl:{type:"string",required:!0},container:{type:"string",required:!0},iscommand:{type:"string",required:!1}};for(n in t)if(!this[n]&&t[n].required&&this.log("ERROR: the required configuration parameter ["+n+"] is not defined."),this[n]&&typeof this[n]!==t[n].type){if(t[n].type==="array"&&typeof this[n]=="object"&&typeof this[n].length=="number")continue;this.log("WARNING: the configuration parameter ["+n+"] type is not correct. Should be ["+t[n].type+"] istead of ["+typeof this[n]+"]")}};com.scene7.gvwtViewer.S7GVWTDataController.prototype.init=function(){this.checkAddedToDOM()};com.scene7.gvwtViewer.S7GVWTDataController.prototype.checkAddedToDOM=function(){var n=this;this.checkAddedToDOMTick&&clearInterval(this.checkAddedToDOMTick);this.checkAddedToDOMTick=setInterval(function(){document.getElementById(n.container)&&document.getElementById(n.container).offsetParent!==null&&(clearInterval(n.checkAddedToDOMTick),n.checkAddedToDOMTick=null,n.doInit())},250)};com.scene7.gvwtViewer.S7GVWTDataController.prototype.doInit=function(){this.isIE8||this.isIE7||this.isIE6?this.createStaticImageDataController():(s7sdk.ZoomView||(s7sdk.Util.lib.include("s7sdk.image.ZoomView"),s7sdk.Util.lib.include("s7sdk.common.Container"),s7sdk.Util.lib.include("s7sdk.set.MediaSet"),s7sdk.Util.lib.include("s7sdk.set.Swatches"),s7sdk.Util.init()),this.createParamManager())};com.scene7.gvwtViewer.S7GVWTDataController.prototype.createParamManager=function(){function t(){n.rootMediaSet?n.notifyComponentInitComplete():n.createRootMediaSet()}var n=this;this.params=new s7sdk.ParameterManager;this.params.push("serverurl",this.serverUrl);this.params.push("ZoomView.iconeffect","0");this.params.push("ZoomView.frametransition","slide");this.params.push("ZoomView.doubleclick","none");this.params.push("ZoomView.singleclick",this.carouselType==="swatches"?"none":"zoomReset");this.params.push("Container.stagesize","10, 10");this.transparent&&(this.params.push("ZoomView.fmt","png-alpha"),this.params.push("Swatches.fmt","png-alpha"));this.params.addEventListener(s7sdk.Event.SDK_READY,t,!1);this.params.init()};com.scene7.gvwtViewer.S7GVWTDataController.prototype.createRootMediaSet=function(){function t(t){n.rootMediaSet=t.s7event.asset;n.isComponentInitCompleted?n.notifyMediasetChanged():(n.getMapInfo(n.locale),n.notifyInitCompleted())}var n=this;this.mediaSet=new s7sdk.set.MediaSet(null,this.params,null);this.mediaSet.addEventListener(s7sdk.event.AssetEvent.NOTF_SET_PARSED,t,!1);this.mediaSet.setAsset(this.asset)};com.scene7.gvwtViewer.S7GVWTDataController.prototype.getMapInfo=function(n){var t=this,i=this.asset.split("/"),r=this.contentUrl+"/"+i[0]+"/"+n+"_"+i[1],u=this.getMapsAvailable(),f=!1;u&&sjGetResponse("req=content&handler=S7GVWTUtilsJSONResponse",r,function(n){n!=null&&(f=!0,t.processMapInfo(n))},function(){n!==com.scene7.gvwtViewer.S7GVWTDataController.DEFAULT_LOCALE&&t.getMapInfo(com.scene7.gvwtViewer.S7GVWTDataController.DEFAULT_LOCALE)})};com.scene7.gvwtViewer.S7GVWTDataController.prototype.getMapsAvailable=function(){for(var t=!1,n=0;n<this.rootMediaSet.items.length;n++)if(this.rootMediaSet.items[n].maps&&this.rootMediaSet.items[n].maps.length>0){t=!0;break}return t};com.scene7.gvwtViewer.S7GVWTDataController.prototype.processMapInfo=function(n){var i,f=/<map\>([\s\S]*?)<\/map\>/mig;for(this.maps=[];(i=f.exec(n))!=null;){var t=/<rolloverKey([\s\S]*?)\/>/mig,e=t.exec(i[1]),r=e[1].split("=")[1],u=r.substring(r.indexOf('"')+1,r.lastIndexOf('"'));this.maps[u]={};t=/<headerText>([\s\S]*?)<\/headerText\>/mig;this.maps[u].headerText=t.exec(i[1])[1];t=/<infoText>([\s\S]*?)<\/infoText\>/mig;this.maps[u].infoText=t.exec(i[1])[1]}};com.scene7.gvwtViewer.S7GVWTDataController.prototype.createStaticImageDataController=function(){var n=this;this.sdc=new com.scene7.gvwtViewer.S7GVWTStaticImageDataController(this);this.sdc.onComponentInitilized=function(){n.notifyInitCompleted()};this.sdc.init()};com.scene7.gvwtViewer.S7GVWTDataController.prototype.notifyInitCompleted=function(){this.isComponentInitialized=!0;typeof this.onComponentInitilized=="function"&&this.onComponentInitilized()};com.scene7.gvwtViewer.S7GVWTDataController.prototype.log=function(n){console.log(n)};com.scene7.gvwtViewer.S7GVWTHotspotController=function(n){this.dc=n;this.hotSpotList=[];this.skipMouseUp=!1;this.activeHotspotIdx=-1};com.scene7.gvwtViewer.S7GVWTHotspotController.prototype.setContainer=function(n){this.container=n};com.scene7.gvwtViewer.S7GVWTHotspotController.prototype.hideInfoPopup=function(){this.infoPopup.className="s7gvwt-infopopup-container popover hidden-xs fade top in";this.infoPopup.style.left="0px";this.infoPopup.style.top="0px";this.infoPopup.style.width="";this.modalDialogHolder.className="modal fade not-annotated s7-modal";this.modalDialogHolder.style.display="";this.modalBackdrop.className="modal-backdrop s7modal-backdrop fade";this.modalBackdrop.style.display="";this.activeHotspotIdx=-1};com.scene7.gvwtViewer.S7GVWTHotspotController.prototype.resize=function(){this.hideInfoPopup();this.createHotpots()};com.scene7.gvwtViewer.S7GVWTHotspotController.prototype.init=function(){var t="",n="";this.infoPopup=document.createElement("div");this.infoPopup.className="s7gvwt-infopopup-container popover hidden-xs fade top in";this.container.appendChild(this.infoPopup);t+='<div class="arrow"><\/div><h3 id="s7gvt-popover-title-'+this.dc.instanceCount+'" class="popover-title">Title';t+='<button data-dismiss="popover" class="close pull-right visible-phone" type="button">×<\/button>';t+="<\/h3>";t+='<div id="s7gvt-popover-content-'+this.dc.instanceCount+'" class="popover-content"><\/div>';this.infoPopup.innerHTML=t;this.infoPopupTitle=document.getElementById("s7gvt-popover-title-"+this.dc.instanceCount);this.infoPopupContent=document.getElementById("s7gvt-popover-content-"+this.dc.instanceCount);n='<div class="modal-content">';n+='<div class="modal-header">';n+='<button aria-hidden="true" data-dismiss="modal"  id="s7gvt-btn-close-modal-title'+this.dc.instanceCount+'" class="close" type="button">×<\/button>';n+='<h3 id="s7gvt-modal-title-'+this.dc.instanceCount+'" class="modal-title">Modal Title<\/h3>';n+="<\/div>";n+='<div id="s7gvt-modal-body-'+this.dc.instanceCount+'" class="modal-body">';n+="<\/div>";n+='<div class="modal-footer">';n+='<button data-dismiss="modal" id="s7gvt-btn-close-modal-'+this.dc.instanceCount+'" class="btn btn-default" type="button">Close<\/button>';n+="<\/div>";n+="<\/div><!-- /.modal-content -->";this.modalBackdrop=document.createElement("div");this.modalBackdrop.className="modal-backdrop s7modal-backdrop fade";document.body.appendChild(this.modalBackdrop);this.modalDialogHolder=document.createElement("div");this.modalDialogHolder.className="modal fade not-annotated s7-modal";document.body.appendChild(this.modalDialogHolder);this.modalDialog=document.createElement("div");this.modalDialog.className="modal-dialog";this.modalDialogHolder.appendChild(this.modalDialog);this.modalDialog.innerHTML=n;this.modalTitle=document.getElementById("s7gvt-modal-title-"+this.dc.instanceCount);this.btnCloseModal=document.getElementById("s7gvt-btn-close-modal-"+this.dc.instanceCount);this.btnCloseModalTitle=document.getElementById("s7gvt-btn-close-modal-title"+this.dc.instanceCount);this.modalBody=document.getElementById("s7gvt-modal-body-"+this.dc.instanceCount);this.setupMouseEvents()};com.scene7.gvwtViewer.S7GVWTHotspotController.prototype.setupMouseEvents=function(){var n=this;"ontouchend"in window?(document.addEventListener("touchend",function(t){if(n.skipMouseUp){n.skipMouseUp=!1;return}n.onMouseUp(t)},!1),document.addEventListener("touchmove",function(t){n.skipMouseUp=!0;n.modalDialogHolder.style.display==="block"&&t.preventDefault()},!1)):document.body.addEventListener("mouseup",function(t){n.onMouseUp(t)},!1)};com.scene7.gvwtViewer.S7GVWTHotspotController.prototype.onMouseUp=function(n){var t=typeof n.changedTouches!="undefined"?n.changedTouches[0]:n;if(!this.dc.utils.hitTestPoint(this.infoPopup,t.clientX,t.clientY)){if(this.activeHotspotIdx>=0&&this.dc.utils.hitTestPoint(this.hotSpotList[this.activeHotspotIdx].container,t.clientX,t.clientY))return;this.hideInfoPopup()}};com.scene7.gvwtViewer.S7GVWTHotspotController.prototype.setCurrentAssetIdx=function(n){this.hideInfoPopup();this.currentAsset=this.dc.getAsset(n);this.createHotpots()};com.scene7.gvwtViewer.S7GVWTHotspotController.prototype.createHotpots=function(){var t,i,n;if(this.hotSpotList.length>0)for(n in this.hotSpotList)this.hotSpotList[n].container&&this.hotSpotList[n].container.parentNode&&(i=this.hotSpotList[n].container.parentNode,i.removeChild(this.hotSpotList[n].container),delete this.hotSpotList[n]);if(this.resetScl=this.dc.getCurrentResetScale(),this.imageSize={width:Math.round(this.currentAsset.width*this.resetScl),height:Math.round(this.currentAsset.height*this.resetScl)},this.hotSpotList=[],this.currentAsset.maps)for(t=0;t<this.currentAsset.maps.length;t++)this.createArea(this.currentAsset.maps[t],t)};com.scene7.gvwtViewer.S7GVWTHotspotController.prototype.createArea=function(n,t){var r=this,i={},o=0,s=0,f=0,e=0,u;for(this.hotSpotList.push(i),i.index=t,i.container=document.createElement("div"),i.container.style.position="absolute",i.container.className="s7gvwt-hotspot-icon",("ontouchstart"in window)&&i.container.addEventListener("touchend",function(n){if(r.skipMouseUp){r.skipMouseUp=!1;return}if(n.preventDefault(),r.activeHotspotIdx===t)r.hideInfoPopup(t);else r.onHotspotClicked(t)},!1),i.container.onclick=function(n){if(n||(n=window.event),r.activeHotspotIdx===t)r.hideInfoPopup(t);else r.onHotspotClicked(t)},u=0;u<n.coords.length;u+=2)f+=n.coords[u],e+=n.coords[u+1];return f/=n.coords.length/2,e/=n.coords.length/2,this.container.appendChild(i.container),this.dc.isFS&&(o=Math.round((this.container.offsetWidth-this.imageSize.width)/2),s=Math.round((this.container.offsetHeight-this.imageSize.height)/2)),i.container.style.top=e*this.resetScl-i.container.offsetWidth/2+s+"px",i.container.style.left=f*this.resetScl-i.container.offsetHeight/2+o+"px",i};com.scene7.gvwtViewer.S7GVWTHotspotController.prototype.onHotspotClicked=function(n){this.showInfoPopup(n)};com.scene7.gvwtViewer.S7GVWTHotspotController.prototype.showInfoPopup=function(n){var t=this.currentAsset.maps[n].rolloverKey,i=this;this.activeHotspotIdx=n;this.infoPopupTitle.innerHTML=this.dc.maps[t].headerText;this.infoPopupCloseButton=document.createElement("button");this.infoPopupCloseButton.className="close pull-right visible-phone";this.infoPopupCloseButton.innerHTML="×";this.infoPopupTitle.appendChild(this.infoPopupCloseButton);this.infoPopupCloseButton.onclick=function(){i.hideInfoPopup()};this.btnCloseModal.ontouchend=function(n){n.stopPropagation();n.preventDefault();i.hideInfoPopup()};this.btnCloseModalTitle.ontouchend=function(n){n.stopPropagation();n.preventDefault();i.hideInfoPopup()};this.infoPopupContent.innerHTML=this.dc.maps[t].infoText;this.modalTitle.innerHTML=this.dc.maps[t].headerText;this.modalBody.innerHTML=this.dc.maps[t].infoText;this.infoPopup.className="s7gvwt-infopopup-container s7show popover hidden-xs fade in";this.infoPopup.offsetWidth&&this.infoPopup.offsetWidth!==0||(this.modalBackdrop.className="modal-backdrop s7modal-backdrop fade in",this.modalBackdrop.style.display="block",this.modalDialogHolder.style.display="block",this.modalDialogHolder.className="modal fade not-annotated in s7-modal");this.adjustInfoPopup(n);this.dc.trackingHandlers&&this.dc.trackingHandlers.hotSpotActivate&&this.dc.trackingHandlers.hotSpotActivate(t)};com.scene7.gvwtViewer.S7GVWTHotspotController.prototype.adjustInfoPopup=function(n){for(var i,t,u,r=0;r<this.hotSpotList.length;r++)if(this.hotSpotList[r].index===n){i=this.hotSpotList[r];break}t={x:i.container.offsetLeft,y:i.container.offsetTop,width:i.container.offsetWidth,height:i.container.offsetHeight};this.infoPopup.style.width=this.infoPopup.offsetWidth+"px";this.infoPopup.style.left=t.x+t.width/2-this.infoPopup.offsetWidth/2+"px";this.infoPopup.style.top=t.y-this.infoPopup.offsetHeight+"px";this.infoPopup.className="s7gvwt-infopopup-container s7show popover hidden-xs fade in top";this.imageSize.height-(t.y+t.height)>this.infoPopup.offsetHeight&&(this.infoPopup.style.left=t.x+t.width/2-this.infoPopup.offsetWidth/2+"px",this.infoPopup.style.top=t.y+t.height+"px",this.infoPopup.className="s7gvwt-infopopup-container s7show popover hidden-xs fade in bottom");u=this.container.getBoundingClientRect();parseInt(this.infoPopup.style.left)+this.infoPopup.offsetWidth>this.container.offsetWidth?(this.infoPopup.style.left=t.x-this.infoPopup.offsetWidth+"px",this.infoPopup.style.top=t.y+t.height/2-this.infoPopup.offsetHeight/2+"px",this.infoPopup.className="s7gvwt-infopopup-container s7show popover hidden-xs fade in left",t.x-this.infoPopup.offsetWidth<0&&u.left<document.body.offsetWidth-(u.left+this.container.offsetWidth)&&(this.infoPopup.style.left=t.x+t.width+"px",this.infoPopup.style.top=t.y+t.height/2-this.infoPopup.offsetHeight/2+"px",this.infoPopup.className="s7gvwt-infopopup-container s7show popover hidden-xs fade in right")):parseInt(this.infoPopup.style.left)<0&&(this.infoPopup.style.left=t.x+t.width+"px",this.infoPopup.style.top=t.y+t.height/2-this.infoPopup.offsetHeight/2+"px",this.infoPopup.className="s7gvwt-infopopup-container s7show popover hidden-xs fade in right",this.infoPopup.offsetLeft+this.infoPopup.offsetWidth>this.container.offsetWidth&&u.left>document.body.offsetWidth-(u.left+this.container.offsetWidth)&&(this.infoPopup.style.left=t.x-this.infoPopup.offsetWidth+"px",this.infoPopup.style.top=t.y+t.height/2-this.infoPopup.offsetHeight/2+"px",this.infoPopup.className="s7gvwt-infopopup-container s7show popover hidden-xs fade in left"))};com.scene7.gvwtViewer.S7GVWTMouseController=function(n){this.mouseDownPoint={};this.utils=n;this.isMouseDown=!1};com.scene7.gvwtViewer.S7GVWTMouseController.prototype.setContainer=function(n){this.container=n};com.scene7.gvwtViewer.S7GVWTMouseController.prototype.init=function(){this.setMouseEvents()};com.scene7.gvwtViewer.S7GVWTMouseController.prototype.setMouseEvents=function(){var n=this;"addEventListener"in window?(this.container.addEventListener("dblclick",function(){n.onDoubleClickHandler()},!1),"ontouchstart"in window?(document.body.addEventListener("touchstart",function(t){n.onMouseDown(t)},!1),document.addEventListener("touchend",function(t){n.onMouseUp(t)},!1),document.body.addEventListener("touchmove",function(t){n.onMouseMove(t)},!1)):(document.body.addEventListener("mousedown",function(t){n.onMouseDown(t)},!1),document.addEventListener("mouseup",function(t){n.onMouseUp(t)},!1),document.body.addEventListener("mousemove",function(t){n.onMouseMove(t)},!1))):"attachEvent"in window&&this.container.attachEvent("ondblclick",function(){n.onDoubleClickHandler()})};com.scene7.gvwtViewer.S7GVWTMouseController.prototype.onDoubleClickHandler=function(){typeof this.onDoubleClick=="function"&&this.onDoubleClick()};com.scene7.gvwtViewer.S7GVWTMouseController.prototype.onMouseDown=function(n){var t,i,r;typeof n.touches!="undefined"&&typeof n.clientX=="undefined"?(r=n.touches[0],t=r.clientX,i=r.clientY):(t=n.clientX,i=n.clientY);this.utils.hitTestPoint(this.container,t,i)&&(this.isMouseDown=!0,this.mouseDownPoint={x:t,y:i})};com.scene7.gvwtViewer.S7GVWTMouseController.prototype.onMouseUp=function(){this.isMouseDown=!1;this.onMouseUpPerformed()};com.scene7.gvwtViewer.S7GVWTMouseController.prototype.onMouseMove=function(n){var t,i,u,r;if(typeof n.touches!="undefined"?(r=n.touches[0],t=r.clientX,i=r.clientY):(t=n.clientX,i=n.clientY),this.isMouseDown&&Math.abs(t-this.mouseDownPoint.x)>10&&Math.abs(t-this.mouseDownPoint.x)>=Math.abs(i-this.mouseDownPoint.y)){u=t-this.mouseDownPoint.x<0?"RIGHT":"LEFT";this.onHorizontalDragPerformed(u)}};com.scene7.gvwtViewer.S7GVWTSimpleCarouselController=function(n){this.dc=n};com.scene7.gvwtViewer.S7GVWTSimpleCarouselController.prototype.setContainer=function(n){this.container=n};com.scene7.gvwtViewer.S7GVWTSimpleCarouselController.prototype.setCurrentAssetIdx=function(n){for(var t in this.swatchList)this.swatchList[t]&&this.swatchList[t].sw&&(this.swatchList[t].sw.className=this.swatchList[t].idx===n?"active":"")};com.scene7.gvwtViewer.S7GVWTSimpleCarouselController.prototype.init=function(){this.holder=document.createElement("div");this.holder.className="carousel";this.container.appendChild(this.holder);this.swatchesContainer=document.createElement("ol");this.swatchesContainer.className="carousel-indicators";this.holder.appendChild(this.swatchesContainer);this.swatchList=[];for(var n=0;n<this.dc.rootMediaSet.items.length;n++)this.createSwatch(n)};com.scene7.gvwtViewer.S7GVWTSimpleCarouselController.prototype.createSwatch=function(n){var t={},i=this;t.idx=n;t.sw=document.createElement("li");this.swatchesContainer.appendChild(t.sw);"ontouchend"in window&&t.sw.addEventListener("touchend",function(){i.onSwatchClicked(n)},!1);"addEventListener"in window?t.sw.addEventListener("click",function(){i.onSwatchClicked(n)},!1):"attchEvent"in window&&t.sw.attachEvent("onclick",function(){i.onSwatchClicked(n)});this.swatchList.push(t)};com.scene7.gvwtViewer.S7GVWTSimpleCarouselController.prototype.onSwatchClicked=function(n){if(typeof this.onSelectionChange=="function")this.onSelectionChange(n)};com.scene7.gvwtViewer.S7GVWTStaticImageDataController=function(n){this.dc=n;this.isComponentInitialized=!1};com.scene7.gvwtViewer.S7GVWTStaticImageDataController.prototype.init=function(){this.createRootMediaSet()};com.scene7.gvwtViewer.S7GVWTStaticImageDataController.prototype.createRootMediaSet=function(){var n=this.dc.serverUrl+"/"+this.dc.asset+"?req=set,json&handler=S7GVWTUtilsJSONResponse",t=this;sjGetResponse("",n,function(n){t.processResponse(n)},function(){})};com.scene7.gvwtViewer.S7GVWTStaticImageDataController.prototype.processResponse=function(n){var t,i;if(this.rootMediaSet=[],n.set.item.length>0)for(t=0;t<n.set.item.length;t++)i={name:n.set.item[t].i.n,swatch:n.set.item[t].s?n.set.item[t].s.n:"",width:n.set.item[t].dx,height:n.set.item[t].dy},this.rootMediaSet.push(i);else i={name:n.set.item.i.n,swatch:n.set.item.s?n.set.item.s.n:"",width:n.set.item.dx,height:n.set.item.dy},this.rootMediaSet.push(i);this.notifyInitCompleted()};com.scene7.gvwtViewer.S7GVWTStaticImageDataController.prototype.notifyInitCompleted=function(){this.isComponentInitialized=!0;typeof this.onComponentInitilized=="function"&&this.onComponentInitilized()};com.scene7.gvwtViewer.s7GVWTStaticImageViewController=function(n){this.dc=n};com.scene7.gvwtViewer.s7GVWTStaticImageViewController.prototype.init=function(){this.createLayout();this.setButtonsHandlers();this.setCurrentAssetIdx(0)};com.scene7.gvwtViewer.s7GVWTStaticImageViewController.prototype.setCurrentAssetIdx=function(n){this.dc.currentAssetIdx!==n&&(this.dc.setCurrentAssetIdx(n),this.currentImageProps=this.dc.sdc.rootMediaSet[this.dc.currentAssetIdx],this.loadImage())};com.scene7.gvwtViewer.s7GVWTStaticImageViewController.prototype.checkSizeChange=function(){var n=this.container.offsetWidth;this.dc.minImageBreakpoint&&(n=Math.max(this.dc.minImageBreakpoint,this.container.offsetWidth));this.currentContainerSize&&this.currentContainerSize.width!==n&&this.loadImage()};com.scene7.gvwtViewer.s7GVWTStaticImageViewController.prototype.createLayout=function(){var n=this;"addEventListener"in window?window.addEventListener("resize",function(){n.checkSizeChange()},!1):"attachEvent"in window&&window.attachEvent("onresize",function(){n.checkSizeChange()});this.dc.getParentContainer().innerHTML="";this.container=document.createElement("div");this.container.className="s7gvwt-holder s7gvwt-static-image";this.dc.getParentContainer().appendChild(this.container);this.imageHolder=document.createElement("div");this.imageHolder.className="s7gvwt-image-holder";this.container.appendChild(this.imageHolder);this.imageContainer=document.createElement("img");this.imageContainer.className="s7gvwt-image-container";this.imageHolder.appendChild(this.imageContainer);this.btnPrevHolder=document.createElement("div");this.btnPrevHolder.className="carousel carousel-gallery s7gvwt-btnprev-holder";this.container.appendChild(this.btnPrevHolder);this.btnPrev=document.createElement("a");this.btnPrev.className="left carousel-control";this.btnPrev.href="#carousel-example-with-caption";this.btnPrevHolder.appendChild(this.btnPrev);this.btnNextHolder=document.createElement("div");this.btnNextHolder.className=" carousel carousel-gallery s7gvwt-btnnext-holder";this.container.appendChild(this.btnNextHolder);this.btnNext=document.createElement("a");this.btnNext.className="right carousel-control";this.btnNext.href="#carousel-example-with-caption";this.btnNextHolder.appendChild(this.btnNext)};com.scene7.gvwtViewer.s7GVWTStaticImageViewController.prototype.getImageUrl=function(){var n;return n=this.dc.serverUrl+"/"+this.currentImageProps.name+"?wid="+(this.dc.minImageBreakpoint?Math.max(this.dc.minImageBreakpoint,this.container.offsetWidth):this.container.offsetWidth)+(this.dc.iscommnad?"&"+this.dc.iscommnad:""),this.dc.transparent&&(n+="&fmt=png-alpha"),n};com.scene7.gvwtViewer.s7GVWTStaticImageViewController.prototype.loadImage=function(){var n=this;this.currentContainerSize={width:this.dc.minImageBreakpoint?Math.max(this.dc.minImageBreakpoint,this.container.offsetWidth):this.container.offsetWidth,height:this.container.offsetHeight};this.resetScl=this.currentContainerSize.width/this.currentImageProps.width;this.imageSize={width:Math.round(this.currentImageProps.width*this.resetScl),height:Math.round(this.currentImageProps.height*this.resetScl)};this.imageContainer.src=this.getImageUrl()};com.scene7.gvwtViewer.s7GVWTStaticImageViewController.prototype.setButtonsHandlers=function(){var n=this;"ontouchend"in window?(this.btnPrev.addEventListener("touchend",function(){n.onPrevButtonClickHandler()},!1),this.btnNext.addEventListener("touchend",function(){n.onNextButtonClickHandler()},!1)):"addEventListener"in window?(this.btnPrev.addEventListener("click",function(){n.onPrevButtonClickHandler()},!1),this.btnNext.addEventListener("click",function(){n.onNextButtonClickHandler()},!1)):"attachEvent"in window&&(this.btnPrev.attachEvent("onclick",function(){n.onPrevButtonClickHandler()}),this.btnNext.attachEvent("onclick",function(){n.onNextButtonClickHandler()}))};com.scene7.gvwtViewer.s7GVWTStaticImageViewController.prototype.onNextButtonClickHandler=function(){var n=this.dc.currentAssetIdx+1;n>=this.dc.sdc.rootMediaSet.length&&(n=0);this.setCurrentAssetIdx(n)};com.scene7.gvwtViewer.s7GVWTStaticImageViewController.prototype.onPrevButtonClickHandler=function(){var n=this.dc.currentAssetIdx-1;n<0&&(n=this.dc.sdc.rootMediaSet.length-1);this.setCurrentAssetIdx(n)};com.scene7.gvwtViewer.S7GVWTSwatchGridController=function(n){this.dc=n};com.scene7.gvwtViewer.S7GVWTSwatchGridController.prototype.setContainer=function(n){this.container=n};com.scene7.gvwtViewer.S7GVWTSwatchGridController.prototype.resize=function(){this.swatches.resize(this.container.offsetWidth,this.container.offsetHeight)};com.scene7.gvwtViewer.S7GVWTSwatchGridController.prototype.setCurrentAssetIdx=function(n){this.swatches.selectSwatch(n)};com.scene7.gvwtViewer.S7GVWTSwatchGridController.prototype.init=function(){var n=this;this.swatches=new s7sdk.set.Swatches(this.container.id,this.dc.params,"s7gvwt-swatches-"+this.dc.instanceCount);this.swatches.setMediaSet(this.dc.rootMediaSet);this.swatches.addEventListener(s7sdk.event.AssetEvent.SWATCH_SELECTED_EVENT,function(t){n.onSwatchSelected(t.s7event.frame)},!1);this.resize()};com.scene7.gvwtViewer.S7GVWTSwatchGridController.prototype.onSwatchSelected=function(n){if(typeof this.onSelectionChange=="function")this.onSelectionChange(n)};com.scene7.gvwtViewer.S7GVWTUtils=function(){};com.scene7.gvwtViewer.S7GVWTUtils.prototype.hitTestPoint=function(n,t,i){var r={x:n.getBoundingClientRect().left,y:n.getBoundingClientRect().top},u;return r.width=n.offsetWidth,r.height=n.offsetHeight,u=!1,t>=r.x&&t<=r.x+r.width&&i>=r.y&&i<=r.y+r.height&&(u=!0),u};com.scene7.gvwtViewer.S7GVWTUtils.prototype.addClass=function(n,t){var i=n.className,u="",r;i.indexOf(t)==-1&&(r=" ",i==""&&(r=""),u=i+r+t,n.className=u)};com.scene7.gvwtViewer.S7GVWTUtils.prototype.removeClass=function(n,t){var i=n.className,r="";i.indexOf(t)!=-1&&(r=i.replace(" "+t,""),n.className=r)};com.scene7.gvwtViewer.S7GVWTUtils.prototype.hasClass=function(n,t){var i=n.className;return i.indexOf(t)!=-1};sjCallbacks=[];sjErrCallbacks=[];com.scene7.gvwtViewer.S7GVWTViewController=function(n){this.dc=n;this.doubleClickDelay=250;this.checkAddedToDOMTick=null;this.isAddedToDOM=!1};com.scene7.gvwtViewer.S7GVWTViewController.prototype.init=function(){var n=this;this.createLayout();"addEventListener"in window?window.addEventListener("resize",function(){n.checkSizeChange()},!1):"attachEvent"in window&&window.attachEvent("onresize",function(){n.checkSizeChange()});this.dc.rootMediaSet.items.length>1&&(this.dc.carouselType==="thumbnails"?this.createSwatchController():(this.createSimpleCarouselController(),this.setButtonsHandlers()));this.setCurrentAssetIdx(0);this.adjustLayout()};com.scene7.gvwtViewer.S7GVWTViewController.prototype.checkAddedToDOM=function(){var n=this;this.checkAddedToDOMTick||(this.checkAddedToDOMTick=setInterval(function(){!n.isAddedToDOM&&n.dc.getParentContainer()&&n.dc.getParentContainer().offsetParent!==null&&n.viewerHolder.offsetWidth>0&&n.adjustLayout();n.isAddedToDOM=n.dc.getParentContainer()&&n.dc.getParentContainer().offsetParent!==null&&n.viewerHolder.offsetWidth>0},250))};com.scene7.gvwtViewer.S7GVWTViewController.prototype.setCurrentAssetIdx=function(n){var t;this.dc.currentAssetIdx!==n&&(this.dc.setCurrentAssetIdx(n),this.scc?this.scc.setCurrentAssetIdx(n):this.sc&&this.sc.setCurrentAssetIdx(n),t=this.dc.getAsset(n),(t.type===s7sdk.ItemDescType.IMG||t.type===s7sdk.ItemDescType.IMAGE_SET)&&(this.createZVC(),this.dc.currentMode="image",this.zvc.setAsset(t,n)))};com.scene7.gvwtViewer.S7GVWTViewController.prototype.checkSizeChange=function(){this.zvc&&(this.dc.getParentContainer().offsetParent!=null&&(this.viewerHolder.offsetWidth!==this.zvc.getComponentSize().width||this.container.isFullScreen())&&this.adjustLayout(),this.checkAddedToDOM())};com.scene7.gvwtViewer.S7GVWTViewController.prototype.onFullscreen=function(n){this.dc.setFullScreen(this.container.isFullScreen());this.dc.setFullScreenSize(n.s7event.w,n.s7event.h);this.adjustLayout()};com.scene7.gvwtViewer.S7GVWTViewController.prototype.adjustLayout=function(){var n=this.dc.getCurrentViewerSize(),t=this.carouselContainer.getBoundingClientRect(),i=this.containerInstance.getBoundingClientRect();this.zvc.resize();typeof this.deltaTop!="undefined"||this.container.isFullScreen()||(this.deltaTop=t.top-this.container.getHeight()-i.top);this.container.resize(n.width,this.container.isFullScreen()?n.height:n.height+this.deltaTop+t.height);this.sc&&this.sc.resize()};com.scene7.gvwtViewer.S7GVWTViewController.prototype.onResizeViewer=function(n){this.container.isFullScreen()&&this.dc.setFullScreenSize(n.s7event.w,n.s7event.h);this.checkSizeChange()};com.scene7.gvwtViewer.S7GVWTViewController.prototype.createLayout=function(){var n=this.dc.getCurrentViewerSize(),t=this;this.viewerHolder=document.createElement("div");this.viewerHolder.className="s7gvwt-holder";this.viewerHolder.id="s7gvwt-holder-"+this.dc.instanceCount;this.dc.getParentContainer().appendChild(this.viewerHolder);this.container=new s7sdk.Container(this.viewerHolder.id,this.dc.params,"s7gvwt-container-"+this.dc.instanceCount);this.container.addEventListener(s7sdk.event.ResizeEvent.FULLSCREEN_RESIZE,function(n){t.onFullscreen(n)},!1);this.container.addEventListener(s7sdk.event.ResizeEvent.COMPONENT_RESIZE,function(n){t.onResizeViewer(n)},!1);this.container.resize(n.width,n.height);this.containerInstance=document.getElementById("s7gvwt-container-"+this.dc.instanceCount);this.containerInnerInstance=document.getElementById(this.container.getInnerContainerId());this.holder=document.createElement("div");this.holder.className="s7gvwt-components-container"+(this.dc.carouselType==="swatches"?" s7gvwt-nozoom":"");this.containerInnerInstance.appendChild(this.holder);this.zoomViewContainer=document.createElement("div");this.zoomViewContainer.className="s7gvwt-zoomview-container";this.zoomViewContainer.id="s7gvwt-zoomview-container-"+this.dc.instanceCount;this.holder.appendChild(this.zoomViewContainer);this.hotspotContainer=document.createElement("div");this.hotspotContainer.className="s7gvwt-hotspot-container text-gray-medium";this.holder.appendChild(this.hotspotContainer);this.carouselContainer=document.createElement("div");this.holder.appendChild(this.carouselContainer);this.dc.carouselType==="thumbnails"?(this.carouselContainer.className="s7gvwt-swatchgrid-container",this.carouselContainer.id="s7gvwt-swatchgrid-container-"+this.dc.instanceCount):this.carouselContainer.className="s7gvwt-carousel-container";this.dc.carouselType==="swatches"&&(this.btnPrevHolder=document.createElement("div"),this.btnPrevHolder.className="carousel carousel-gallery s7gvwt-btnprev-holder",this.holder.appendChild(this.btnPrevHolder),this.btnPrev=document.createElement("a"),this.btnPrev.className="left carousel-control",this.btnPrev.href="#carousel-example-with-caption",this.btnPrevHolder.appendChild(this.btnPrev),this.btnNextHolder=document.createElement("div"),this.btnNextHolder.className=" carousel carousel-gallery s7gvwt-btnnext-holder",this.holder.appendChild(this.btnNextHolder),this.btnNext=document.createElement("a"),this.btnNext.className="right carousel-control",this.btnNext.href="#carousel-example-with-caption",this.btnNextHolder.appendChild(this.btnNext))};com.scene7.gvwtViewer.S7GVWTViewController.prototype.createZVC=function(){var n=this;this.zvc||(this.zvc=new com.scene7.gvwtViewer.S7GVWTZoomViewController(this.dc),this.zvc.setContainer(this.zoomViewContainer),this.zvc.setHotspotContainer(this.hotspotContainer),this.zvc.onAssetChange=function(t){n.onZoomAssetChange(t)},this.zvc.init())};com.scene7.gvwtViewer.S7GVWTViewController.prototype.onZoomAssetChange=function(n){for(var i=-1,t=0;t<this.dc.rootMediaSet.items.length;t++)if(this.dc.rootMediaSet.items[t].name===n){i=t;break}this.setCurrentAssetIdx(i)};com.scene7.gvwtViewer.S7GVWTViewController.prototype.createSimpleCarouselController=function(){var n=this;this.scc=new com.scene7.gvwtViewer.S7GVWTSimpleCarouselController(this.dc);this.scc.setContainer(this.carouselContainer);this.scc.onSelectionChange=function(t){n.setCurrentAssetIdx(t)};this.scc.init()};com.scene7.gvwtViewer.S7GVWTViewController.prototype.createSwatchController=function(){var n=this;this.sc=new com.scene7.gvwtViewer.S7GVWTSwatchGridController(this.dc);this.sc.setContainer(this.carouselContainer);this.sc.onSelectionChange=function(t){n.setCurrentAssetIdx(t)};this.sc.init()};com.scene7.gvwtViewer.S7GVWTViewController.prototype.setButtonsHandlers=function(){var n=this;"ontouchend"in window&&(this.btnPrev.addEventListener("touchend",function(t){t.preventDefault();n.onPrevButtonClickHandler()},!1),this.btnNext.addEventListener("touchend",function(t){t.preventDefault();n.onNextButtonClickHandler()},!1));"addEventListener"in window?(this.btnPrev.addEventListener("click",function(){n.onPrevButtonClickHandler()},!1),this.btnNext.addEventListener("click",function(){n.onNextButtonClickHandler()},!1)):"attachEvent"in window&&(this.btnPrev.attachEvent("onclick",function(){n.onPrevButtonClickHandler()}),this.btnNext.attachEvent("onclick",function(){n.onNextButtonClickHandler()}))};com.scene7.gvwtViewer.S7GVWTViewController.prototype.onNextButtonClickHandler=function(){var n=this.dc.currentAssetIdx+1;n>=this.dc.rootMediaSet.items.length&&(n=0);this.setCurrentAssetIdx(n)};com.scene7.gvwtViewer.S7GVWTViewController.prototype.onPrevButtonClickHandler=function(){var n=this.dc.currentAssetIdx-1;n<0&&(n=this.dc.rootMediaSet.items.length-1);this.setCurrentAssetIdx(n)};com.scene7.gvwtViewer.S7GVWTZoomViewController=function(n){this.dc=n;this.currentAssetName="";this.currentZoomStep=-1;this.zoomOutOnly=!1;this.pinchPerformed=!1;this.isHorizontalDragPerformed=!1;this.keepThisAssetIdx=-1;this.isTouchAvailable="ontouchstart"in window;this.isPanPerformed=!1};com.scene7.gvwtViewer.S7GVWTZoomViewController.prototype.setContainer=function(n){this.container=n};com.scene7.gvwtViewer.S7GVWTZoomViewController.prototype.setHotspotContainer=function(n){this.hotspotContainer=n};com.scene7.gvwtViewer.S7GVWTZoomViewController.prototype.getComponentSize=function(){return{width:this.zoomView.getWidth(),height:this.zoomView.getHeight()}};com.scene7.gvwtViewer.S7GVWTZoomViewController.prototype.zoomIn=function(){this.zoomView.zoomIn()};com.scene7.gvwtViewer.S7GVWTZoomViewController.prototype.resize=function(){var t=this.dc.getCurrentViewerSize(),i=this.dc.getCurrentResetScale(),n;this.zoomView.resize(t.width,t.height);n=Math.log(2)/Math.log(1/i)*2;this.keepThisAssetIdx=this.dc.currentAssetIdx;this.currentZoomStep!==n&&(this.container.style.visibility="hidden",this.currentZoomStep=n,this.zoomView.setModifier({zoomstep:n+",1"}));this.keepThisAssetIdx>-1&&this.setAsset(this.dc.getAsset(this.keepThisAssetIdx));this.hc.resize()};com.scene7.gvwtViewer.S7GVWTZoomViewController.prototype.init=function(){var n=this,i,t=!1,r=!1;window.PointerEvent&&window.addEventListener("mousemove",function(i){r?(i.stopPropagation(),i.preventDefault(),r=!1):t&&(n.isPanPerformed=!0)},!0);this.mouseEventsContainer=document.createElement("div");this.mouseEventsContainer.className="s7gvwt-mouseevents-container";this.hotspotContainer.appendChild(this.mouseEventsContainer);this.zoomView=new s7sdk.ZoomView(this.container.id,this.dc.params,"s7ZoomView_"+this.dc.instanceCount);this.zoomViewInstance=document.getElementById("s7ZoomView_"+this.dc.instanceCount);i=this.dc.getCurrentViewerSize();this.zoomView.resize(i.width,i.height);this.zoomView.addEventListener(s7sdk.event.CapabilityStateEvent.NOTF_ZOOM_CAPABILITY_STATE,function(t){n.onZoomStateChange(t)},!1);this.zoomView.addEventListener(s7sdk.event.AssetEvent.ASSET_CHANGED,function(t){n.onZoomAssetChange(t)},!1);"ontouchstart"in window&&(this.zoomViewInstance.addEventListener("touchstart",function(t){n.onMouseDown(t)},!0),this.zoomViewInstance.addEventListener("touchend",function(t){n.onMouseUp(t)},!0),this.zoomViewInstance.addEventListener("touchmove",function(t){n.onTouchMove(t)},!0));document.addEventListener("mousedown",function(){t=!0},!0);document.addEventListener("mouseup",function(){t=!1},!0);window.PointerEvent&&this.zoomViewInstance.addEventListener("pointerdown",function(){r=!0},!0);this.zoomViewInstance.addEventListener("mousedown",function(t){if(n.isTouchAvailable){var i=document.createEvent("UIEvent");i.touches=[{view:window,target:n.zoomViewInstance,identifier:Date.now(),pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY}];i.initUIEvent("touchstart",!0,!0,window,1);t.stopPropagation();t.preventDefault();n.zoomViewInstance.dispatchEvent(i)}else n.onMouseDown(t)},!0);this.zoomViewInstance.addEventListener("mouseup",function(t){var i;if(n.isTouchAvailable)i=document.createEvent("UIEvent"),i.initUIEvent("touchend",!0,!0,window,1),t.stopPropagation(),t.preventDefault(),n.zoomViewInstance.dispatchEvent(i);else n.onMouseUp(t)},!0);this.zoomViewInstance.addEventListener("mousemove",function(i){var r;t&&(n.isPanPerformed=!0);n.isTouchAvailable&&t&&(r=document.createEvent("UIEvent"),r.initUIEvent("touchmove",!0,!0,window,1),r.touches=[{view:window,target:n.zoomViewInstance,identifier:Date.now(),pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY}],i.stopPropagation(),i.preventDefault(),n.zoomViewInstance.dispatchEvent(r))},!0);this.hc=new com.scene7.gvwtViewer.S7GVWTHotspotController(this.dc);this.hc.setContainer(this.hotspotContainer);this.hc.init();this.createMouseController()};com.scene7.gvwtViewer.S7GVWTZoomViewController.prototype.onMouseDown=function(n){n.touches&&n.touches.length>=2||window.PointerEvent||this.zoomOutOnly&&(n.stopPropagation(),n.preventDefault())};com.scene7.gvwtViewer.S7GVWTZoomViewController.prototype.onMouseUp=function(n){if(this.pinchPerformed){n.touches&&n.touches.length===0&&(this.pinchPerformed=!1);return}this.zoomOutOnly&&!this.isPanPerformed&&(n.stopPropagation(),n.preventDefault(),this.zoomView.zoomOut());this.isPanPerformed=!1};com.scene7.gvwtViewer.S7GVWTZoomViewController.prototype.onTouchMove=function(n){n.touches.length>=2&&(this.pinchPerformed=!0,this.dc.carouselType==="swatches"&&(n.stopPropagation(),n.preventDefault()))};com.scene7.gvwtViewer.S7GVWTZoomViewController.prototype.setAsset=function(n){this.currentAssetName!==n.name&&(this.dc.utils.hasClass(this.hotspotContainer,"s7hidden")||this.dc.utils.addClass(this.hotspotContainer,"s7hidden"),this.zoomView.setItem(n))};com.scene7.gvwtViewer.S7GVWTZoomViewController.prototype.onZoomAssetChange=function(n){if(this.currentAssetName=n.s7event.asset.name,this.dc.utils.hasClass(this.hotspotContainer,"s7hidden")&&this.dc.utils.removeClass(this.hotspotContainer,"s7hidden"),this.keepThisAssetIdx>-1&&this.dc.getAsset(this.keepThisAssetIdx).name===this.currentAssetName&&(this.container.style.visibility="inherit",this.keepThisAssetIdx=-1),this.hc.setCurrentAssetIdx(n.s7event.frame),typeof this.onAssetChange=="function")this.onAssetChange(this.currentAssetName)};com.scene7.gvwtViewer.S7GVWTZoomViewController.prototype.onZoomStateChange=function(){this.updateHotspotVisibility()};com.scene7.gvwtViewer.S7GVWTZoomViewController.prototype.updateHotspotVisibility=function(){var n=this.zoomView.getCapabilityState();n.hasCapability(s7sdk.ZoomCapabilityState.ZOOM_OUT)||this.isHorizontalDragPerformed?this.dc.utils.hasClass(this.hotspotContainer,"s7hidden")||this.dc.utils.addClass(this.hotspotContainer,"s7hidden"):!n.hasCapability(s7sdk.ZoomCapabilityState.ZOOM_OUT)&&n.hasCapability(s7sdk.ZoomCapabilityState.ZOOM_IN)&&(this.dc.utils.hasClass(this.hotspotContainer,"s7hidden")&&this.dc.utils.removeClass(this.hotspotContainer,"s7hidden"),this.zoomOutOnly=!1,this.dc.utils.hasClass(this.container,"s7zoomout")&&this.dc.utils.removeClass(this.container,"s7zoomout"));n.hasCapability(s7sdk.ZoomCapabilityState.ZOOM_IN)||(this.zoomOutOnly=!0,this.dc.utils.hasClass(this.container,"s7zoomout")||this.dc.utils.addClass(this.container,"s7zoomout"));this.hc.hideInfoPopup()};com.scene7.gvwtViewer.S7GVWTZoomViewController.prototype.createMouseController=function(){var n=this;this.mc=new com.scene7.gvwtViewer.S7GVWTMouseController(this.dc.utils);this.mc.setContainer(this.mouseEventsContainer);this.mc.onDoubleClick=function(){n.dc.isIE8&&n.onDoubleClickPerformed()};this.mc.onMouseUpPerformed=function(){n.isHorizontalDragPerformed&&(n.isHorizontalDragPerformed=!1,n.updateHotspotVisibilityTick&&clearTimeout(n.updateHotspotVisibilityTick),n.updateHotspotVisibilityTick=setTimeout(function(){n.updateHotspotVisibility()},500))};this.mc.onHorizontalDragPerformed=function(t){n.isHorizontalDragPerformed=!0;n.currentAssetName===n.dc.getAsset(0).name&&t==="LEFT"||n.currentAssetName===n.dc.getAsset(n.dc.rootMediaSet.items.length-1).name&&t==="RIGHT"||n.updateHotspotVisibility()};this.mc.init()};com.scene7.gvwtViewer.S7GVWTZoomViewController.prototype.onDoubleClickPerformed=function(){this.zoomView.zoomIn()};com?com.scene7?com.scene7.siwtViewer||(com.scene7.siwtViewer={}):com.scene7={siwtViewer:{}}:com={scene7:{siwtViewer:{}}};com.scene7.siwtViewer.S7SIWTViewerWrapper=function(n){var t=this;this.dc=new com.scene7.siwtViewer.S7SIWTDataController(n);com.scene7.siwtViewer.S7SIWTViewerWrapper.COUNTER++;this.dc.instanceCount=com.scene7.siwtViewer.S7SIWTViewerWrapper.COUNTER;com.scene7.siwtViewer.S7SIWTViewerWrapper.INSTANCES[com.scene7.siwtViewer.S7SIWTViewerWrapper.COUNTER]=this;this.dc.onComponentInitilized=function(){t.init()}};com.scene7.siwtViewer.S7SIWTViewerWrapper.COUNTER=0;com.scene7.siwtViewer.S7SIWTViewerWrapper.INSTANCES={};com.scene7.siwtViewer.S7SIWTViewerWrapper.prototype.draw=function(){this.dc.init()};com.scene7.siwtViewer.S7SIWTViewerWrapper.prototype.init=function(){this.vc=new com.scene7.siwtViewer.S7SIWTViewController(this.dc);this.vc.init()};com.scene7.siwtViewer.S7SIWTDataController=function(n){this.isComponentInitialized=!1;this.config=n;var t=navigator.userAgent.toLowerCase();this.isIE=t.indexOf("msie")!==-1&&!this.isOpera&&t.indexOf("webtv")===-1;this.isIE8=t.indexOf("msie 8")!==-1;this.utils=new com.scene7.siwtViewer.S7SIWTUtils;this.processConfig(n);this.checkAddedToDOMTick=null;this.checkMapInfoLoadedTick=null};com.scene7.siwtViewer.S7SIWTDataController.DEFAULT_LOCALE="en";com.scene7.siwtViewer.S7SIWTDataController.prototype.init=function(){this.checkAddedToDOM()};com.scene7.siwtViewer.S7SIWTDataController.prototype.checkAddedToDOM=function(){var n=this;this.checkAddedToDOMTick&&clearInterval(this.checkAddedToDOMTick);this.checkAddedToDOMTick=setInterval(function(){document.getElementById(n.container)&&document.getElementById(n.container).offsetParent!==null&&(clearInterval(n.checkAddedToDOMTick),n.checkAddedToDOMTick=null,n.getImageProps())},250)};com.scene7.siwtViewer.S7SIWTDataController.prototype.getParentContainer=function(){return this.parentContainer||(this.parentContainer=document.getElementById(this.container)),this.parentContainer};com.scene7.siwtViewer.S7SIWTDataController.prototype.processConfig=function(n){var t;this.locale="en";this.transparent=!1;this.minImageBreakpoint=767;for(t in n)this[t]=n[t];n.serverUrl&&(this.serverUrl=n.serverUrl,this.contentUrl=this.serverUrl.split("/is/")[0]+"/is/content");this.validateConfiguration()};com.scene7.siwtViewer.S7SIWTDataController.prototype.validateConfiguration=function(){var n,t={serverUrl:{type:"string",required:!0},container:{type:"string",required:!0},iscommand:{type:"string",required:!1}};for(n in t)if(!this[n]&&t[n].required&&this.log("ERROR: the required configuration parameter ["+n+"] is not defined."),this[n]&&typeof this[n]!==t[n].type){if(t[n].type==="array"&&typeof this[n]=="object"&&typeof this[n].length=="number")continue;this.log("WARNING: the configuration parameter ["+n+"] type is not correct. Should be ["+t[n].type+"] istead of ["+typeof this[n]+"]")}};com.scene7.siwtViewer.S7SIWTDataController.prototype.getImageProps=function(){var n=this,t=this.serverUrl+"/"+this.asset;sjGetResponse("req=set,json&handler=S7SIWTUtilsJSONResponse"+(this.iscommand?"&"+this.iscommand:""),t,function(t){t!=null&&(n.processResponse(t),n.getMapInfo(n.locale),n.notifyInitCompleted())},function(){})};com.scene7.siwtViewer.S7SIWTDataController.prototype.processResponse=function(n){this.imageProps={};this.imageProps.name=n.set.item.i.n;this.imageProps.size={width:parseInt(n.set.item.dx),height:parseInt(n.set.item.dy)};this.imageProps.maps=[];n.set.item.map&&(this.imageProps.maps=this.processMaps(n.set.item.map))};com.scene7.siwtViewer.S7SIWTDataController.prototype.processMaps=function(n){var f=[],r=[],u,t,i;for(n.area.length>0?r=n.area:r.push(n.area),u=0;u<r.length;u++)t=r[u],i={},t.alt&&(i.alt=t.alt),t.rollover_key&&(i.rolloverKey=t.rollover_key),t.coords&&(i.coords=this.processCoords(t.coords),f.push(i));return f};com.scene7.siwtViewer.S7SIWTDataController.prototype.processCoords=function(n){for(var i=n.split(","),r=[],t=0;t<i.length;t+=2)r.push({x:parseInt(i[t]),y:parseInt(i[t+1])});return r};com.scene7.siwtViewer.S7SIWTDataController.prototype.getMapInfo=function(n){var t=this,i=this.asset.split("/"),r=this.contentUrl+"/"+i[0]+"/"+n+"_"+i[1],u=!1;this.imageProps.maps&&this.imageProps.maps.length!==0&&sjGetResponse("req=content&handler=S7SIWTUtilsJSONResponse",r,function(n){n!=null&&(u=!0,t.processMapInfo(n))},function(){n!==com.scene7.siwtViewer.S7SIWTDataController.DEFAULT_LOCALE&&t.getMapInfo(com.scene7.siwtViewer.S7SIWTDataController.DEFAULT_LOCALE)})};com.scene7.siwtViewer.S7SIWTDataController.prototype.processMapInfo=function(n){var i,f=/<map\>([\s\S]*?)<\/map\>/mig;for(this.maps=[];(i=f.exec(n))!=null;){var t=/<rolloverKey([\s\S]*?)\/>/mig,e=t.exec(i[1]),r=e[1].split("=")[1],u=r.substring(r.indexOf('"')+1,r.lastIndexOf('"'));this.maps[u]={};t=/<headerText>([\s\S]*?)<\/headerText\>/mig;this.maps[u].headerText=t.exec(i[1])[1];t=/<infoText>([\s\S]*?)<\/infoText\>/mig;this.maps[u].infoText=t.exec(i[1])[1]}};com.scene7.siwtViewer.S7SIWTDataController.prototype.notifyInitCompleted=function(){this.isComponentInitialized=!0;typeof this.onComponentInitilized=="function"&&this.onComponentInitilized()};com.scene7.siwtViewer.S7SIWTDataController.prototype.log=function(n){console.log(n)};com.scene7.siwtViewer.S7SIWTUtils=function(){};com.scene7.siwtViewer.S7SIWTUtils.prototype.hitTestPoint=function(n,t,i){var r={x:n.getBoundingClientRect().left,y:n.getBoundingClientRect().top},u;return r.width=n.offsetWidth,r.height=n.offsetHeight,u=!1,t>=r.x&&t<=r.x+r.width&&i>=r.y&&i<=r.y+r.height&&(u=!0),u};sjCallbacks=[];sjErrCallbacks=[];com.scene7.siwtViewer.S7SIWTViewController=function(n){this.dc=n;this.hotSpotList=[];this.skipMouseUp=!1;this.activeHotspotIdx=-1;this.addedToDOMTick=null;this.isAddedToDOM=!1};com.scene7.siwtViewer.S7SIWTViewController.prototype.init=function(){this.createLayout();this.setupMouseEvents()};com.scene7.siwtViewer.S7SIWTViewController.prototype.createLayout=function(){var t,n,i=this;"addEventListener"in window?window.addEventListener("resize",function(){i.checkSizeChange()},!1):"attachEvent"in window&&window.attachEvent("onresize",function(){i.checkSizeChange()});this.dc.getParentContainer().innerHTML="";this.container=document.createElement("div");this.container.className="s7siwt-image-view";this.dc.getParentContainer().appendChild(this.container);this.imageHolder=document.createElement("div");this.imageHolder.className="s7siwt-image-holder";this.container.appendChild(this.imageHolder);this.imageContainer=document.createElement("img");this.imageContainer.className="s7siwt-image-container";this.imageHolder.appendChild(this.imageContainer);this.hotspotContainer=document.createElement("div");this.hotspotContainer.className="s7siwt-hotspot-container text-gray-medium";this.container.appendChild(this.hotspotContainer);this.infoPopup=document.createElement("div");this.infoPopup.className="s7siwt-infopopup-container popover hidden-xs fade top in";this.hotspotContainer.appendChild(this.infoPopup);t="";t+='<div class="arrow"><\/div><h3 id="s7siwt-popover-title-'+this.dc.instanceCount+'" class="popover-title">';t+='<button data-dismiss="popover" class="close pull-right visible-phone" type="button">×<\/button>';t+="<\/h3>";t+='<div id="s7siwt-popover-content-'+this.dc.instanceCount+'" class="popover-content"><\/div>';n='<div class="modal-content">';n+='<div class="modal-header">';n+='<button aria-hidden="true" data-dismiss="modal" id="s7siwt-btn-close-modal-title'+this.dc.instanceCount+'" class="close" type="button">×<\/button>';n+='<h3 id="s7siwt-modal-title-'+this.dc.instanceCount+'" class="modal-title">Modal Title<\/h3>';n+="<\/div>";n+='<div id="s7siwt-modal-body-'+this.dc.instanceCount+'" class="modal-body">';n+="<\/div>";n+='<div class="modal-footer">';n+='<button data-dismiss="modal" id="s7siwt-btn-close-modal-'+this.dc.instanceCount+'" class="btn btn-default" type="button">Close<\/button>';n+="<\/div>";n+="<\/div><!-- /.modal-content -->";this.modalBackdrop=document.createElement("div");this.modalBackdrop.className="modal-backdrop s7modal-backdrop fade";document.body.appendChild(this.modalBackdrop);this.modalDialogHolder=document.createElement("div");this.modalDialogHolder.className="modal fade not-annotated s7-modal";document.body.appendChild(this.modalDialogHolder);this.modalDialog=document.createElement("div");this.modalDialog.className="modal-dialog";this.modalDialogHolder.appendChild(this.modalDialog);this.modalDialog.innerHTML=n;this.infoPopup.innerHTML=t;this.infoPopupTitle=document.getElementById("s7siwt-popover-title-"+this.dc.instanceCount);this.infoPopupContent=document.getElementById("s7siwt-popover-content-"+this.dc.instanceCount);this.modalTitle=document.getElementById("s7siwt-modal-title-"+this.dc.instanceCount);this.btnCloseModal=document.getElementById("s7siwt-btn-close-modal-"+this.dc.instanceCount);this.btnCloseModalTitle=document.getElementById("s7siwt-btn-close-modal-title"+this.dc.instanceCount);this.modalBody=document.getElementById("s7siwt-modal-body-"+this.dc.instanceCount);this.loadImage();this.checkSizeChange()};com.scene7.siwtViewer.S7SIWTViewController.prototype.setupMouseEvents=function(){var n=this;"ontouchend"in window&&(document.addEventListener("touchend",function(t){if(n.skipMouseUp){n.skipMouseUp=!1;return}n.onMouseUp(t)},!1),document.addEventListener("touchmove",function(t){n.skipMouseUp=!0;n.modalDialogHolder.style.display==="block"&&t.preventDefault()},!1));"addEventListener"in window&&document.body.addEventListener("mouseup",function(t){n.onMouseUp(t)},!1)};com.scene7.siwtViewer.S7SIWTViewController.prototype.onMouseUp=function(n){var t=typeof n.changedTouches!="undefined"?n.changedTouches[0]:n;if(!this.dc.utils.hitTestPoint(this.infoPopup,t.clientX,t.clientY)&&!this.dc.utils.hitTestPoint(this.modalDialog,t.clientX,t.clientY)){if(this.activeHotspotIdx>=0&&this.dc.utils.hitTestPoint(this.hotSpotList[this.activeHotspotIdx].container,t.clientX,t.clientY))return;this.onHotspotOut()}};com.scene7.siwtViewer.S7SIWTViewController.prototype.checkAddedToDOM=function(){var n=this;this.addedToDOMTick||(this.addedToDOMTick=setInterval(function(){!n.isAddedToDOM&&n.container.offsetWidth>0&&n.container.offsetParent!=null&&(n.currentContainerSize={width:0,height:0},n.checkSizeChange());n.isAddedToDOM=n.container.offsetWidth>0&&n.container.offsetParent!=null},250))};com.scene7.siwtViewer.S7SIWTViewController.prototype.checkSizeChange=function(){var n=this.container.offsetWidth,t=this;if(this.checkAddedToDOM(),this.container.offsetWidth>0&&this.container.offsetParent!=null&&(this.dc.minImageBreakpoint&&(n=Math.max(this.dc.minImageBreakpoint,this.container.offsetWidth)),this.currentContainerSize))if(this.currentContainerSize.width!==n){this.onHotspotOut(0);this.loadImage();this.createHotpots()}else this.currentContainerSize.width!==this.container.offsetWidth&&(this.createHotpots(),this.imageContainer.style.width=this.container.offsetWidth+"px")};com.scene7.siwtViewer.S7SIWTViewController.prototype.getImageUrl=function(){var n;return n=this.dc.serverUrl+"/"+this.dc.asset+"?wid="+(this.dc.minImageBreakpoint?Math.max(this.dc.minImageBreakpoint,this.container.offsetWidth):this.container.offsetWidth)+(this.dc.iscommand?"&"+this.dc.iscommand:""),this.dc.transparent&&(n+="&fmt=png-alpha"),n};com.scene7.siwtViewer.S7SIWTViewController.prototype.loadImage=function(){var n=this;this.imageContainer.onload=function(){n.createHotpots()};this.currentContainerSize={width:this.dc.minImageBreakpoint?Math.max(this.dc.minImageBreakpoint,this.container.offsetWidth):this.container.offsetWidth,height:this.container.offsetHeight};this.resetScl=this.currentContainerSize.width/this.dc.imageProps.size.width;this.imageSize={width:Math.round(this.dc.imageProps.size.width*this.resetScl),height:Math.round(this.dc.imageProps.size.height*this.resetScl)};this.imageContainer.style.width=this.currentContainerSize.width!==this.container.offsetWidth?this.container.offsetWidth+"px":"auto";this.imageContainer.src=this.getImageUrl()};com.scene7.siwtViewer.S7SIWTViewController.prototype.createHotpots=function(){var t,i,n;if(!this.dc.isIE8){if(this.hideInfoPopup(),this.hotSpotList.length>0)for(n in this.hotSpotList)this.hotSpotList[n].container&&this.hotSpotList[n].container.parentNode&&(i=this.hotSpotList[n].container.parentNode,i.removeChild(this.hotSpotList[n].container),delete this.hotSpotList[n]);for(this.hotSpotList=[],t=0;t<this.dc.imageProps.maps.length;t++)this.createArea(this.dc.imageProps.maps[t],t)}};com.scene7.siwtViewer.S7SIWTViewController.prototype.createArea=function(n,t){var r=this,i={},f,e=0,o=0,u,s=this.container.offsetWidth/this.dc.imageProps.size.width;for(this.hotSpotList.push(i),i.index=t,i.container=document.createElement("div"),i.container.style.position="absolute",i.container.className="s7siwt-hotspot-icon",("ontouchstart"in window)&&i.container.addEventListener("touchend",function(n){if(r.skipMouseUp){r.skipMouseUp=!1;return}if(n.preventDefault(),r.activeHotspotIdx===t)r.onHotspotOut(t);else r.onHotspotOver(t)},!1),i.container.onclick=function(n){if(n||(n=window.event),r.activeHotspotIdx===t)r.onHotspotOut(t);else r.onHotspotOver(t)},u=0;u<n.coords.length;u++)e+=n.coords[u].x,o+=n.coords[u].y;return e/=n.coords.length,o/=n.coords.length,this.hotspotContainer.appendChild(i.container),f=1,i.container.style.top=o*s*f-i.container.offsetWidth/2+"px",i.container.style.left=e*s*f-i.container.offsetHeight/2+"px",i};com.scene7.siwtViewer.S7SIWTViewController.prototype.onHotspotOver=function(n){this.showInfoPopup(n)};com.scene7.siwtViewer.S7SIWTViewController.prototype.onHotspotOut=function(){this.hideInfoPopup()};com.scene7.siwtViewer.S7SIWTViewController.prototype.showInfoPopup=function(n){var t=this.dc.imageProps.maps[n].rolloverKey,i=this;this.hideInfoPopup();this.activeHotspotIdx=n;this.infoPopupTitle.innerHTML=this.dc.maps[t].headerText;this.infoPopupCloseButton=document.createElement("button");this.infoPopupCloseButton.className="close pull-right visible-phone";this.infoPopupCloseButton.type="button";this.infoPopupCloseButton.innerHTML="×";this.infoPopupTitle.appendChild(this.infoPopupCloseButton);this.modalTitle.innerHTML=this.dc.maps[t].headerText;this.infoPopupContent.innerHTML=this.dc.maps[t].infoText;this.modalBody.innerHTML=this.dc.maps[t].infoText;this.btnCloseModal.onclick=function(t){t.stopPropagation();t.preventDefault();i.onHotspotOut(n)};this.btnCloseModalTitle.onclick=function(t){t.stopPropagation();t.preventDefault();i.onHotspotOut(n)};this.infoPopupCloseButton.onclick=function(){i.onHotspotOut(n)};this.infoPopup.className="s7siwt-infopopup-container s7show popover hidden-xs fade in";this.infoPopup.offsetWidth&&this.infoPopup.offsetWidth!==0||(this.modalBackdrop.className="modal-backdrop s7modal-backdrop fade in",this.modalBackdrop.style.display="block",this.modalDialogHolder.style.display="block",this.modalDialogHolder.className="modal fade not-annotated in s7-modal");this.adjustInfoPopup(n);this.dc.trackingHandlers&&this.dc.trackingHandlers.hotSpotActivate&&this.dc.trackingHandlers.hotSpotActivate(t)};com.scene7.siwtViewer.S7SIWTViewController.prototype.hideInfoPopup=function(){this.infoPopup.style.top="0px";this.infoPopup.style.left="0px";this.infoPopup.style.width="";this.infoPopup.className="s7siwt-infopopup-container popover hidden-xs fade top";this.modalDialogHolder.className="modal fade not-annotated s7-modal";this.modalDialogHolder.style.display="";this.modalBackdrop.className="modal-backdrop s7modal-backdrop fade";this.modalBackdrop.style.display="";this.activeHotspotIdx=-1};com.scene7.siwtViewer.S7SIWTViewController.prototype.adjustInfoPopup=function(n){var i,r,t,u;for(this.infoPopup.style.width=this.infoPopup.offsetWidth+"px",r=0;r<this.hotSpotList.length;r++)if(this.hotSpotList[r].index===n){i=this.hotSpotList[r];break}t={x:i.container.offsetLeft,y:i.container.offsetTop,width:i.container.offsetWidth,height:i.container.offsetHeight};u=this.container.getBoundingClientRect();t.x+t.width/2+this.infoPopup.offsetWidth>this.container.offsetWidth?(this.infoPopup.style.left=t.x-this.infoPopup.offsetWidth+"px",this.infoPopup.style.top=t.y+t.height/2-this.infoPopup.offsetHeight/2+"px",this.infoPopup.className="s7siwt-infopopup-container s7show popover hidden-xs fade in left",t.x-this.infoPopup.offsetWidth<0&&u.left<document.body.offsetWidth-(u.left+this.container.offsetWidth)&&(this.infoPopup.style.left=t.x+t.width+"px",this.infoPopup.style.top=t.y+t.height/2-this.infoPopup.offsetHeight/2+"px",this.infoPopup.className="s7siwt-infopopup-container s7show popover hidden-xs fade in right")):(this.infoPopup.style.left=t.x+t.width+"px",this.infoPopup.style.top=t.y+t.height/2-this.infoPopup.offsetHeight/2+"px",this.infoPopup.className="s7siwt-infopopup-container s7show popover hidden-xs fade in right",this.infoPopup.offsetLeft+this.infoPopup.offsetWidth>this.container.offsetWidth&&u.left>document.body.offsetWidth-(u.left+this.container.offsetWidth)&&(this.infoPopup.style.left=t.x-this.infoPopup.offsetWidth+"px",this.infoPopup.style.top=t.y+t.height/2-this.infoPopup.offsetHeight/2+"px",this.infoPopup.className="s7siwt-infopopup-container s7show popover hidden-xs fade in left"))}